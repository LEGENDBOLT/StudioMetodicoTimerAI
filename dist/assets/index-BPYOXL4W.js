var B0=Object.defineProperty;var P0=(l,t,o)=>t in l?B0(l,t,{enumerable:!0,configurable:!0,writable:!0,value:o}):l[t]=o;var Ie=(l,t,o)=>P0(l,typeof t!="symbol"?t+"":t,o);(function(){const t=document.createElement("link").relList;if(t&&t.supports&&t.supports("modulepreload"))return;for(const u of document.querySelectorAll('link[rel="modulepreload"]'))a(u);new MutationObserver(u=>{for(const d of u)if(d.type==="childList")for(const m of d.addedNodes)m.tagName==="LINK"&&m.rel==="modulepreload"&&a(m)}).observe(document,{childList:!0,subtree:!0});function o(u){const d={};return u.integrity&&(d.integrity=u.integrity),u.referrerPolicy&&(d.referrerPolicy=u.referrerPolicy),u.crossOrigin==="use-credentials"?d.credentials="include":u.crossOrigin==="anonymous"?d.credentials="omit":d.credentials="same-origin",d}function a(u){if(u.ep)return;u.ep=!0;const d=o(u);fetch(u.href,d)}})();function wm(l){return l&&l.__esModule&&Object.prototype.hasOwnProperty.call(l,"default")?l.default:l}var sr={exports:{}},$i={};/**
 * @license React
 * react-jsx-runtime.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Qp;function O0(){if(Qp)return $i;Qp=1;var l=Symbol.for("react.transitional.element"),t=Symbol.for("react.fragment");function o(a,u,d){var m=null;if(d!==void 0&&(m=""+d),u.key!==void 0&&(m=""+u.key),"key"in u){d={};for(var g in u)g!=="key"&&(d[g]=u[g])}else d=u;return u=d.ref,{$$typeof:l,type:a,key:m,ref:u!==void 0?u:null,props:d}}return $i.Fragment=t,$i.jsx=o,$i.jsxs=o,$i}var Xp;function Y0(){return Xp||(Xp=1,sr.exports=O0()),sr.exports}var w=Y0(),ur={exports:{}},ie={};/**
 * @license React
 * react.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Zp;function J0(){if(Zp)return ie;Zp=1;var l=Symbol.for("react.transitional.element"),t=Symbol.for("react.portal"),o=Symbol.for("react.fragment"),a=Symbol.for("react.strict_mode"),u=Symbol.for("react.profiler"),d=Symbol.for("react.consumer"),m=Symbol.for("react.context"),g=Symbol.for("react.forward_ref"),y=Symbol.for("react.suspense"),h=Symbol.for("react.memo"),v=Symbol.for("react.lazy"),S=Symbol.for("react.activity"),E=Symbol.iterator;function R(x){return x===null||typeof x!="object"?null:(x=E&&x[E]||x["@@iterator"],typeof x=="function"?x:null)}var N={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},z=Object.assign,O={};function P(x,H,F){this.props=x,this.context=H,this.refs=O,this.updater=F||N}P.prototype.isReactComponent={},P.prototype.setState=function(x,H){if(typeof x!="object"&&typeof x!="function"&&x!=null)throw Error("takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,x,H,"setState")},P.prototype.forceUpdate=function(x){this.updater.enqueueForceUpdate(this,x,"forceUpdate")};function K(){}K.prototype=P.prototype;function B(x,H,F){this.props=x,this.context=H,this.refs=O,this.updater=F||N}var V=B.prototype=new K;V.constructor=B,z(V,P.prototype),V.isPureReactComponent=!0;var Q=Array.isArray;function j(){}var J={H:null,A:null,T:null,S:null},ge=Object.prototype.hasOwnProperty;function te(x,H,F){var $=F.ref;return{$$typeof:l,type:x,key:H,ref:$!==void 0?$:null,props:F}}function de(x,H){return te(x.type,H,x.props)}function ke(x){return typeof x=="object"&&x!==null&&x.$$typeof===l}function ue(x){var H={"=":"=0",":":"=2"};return"$"+x.replace(/[=:]/g,function(F){return H[F]})}var Xe=/\/+/g;function Mt(x,H){return typeof x=="object"&&x!==null&&x.key!=null?ue(""+x.key):H.toString(36)}function rt(x){switch(x.status){case"fulfilled":return x.value;case"rejected":throw x.reason;default:switch(typeof x.status=="string"?x.then(j,j):(x.status="pending",x.then(function(H){x.status==="pending"&&(x.status="fulfilled",x.value=H)},function(H){x.status==="pending"&&(x.status="rejected",x.reason=H)})),x.status){case"fulfilled":return x.value;case"rejected":throw x.reason}}throw x}function k(x,H,F,$,oe){var re=typeof x;(re==="undefined"||re==="boolean")&&(x=null);var _e=!1;if(x===null)_e=!0;else switch(re){case"bigint":case"string":case"number":_e=!0;break;case"object":switch(x.$$typeof){case l:case t:_e=!0;break;case v:return _e=x._init,k(_e(x._payload),H,F,$,oe)}}if(_e)return oe=oe(x),_e=$===""?"."+Mt(x,0):$,Q(oe)?(F="",_e!=null&&(F=_e.replace(Xe,"$&/")+"/"),k(oe,H,F,"",function(ii){return ii})):oe!=null&&(ke(oe)&&(oe=de(oe,F+(oe.key==null||x&&x.key===oe.key?"":(""+oe.key).replace(Xe,"$&/")+"/")+_e)),H.push(oe)),1;_e=0;var at=$===""?".":$+":";if(Q(x))for(var Be=0;Be<x.length;Be++)$=x[Be],re=at+Mt($,Be),_e+=k($,H,F,re,oe);else if(Be=R(x),typeof Be=="function")for(x=Be.call(x),Be=0;!($=x.next()).done;)$=$.value,re=at+Mt($,Be++),_e+=k($,H,F,re,oe);else if(re==="object"){if(typeof x.then=="function")return k(rt(x),H,F,$,oe);throw H=String(x),Error("Objects are not valid as a React child (found: "+(H==="[object Object]"?"object with keys {"+Object.keys(x).join(", ")+"}":H)+"). If you meant to render a collection of children, use an array instead.")}return _e}function Y(x,H,F){if(x==null)return x;var $=[],oe=0;return k(x,$,"","",function(re){return H.call(F,re,oe++)}),$}function le(x){if(x._status===-1){var H=x._result;H=H(),H.then(function(F){(x._status===0||x._status===-1)&&(x._status=1,x._result=F)},function(F){(x._status===0||x._status===-1)&&(x._status=2,x._result=F)}),x._status===-1&&(x._status=0,x._result=H)}if(x._status===1)return x._result.default;throw x._result}var Me=typeof reportError=="function"?reportError:function(x){if(typeof window=="object"&&typeof window.ErrorEvent=="function"){var H=new window.ErrorEvent("error",{bubbles:!0,cancelable:!0,message:typeof x=="object"&&x!==null&&typeof x.message=="string"?String(x.message):String(x),error:x});if(!window.dispatchEvent(H))return}else if(typeof process=="object"&&typeof process.emit=="function"){process.emit("uncaughtException",x);return}console.error(x)},we={map:Y,forEach:function(x,H,F){Y(x,function(){H.apply(this,arguments)},F)},count:function(x){var H=0;return Y(x,function(){H++}),H},toArray:function(x){return Y(x,function(H){return H})||[]},only:function(x){if(!ke(x))throw Error("React.Children.only expected to receive a single React element child.");return x}};return ie.Activity=S,ie.Children=we,ie.Component=P,ie.Fragment=o,ie.Profiler=u,ie.PureComponent=B,ie.StrictMode=a,ie.Suspense=y,ie.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE=J,ie.__COMPILER_RUNTIME={__proto__:null,c:function(x){return J.H.useMemoCache(x)}},ie.cache=function(x){return function(){return x.apply(null,arguments)}},ie.cacheSignal=function(){return null},ie.cloneElement=function(x,H,F){if(x==null)throw Error("The argument must be a React element, but you passed "+x+".");var $=z({},x.props),oe=x.key;if(H!=null)for(re in H.key!==void 0&&(oe=""+H.key),H)!ge.call(H,re)||re==="key"||re==="__self"||re==="__source"||re==="ref"&&H.ref===void 0||($[re]=H[re]);var re=arguments.length-2;if(re===1)$.children=F;else if(1<re){for(var _e=Array(re),at=0;at<re;at++)_e[at]=arguments[at+2];$.children=_e}return te(x.type,oe,$)},ie.createContext=function(x){return x={$$typeof:m,_currentValue:x,_currentValue2:x,_threadCount:0,Provider:null,Consumer:null},x.Provider=x,x.Consumer={$$typeof:d,_context:x},x},ie.createElement=function(x,H,F){var $,oe={},re=null;if(H!=null)for($ in H.key!==void 0&&(re=""+H.key),H)ge.call(H,$)&&$!=="key"&&$!=="__self"&&$!=="__source"&&(oe[$]=H[$]);var _e=arguments.length-2;if(_e===1)oe.children=F;else if(1<_e){for(var at=Array(_e),Be=0;Be<_e;Be++)at[Be]=arguments[Be+2];oe.children=at}if(x&&x.defaultProps)for($ in _e=x.defaultProps,_e)oe[$]===void 0&&(oe[$]=_e[$]);return te(x,re,oe)},ie.createRef=function(){return{current:null}},ie.forwardRef=function(x){return{$$typeof:g,render:x}},ie.isValidElement=ke,ie.lazy=function(x){return{$$typeof:v,_payload:{_status:-1,_result:x},_init:le}},ie.memo=function(x,H){return{$$typeof:h,type:x,compare:H===void 0?null:H}},ie.startTransition=function(x){var H=J.T,F={};J.T=F;try{var $=x(),oe=J.S;oe!==null&&oe(F,$),typeof $=="object"&&$!==null&&typeof $.then=="function"&&$.then(j,Me)}catch(re){Me(re)}finally{H!==null&&F.types!==null&&(H.types=F.types),J.T=H}},ie.unstable_useCacheRefresh=function(){return J.H.useCacheRefresh()},ie.use=function(x){return J.H.use(x)},ie.useActionState=function(x,H,F){return J.H.useActionState(x,H,F)},ie.useCallback=function(x,H){return J.H.useCallback(x,H)},ie.useContext=function(x){return J.H.useContext(x)},ie.useDebugValue=function(){},ie.useDeferredValue=function(x,H){return J.H.useDeferredValue(x,H)},ie.useEffect=function(x,H){return J.H.useEffect(x,H)},ie.useEffectEvent=function(x){return J.H.useEffectEvent(x)},ie.useId=function(){return J.H.useId()},ie.useImperativeHandle=function(x,H,F){return J.H.useImperativeHandle(x,H,F)},ie.useInsertionEffect=function(x,H){return J.H.useInsertionEffect(x,H)},ie.useLayoutEffect=function(x,H){return J.H.useLayoutEffect(x,H)},ie.useMemo=function(x,H){return J.H.useMemo(x,H)},ie.useOptimistic=function(x,H){return J.H.useOptimistic(x,H)},ie.useReducer=function(x,H,F){return J.H.useReducer(x,H,F)},ie.useRef=function(x){return J.H.useRef(x)},ie.useState=function(x){return J.H.useState(x)},ie.useSyncExternalStore=function(x,H,F){return J.H.useSyncExternalStore(x,H,F)},ie.useTransition=function(){return J.H.useTransition()},ie.version="19.2.0",ie}var $p;function Mr(){return $p||($p=1,ur.exports=J0()),ur.exports}var xe=Mr();const F0=wm(xe);var rr={exports:{}},Wi={},cr={exports:{}},fr={};/**
 * @license React
 * scheduler.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Wp;function K0(){return Wp||(Wp=1,(function(l){function t(k,Y){var le=k.length;k.push(Y);e:for(;0<le;){var Me=le-1>>>1,we=k[Me];if(0<u(we,Y))k[Me]=Y,k[le]=we,le=Me;else break e}}function o(k){return k.length===0?null:k[0]}function a(k){if(k.length===0)return null;var Y=k[0],le=k.pop();if(le!==Y){k[0]=le;e:for(var Me=0,we=k.length,x=we>>>1;Me<x;){var H=2*(Me+1)-1,F=k[H],$=H+1,oe=k[$];if(0>u(F,le))$<we&&0>u(oe,F)?(k[Me]=oe,k[$]=le,Me=$):(k[Me]=F,k[H]=le,Me=H);else if($<we&&0>u(oe,le))k[Me]=oe,k[$]=le,Me=$;else break e}}return Y}function u(k,Y){var le=k.sortIndex-Y.sortIndex;return le!==0?le:k.id-Y.id}if(l.unstable_now=void 0,typeof performance=="object"&&typeof performance.now=="function"){var d=performance;l.unstable_now=function(){return d.now()}}else{var m=Date,g=m.now();l.unstable_now=function(){return m.now()-g}}var y=[],h=[],v=1,S=null,E=3,R=!1,N=!1,z=!1,O=!1,P=typeof setTimeout=="function"?setTimeout:null,K=typeof clearTimeout=="function"?clearTimeout:null,B=typeof setImmediate<"u"?setImmediate:null;function V(k){for(var Y=o(h);Y!==null;){if(Y.callback===null)a(h);else if(Y.startTime<=k)a(h),Y.sortIndex=Y.expirationTime,t(y,Y);else break;Y=o(h)}}function Q(k){if(z=!1,V(k),!N)if(o(y)!==null)N=!0,j||(j=!0,ue());else{var Y=o(h);Y!==null&&rt(Q,Y.startTime-k)}}var j=!1,J=-1,ge=5,te=-1;function de(){return O?!0:!(l.unstable_now()-te<ge)}function ke(){if(O=!1,j){var k=l.unstable_now();te=k;var Y=!0;try{e:{N=!1,z&&(z=!1,K(J),J=-1),R=!0;var le=E;try{t:{for(V(k),S=o(y);S!==null&&!(S.expirationTime>k&&de());){var Me=S.callback;if(typeof Me=="function"){S.callback=null,E=S.priorityLevel;var we=Me(S.expirationTime<=k);if(k=l.unstable_now(),typeof we=="function"){S.callback=we,V(k),Y=!0;break t}S===o(y)&&a(y),V(k)}else a(y);S=o(y)}if(S!==null)Y=!0;else{var x=o(h);x!==null&&rt(Q,x.startTime-k),Y=!1}}break e}finally{S=null,E=le,R=!1}Y=void 0}}finally{Y?ue():j=!1}}}var ue;if(typeof B=="function")ue=function(){B(ke)};else if(typeof MessageChannel<"u"){var Xe=new MessageChannel,Mt=Xe.port2;Xe.port1.onmessage=ke,ue=function(){Mt.postMessage(null)}}else ue=function(){P(ke,0)};function rt(k,Y){J=P(function(){k(l.unstable_now())},Y)}l.unstable_IdlePriority=5,l.unstable_ImmediatePriority=1,l.unstable_LowPriority=4,l.unstable_NormalPriority=3,l.unstable_Profiling=null,l.unstable_UserBlockingPriority=2,l.unstable_cancelCallback=function(k){k.callback=null},l.unstable_forceFrameRate=function(k){0>k||125<k?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):ge=0<k?Math.floor(1e3/k):5},l.unstable_getCurrentPriorityLevel=function(){return E},l.unstable_next=function(k){switch(E){case 1:case 2:case 3:var Y=3;break;default:Y=E}var le=E;E=Y;try{return k()}finally{E=le}},l.unstable_requestPaint=function(){O=!0},l.unstable_runWithPriority=function(k,Y){switch(k){case 1:case 2:case 3:case 4:case 5:break;default:k=3}var le=E;E=k;try{return Y()}finally{E=le}},l.unstable_scheduleCallback=function(k,Y,le){var Me=l.unstable_now();switch(typeof le=="object"&&le!==null?(le=le.delay,le=typeof le=="number"&&0<le?Me+le:Me):le=Me,k){case 1:var we=-1;break;case 2:we=250;break;case 5:we=1073741823;break;case 4:we=1e4;break;default:we=5e3}return we=le+we,k={id:v++,callback:Y,priorityLevel:k,startTime:le,expirationTime:we,sortIndex:-1},le>Me?(k.sortIndex=le,t(h,k),o(y)===null&&k===o(h)&&(z?(K(J),J=-1):z=!0,rt(Q,le-Me))):(k.sortIndex=we,t(y,k),N||R||(N=!0,j||(j=!0,ue()))),k},l.unstable_shouldYield=de,l.unstable_wrapCallback=function(k){var Y=E;return function(){var le=E;E=Y;try{return k.apply(this,arguments)}finally{E=le}}}})(fr)),fr}var jp;function Q0(){return jp||(jp=1,cr.exports=K0()),cr.exports}var dr={exports:{}},lt={};/**
 * @license React
 * react-dom.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var eh;function X0(){if(eh)return lt;eh=1;var l=Mr();function t(y){var h="https://react.dev/errors/"+y;if(1<arguments.length){h+="?args[]="+encodeURIComponent(arguments[1]);for(var v=2;v<arguments.length;v++)h+="&args[]="+encodeURIComponent(arguments[v])}return"Minified React error #"+y+"; visit "+h+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}function o(){}var a={d:{f:o,r:function(){throw Error(t(522))},D:o,C:o,L:o,m:o,X:o,S:o,M:o},p:0,findDOMNode:null},u=Symbol.for("react.portal");function d(y,h,v){var S=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:u,key:S==null?null:""+S,children:y,containerInfo:h,implementation:v}}var m=l.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE;function g(y,h){if(y==="font")return"";if(typeof h=="string")return h==="use-credentials"?h:""}return lt.__DOM_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE=a,lt.createPortal=function(y,h){var v=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!h||h.nodeType!==1&&h.nodeType!==9&&h.nodeType!==11)throw Error(t(299));return d(y,h,null,v)},lt.flushSync=function(y){var h=m.T,v=a.p;try{if(m.T=null,a.p=2,y)return y()}finally{m.T=h,a.p=v,a.d.f()}},lt.preconnect=function(y,h){typeof y=="string"&&(h?(h=h.crossOrigin,h=typeof h=="string"?h==="use-credentials"?h:"":void 0):h=null,a.d.C(y,h))},lt.prefetchDNS=function(y){typeof y=="string"&&a.d.D(y)},lt.preinit=function(y,h){if(typeof y=="string"&&h&&typeof h.as=="string"){var v=h.as,S=g(v,h.crossOrigin),E=typeof h.integrity=="string"?h.integrity:void 0,R=typeof h.fetchPriority=="string"?h.fetchPriority:void 0;v==="style"?a.d.S(y,typeof h.precedence=="string"?h.precedence:void 0,{crossOrigin:S,integrity:E,fetchPriority:R}):v==="script"&&a.d.X(y,{crossOrigin:S,integrity:E,fetchPriority:R,nonce:typeof h.nonce=="string"?h.nonce:void 0})}},lt.preinitModule=function(y,h){if(typeof y=="string")if(typeof h=="object"&&h!==null){if(h.as==null||h.as==="script"){var v=g(h.as,h.crossOrigin);a.d.M(y,{crossOrigin:v,integrity:typeof h.integrity=="string"?h.integrity:void 0,nonce:typeof h.nonce=="string"?h.nonce:void 0})}}else h==null&&a.d.M(y)},lt.preload=function(y,h){if(typeof y=="string"&&typeof h=="object"&&h!==null&&typeof h.as=="string"){var v=h.as,S=g(v,h.crossOrigin);a.d.L(y,v,{crossOrigin:S,integrity:typeof h.integrity=="string"?h.integrity:void 0,nonce:typeof h.nonce=="string"?h.nonce:void 0,type:typeof h.type=="string"?h.type:void 0,fetchPriority:typeof h.fetchPriority=="string"?h.fetchPriority:void 0,referrerPolicy:typeof h.referrerPolicy=="string"?h.referrerPolicy:void 0,imageSrcSet:typeof h.imageSrcSet=="string"?h.imageSrcSet:void 0,imageSizes:typeof h.imageSizes=="string"?h.imageSizes:void 0,media:typeof h.media=="string"?h.media:void 0})}},lt.preloadModule=function(y,h){if(typeof y=="string")if(h){var v=g(h.as,h.crossOrigin);a.d.m(y,{as:typeof h.as=="string"&&h.as!=="script"?h.as:void 0,crossOrigin:v,integrity:typeof h.integrity=="string"?h.integrity:void 0})}else a.d.m(y)},lt.requestFormReset=function(y){a.d.r(y)},lt.unstable_batchedUpdates=function(y,h){return y(h)},lt.useFormState=function(y,h,v){return m.H.useFormState(y,h,v)},lt.useFormStatus=function(){return m.H.useHostTransitionStatus()},lt.version="19.2.0",lt}var th;function Z0(){if(th)return dr.exports;th=1;function l(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(l)}catch(t){console.error(t)}}return l(),dr.exports=X0(),dr.exports}/**
 * @license React
 * react-dom-client.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var nh;function $0(){if(nh)return Wi;nh=1;var l=Q0(),t=Mr(),o=Z0();function a(e){var n="https://react.dev/errors/"+e;if(1<arguments.length){n+="?args[]="+encodeURIComponent(arguments[1]);for(var i=2;i<arguments.length;i++)n+="&args[]="+encodeURIComponent(arguments[i])}return"Minified React error #"+e+"; visit "+n+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}function u(e){return!(!e||e.nodeType!==1&&e.nodeType!==9&&e.nodeType!==11)}function d(e){var n=e,i=e;if(e.alternate)for(;n.return;)n=n.return;else{e=n;do n=e,(n.flags&4098)!==0&&(i=n.return),e=n.return;while(e)}return n.tag===3?i:null}function m(e){if(e.tag===13){var n=e.memoizedState;if(n===null&&(e=e.alternate,e!==null&&(n=e.memoizedState)),n!==null)return n.dehydrated}return null}function g(e){if(e.tag===31){var n=e.memoizedState;if(n===null&&(e=e.alternate,e!==null&&(n=e.memoizedState)),n!==null)return n.dehydrated}return null}function y(e){if(d(e)!==e)throw Error(a(188))}function h(e){var n=e.alternate;if(!n){if(n=d(e),n===null)throw Error(a(188));return n!==e?null:e}for(var i=e,s=n;;){var c=i.return;if(c===null)break;var p=c.alternate;if(p===null){if(s=c.return,s!==null){i=s;continue}break}if(c.child===p.child){for(p=c.child;p;){if(p===i)return y(c),e;if(p===s)return y(c),n;p=p.sibling}throw Error(a(188))}if(i.return!==s.return)i=c,s=p;else{for(var T=!1,_=c.child;_;){if(_===i){T=!0,i=c,s=p;break}if(_===s){T=!0,s=c,i=p;break}_=_.sibling}if(!T){for(_=p.child;_;){if(_===i){T=!0,i=p,s=c;break}if(_===s){T=!0,s=p,i=c;break}_=_.sibling}if(!T)throw Error(a(189))}}if(i.alternate!==s)throw Error(a(190))}if(i.tag!==3)throw Error(a(188));return i.stateNode.current===i?e:n}function v(e){var n=e.tag;if(n===5||n===26||n===27||n===6)return e;for(e=e.child;e!==null;){if(n=v(e),n!==null)return n;e=e.sibling}return null}var S=Object.assign,E=Symbol.for("react.element"),R=Symbol.for("react.transitional.element"),N=Symbol.for("react.portal"),z=Symbol.for("react.fragment"),O=Symbol.for("react.strict_mode"),P=Symbol.for("react.profiler"),K=Symbol.for("react.consumer"),B=Symbol.for("react.context"),V=Symbol.for("react.forward_ref"),Q=Symbol.for("react.suspense"),j=Symbol.for("react.suspense_list"),J=Symbol.for("react.memo"),ge=Symbol.for("react.lazy"),te=Symbol.for("react.activity"),de=Symbol.for("react.memo_cache_sentinel"),ke=Symbol.iterator;function ue(e){return e===null||typeof e!="object"?null:(e=ke&&e[ke]||e["@@iterator"],typeof e=="function"?e:null)}var Xe=Symbol.for("react.client.reference");function Mt(e){if(e==null)return null;if(typeof e=="function")return e.$$typeof===Xe?null:e.displayName||e.name||null;if(typeof e=="string")return e;switch(e){case z:return"Fragment";case P:return"Profiler";case O:return"StrictMode";case Q:return"Suspense";case j:return"SuspenseList";case te:return"Activity"}if(typeof e=="object")switch(e.$$typeof){case N:return"Portal";case B:return e.displayName||"Context";case K:return(e._context.displayName||"Context")+".Consumer";case V:var n=e.render;return e=e.displayName,e||(e=n.displayName||n.name||"",e=e!==""?"ForwardRef("+e+")":"ForwardRef"),e;case J:return n=e.displayName||null,n!==null?n:Mt(e.type)||"Memo";case ge:n=e._payload,e=e._init;try{return Mt(e(n))}catch{}}return null}var rt=Array.isArray,k=t.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,Y=o.__DOM_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,le={pending:!1,data:null,method:null,action:null},Me=[],we=-1;function x(e){return{current:e}}function H(e){0>we||(e.current=Me[we],Me[we]=null,we--)}function F(e,n){we++,Me[we]=e.current,e.current=n}var $=x(null),oe=x(null),re=x(null),_e=x(null);function at(e,n){switch(F(re,n),F(oe,e),F($,null),n.nodeType){case 9:case 11:e=(e=n.documentElement)&&(e=e.namespaceURI)?yp(e):0;break;default:if(e=n.tagName,n=n.namespaceURI)n=yp(n),e=vp(n,e);else switch(e){case"svg":e=1;break;case"math":e=2;break;default:e=0}}H($),F($,e)}function Be(){H($),H(oe),H(re)}function ii(e){e.memoizedState!==null&&F(_e,e);var n=$.current,i=vp(n,e.type);n!==i&&(F(oe,e),F($,i))}function so(e){oe.current===e&&(H($),H(oe)),_e.current===e&&(H(_e),Ki._currentValue=le)}var Oa,Fr;function On(e){if(Oa===void 0)try{throw Error()}catch(i){var n=i.stack.trim().match(/\n( *(at )?)/);Oa=n&&n[1]||"",Fr=-1<i.stack.indexOf(`
    at`)?" (<anonymous>)":-1<i.stack.indexOf("@")?"@unknown:0:0":""}return`
`+Oa+e+Fr}var Ya=!1;function Ja(e,n){if(!e||Ya)return"";Ya=!0;var i=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{var s={DetermineComponentFrameRoot:function(){try{if(n){var G=function(){throw Error()};if(Object.defineProperty(G.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(G,[])}catch(U){var I=U}Reflect.construct(e,[],G)}else{try{G.call()}catch(U){I=U}e.call(G.prototype)}}else{try{throw Error()}catch(U){I=U}(G=e())&&typeof G.catch=="function"&&G.catch(function(){})}}catch(U){if(U&&I&&typeof U.stack=="string")return[U.stack,I.stack]}return[null,null]}};s.DetermineComponentFrameRoot.displayName="DetermineComponentFrameRoot";var c=Object.getOwnPropertyDescriptor(s.DetermineComponentFrameRoot,"name");c&&c.configurable&&Object.defineProperty(s.DetermineComponentFrameRoot,"name",{value:"DetermineComponentFrameRoot"});var p=s.DetermineComponentFrameRoot(),T=p[0],_=p[1];if(T&&_){var C=T.split(`
`),D=_.split(`
`);for(c=s=0;s<C.length&&!C[s].includes("DetermineComponentFrameRoot");)s++;for(;c<D.length&&!D[c].includes("DetermineComponentFrameRoot");)c++;if(s===C.length||c===D.length)for(s=C.length-1,c=D.length-1;1<=s&&0<=c&&C[s]!==D[c];)c--;for(;1<=s&&0<=c;s--,c--)if(C[s]!==D[c]){if(s!==1||c!==1)do if(s--,c--,0>c||C[s]!==D[c]){var L=`
`+C[s].replace(" at new "," at ");return e.displayName&&L.includes("<anonymous>")&&(L=L.replace("<anonymous>",e.displayName)),L}while(1<=s&&0<=c);break}}}finally{Ya=!1,Error.prepareStackTrace=i}return(i=e?e.displayName||e.name:"")?On(i):""}function vg(e,n){switch(e.tag){case 26:case 27:case 5:return On(e.type);case 16:return On("Lazy");case 13:return e.child!==n&&n!==null?On("Suspense Fallback"):On("Suspense");case 19:return On("SuspenseList");case 0:case 15:return Ja(e.type,!1);case 11:return Ja(e.type.render,!1);case 1:return Ja(e.type,!0);case 31:return On("Activity");default:return""}}function Kr(e){try{var n="",i=null;do n+=vg(e,i),i=e,e=e.return;while(e);return n}catch(s){return`
Error generating stack: `+s.message+`
`+s.stack}}var Fa=Object.prototype.hasOwnProperty,Ka=l.unstable_scheduleCallback,Qa=l.unstable_cancelCallback,Tg=l.unstable_shouldYield,Sg=l.unstable_requestPaint,yt=l.unstable_now,Eg=l.unstable_getCurrentPriorityLevel,Qr=l.unstable_ImmediatePriority,Xr=l.unstable_UserBlockingPriority,uo=l.unstable_NormalPriority,_g=l.unstable_LowPriority,Zr=l.unstable_IdlePriority,Cg=l.log,Ag=l.unstable_setDisableYieldValue,oi=null,vt=null;function gn(e){if(typeof Cg=="function"&&Ag(e),vt&&typeof vt.setStrictMode=="function")try{vt.setStrictMode(oi,e)}catch{}}var Tt=Math.clz32?Math.clz32:Mg,xg=Math.log,Rg=Math.LN2;function Mg(e){return e>>>=0,e===0?32:31-(xg(e)/Rg|0)|0}var ro=256,co=262144,fo=4194304;function Yn(e){var n=e&42;if(n!==0)return n;switch(e&-e){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:return 64;case 128:return 128;case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:return e&261888;case 262144:case 524288:case 1048576:case 2097152:return e&3932160;case 4194304:case 8388608:case 16777216:case 33554432:return e&62914560;case 67108864:return 67108864;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 0;default:return e}}function po(e,n,i){var s=e.pendingLanes;if(s===0)return 0;var c=0,p=e.suspendedLanes,T=e.pingedLanes;e=e.warmLanes;var _=s&134217727;return _!==0?(s=_&~p,s!==0?c=Yn(s):(T&=_,T!==0?c=Yn(T):i||(i=_&~e,i!==0&&(c=Yn(i))))):(_=s&~p,_!==0?c=Yn(_):T!==0?c=Yn(T):i||(i=s&~e,i!==0&&(c=Yn(i)))),c===0?0:n!==0&&n!==c&&(n&p)===0&&(p=c&-c,i=n&-n,p>=i||p===32&&(i&4194048)!==0)?n:c}function ai(e,n){return(e.pendingLanes&~(e.suspendedLanes&~e.pingedLanes)&n)===0}function Ng(e,n){switch(e){case 1:case 2:case 4:case 8:case 64:return n+250;case 16:case 32:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return n+5e3;case 4194304:case 8388608:case 16777216:case 33554432:return-1;case 67108864:case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function $r(){var e=fo;return fo<<=1,(fo&62914560)===0&&(fo=4194304),e}function Xa(e){for(var n=[],i=0;31>i;i++)n.push(e);return n}function si(e,n){e.pendingLanes|=n,n!==268435456&&(e.suspendedLanes=0,e.pingedLanes=0,e.warmLanes=0)}function bg(e,n,i,s,c,p){var T=e.pendingLanes;e.pendingLanes=i,e.suspendedLanes=0,e.pingedLanes=0,e.warmLanes=0,e.expiredLanes&=i,e.entangledLanes&=i,e.errorRecoveryDisabledLanes&=i,e.shellSuspendCounter=0;var _=e.entanglements,C=e.expirationTimes,D=e.hiddenUpdates;for(i=T&~i;0<i;){var L=31-Tt(i),G=1<<L;_[L]=0,C[L]=-1;var I=D[L];if(I!==null)for(D[L]=null,L=0;L<I.length;L++){var U=I[L];U!==null&&(U.lane&=-536870913)}i&=~G}s!==0&&Wr(e,s,0),p!==0&&c===0&&e.tag!==0&&(e.suspendedLanes|=p&~(T&~n))}function Wr(e,n,i){e.pendingLanes|=n,e.suspendedLanes&=~n;var s=31-Tt(n);e.entangledLanes|=n,e.entanglements[s]=e.entanglements[s]|1073741824|i&261930}function jr(e,n){var i=e.entangledLanes|=n;for(e=e.entanglements;i;){var s=31-Tt(i),c=1<<s;c&n|e[s]&n&&(e[s]|=n),i&=~c}}function ec(e,n){var i=n&-n;return i=(i&42)!==0?1:Za(i),(i&(e.suspendedLanes|n))!==0?0:i}function Za(e){switch(e){case 2:e=1;break;case 8:e=4;break;case 32:e=16;break;case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:e=128;break;case 268435456:e=134217728;break;default:e=0}return e}function $a(e){return e&=-e,2<e?8<e?(e&134217727)!==0?32:268435456:8:2}function tc(){var e=Y.p;return e!==0?e:(e=window.event,e===void 0?32:Bp(e.type))}function nc(e,n){var i=Y.p;try{return Y.p=e,n()}finally{Y.p=i}}var yn=Math.random().toString(36).slice(2),We="__reactFiber$"+yn,ct="__reactProps$"+yn,dl="__reactContainer$"+yn,Wa="__reactEvents$"+yn,Dg="__reactListeners$"+yn,Ig="__reactHandles$"+yn,lc="__reactResources$"+yn,ui="__reactMarker$"+yn;function ja(e){delete e[We],delete e[ct],delete e[Wa],delete e[Dg],delete e[Ig]}function pl(e){var n=e[We];if(n)return n;for(var i=e.parentNode;i;){if(n=i[dl]||i[We]){if(i=n.alternate,n.child!==null||i!==null&&i.child!==null)for(e=xp(e);e!==null;){if(i=e[We])return i;e=xp(e)}return n}e=i,i=e.parentNode}return null}function hl(e){if(e=e[We]||e[dl]){var n=e.tag;if(n===5||n===6||n===13||n===31||n===26||n===27||n===3)return e}return null}function ri(e){var n=e.tag;if(n===5||n===26||n===27||n===6)return e.stateNode;throw Error(a(33))}function ml(e){var n=e[lc];return n||(n=e[lc]={hoistableStyles:new Map,hoistableScripts:new Map}),n}function Ze(e){e[ui]=!0}var ic=new Set,oc={};function Jn(e,n){gl(e,n),gl(e+"Capture",n)}function gl(e,n){for(oc[e]=n,e=0;e<n.length;e++)ic.add(n[e])}var wg=RegExp("^[:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD][:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD\\-.0-9\\u00B7\\u0300-\\u036F\\u203F-\\u2040]*$"),ac={},sc={};function Ug(e){return Fa.call(sc,e)?!0:Fa.call(ac,e)?!1:wg.test(e)?sc[e]=!0:(ac[e]=!0,!1)}function ho(e,n,i){if(Ug(n))if(i===null)e.removeAttribute(n);else{switch(typeof i){case"undefined":case"function":case"symbol":e.removeAttribute(n);return;case"boolean":var s=n.toLowerCase().slice(0,5);if(s!=="data-"&&s!=="aria-"){e.removeAttribute(n);return}}e.setAttribute(n,""+i)}}function mo(e,n,i){if(i===null)e.removeAttribute(n);else{switch(typeof i){case"undefined":case"function":case"symbol":case"boolean":e.removeAttribute(n);return}e.setAttribute(n,""+i)}}function Zt(e,n,i,s){if(s===null)e.removeAttribute(i);else{switch(typeof s){case"undefined":case"function":case"symbol":case"boolean":e.removeAttribute(i);return}e.setAttributeNS(n,i,""+s)}}function Nt(e){switch(typeof e){case"bigint":case"boolean":case"number":case"string":case"undefined":return e;case"object":return e;default:return""}}function uc(e){var n=e.type;return(e=e.nodeName)&&e.toLowerCase()==="input"&&(n==="checkbox"||n==="radio")}function kg(e,n,i){var s=Object.getOwnPropertyDescriptor(e.constructor.prototype,n);if(!e.hasOwnProperty(n)&&typeof s<"u"&&typeof s.get=="function"&&typeof s.set=="function"){var c=s.get,p=s.set;return Object.defineProperty(e,n,{configurable:!0,get:function(){return c.call(this)},set:function(T){i=""+T,p.call(this,T)}}),Object.defineProperty(e,n,{enumerable:s.enumerable}),{getValue:function(){return i},setValue:function(T){i=""+T},stopTracking:function(){e._valueTracker=null,delete e[n]}}}}function es(e){if(!e._valueTracker){var n=uc(e)?"checked":"value";e._valueTracker=kg(e,n,""+e[n])}}function rc(e){if(!e)return!1;var n=e._valueTracker;if(!n)return!0;var i=n.getValue(),s="";return e&&(s=uc(e)?e.checked?"true":"false":e.value),e=s,e!==i?(n.setValue(e),!0):!1}function go(e){if(e=e||(typeof document<"u"?document:void 0),typeof e>"u")return null;try{return e.activeElement||e.body}catch{return e.body}}var Lg=/[\n"\\]/g;function bt(e){return e.replace(Lg,function(n){return"\\"+n.charCodeAt(0).toString(16)+" "})}function ts(e,n,i,s,c,p,T,_){e.name="",T!=null&&typeof T!="function"&&typeof T!="symbol"&&typeof T!="boolean"?e.type=T:e.removeAttribute("type"),n!=null?T==="number"?(n===0&&e.value===""||e.value!=n)&&(e.value=""+Nt(n)):e.value!==""+Nt(n)&&(e.value=""+Nt(n)):T!=="submit"&&T!=="reset"||e.removeAttribute("value"),n!=null?ns(e,T,Nt(n)):i!=null?ns(e,T,Nt(i)):s!=null&&e.removeAttribute("value"),c==null&&p!=null&&(e.defaultChecked=!!p),c!=null&&(e.checked=c&&typeof c!="function"&&typeof c!="symbol"),_!=null&&typeof _!="function"&&typeof _!="symbol"&&typeof _!="boolean"?e.name=""+Nt(_):e.removeAttribute("name")}function cc(e,n,i,s,c,p,T,_){if(p!=null&&typeof p!="function"&&typeof p!="symbol"&&typeof p!="boolean"&&(e.type=p),n!=null||i!=null){if(!(p!=="submit"&&p!=="reset"||n!=null)){es(e);return}i=i!=null?""+Nt(i):"",n=n!=null?""+Nt(n):i,_||n===e.value||(e.value=n),e.defaultValue=n}s=s??c,s=typeof s!="function"&&typeof s!="symbol"&&!!s,e.checked=_?e.checked:!!s,e.defaultChecked=!!s,T!=null&&typeof T!="function"&&typeof T!="symbol"&&typeof T!="boolean"&&(e.name=T),es(e)}function ns(e,n,i){n==="number"&&go(e.ownerDocument)===e||e.defaultValue===""+i||(e.defaultValue=""+i)}function yl(e,n,i,s){if(e=e.options,n){n={};for(var c=0;c<i.length;c++)n["$"+i[c]]=!0;for(i=0;i<e.length;i++)c=n.hasOwnProperty("$"+e[i].value),e[i].selected!==c&&(e[i].selected=c),c&&s&&(e[i].defaultSelected=!0)}else{for(i=""+Nt(i),n=null,c=0;c<e.length;c++){if(e[c].value===i){e[c].selected=!0,s&&(e[c].defaultSelected=!0);return}n!==null||e[c].disabled||(n=e[c])}n!==null&&(n.selected=!0)}}function fc(e,n,i){if(n!=null&&(n=""+Nt(n),n!==e.value&&(e.value=n),i==null)){e.defaultValue!==n&&(e.defaultValue=n);return}e.defaultValue=i!=null?""+Nt(i):""}function dc(e,n,i,s){if(n==null){if(s!=null){if(i!=null)throw Error(a(92));if(rt(s)){if(1<s.length)throw Error(a(93));s=s[0]}i=s}i==null&&(i=""),n=i}i=Nt(n),e.defaultValue=i,s=e.textContent,s===i&&s!==""&&s!==null&&(e.value=s),es(e)}function vl(e,n){if(n){var i=e.firstChild;if(i&&i===e.lastChild&&i.nodeType===3){i.nodeValue=n;return}}e.textContent=n}var qg=new Set("animationIterationCount aspectRatio borderImageOutset borderImageSlice borderImageWidth boxFlex boxFlexGroup boxOrdinalGroup columnCount columns flex flexGrow flexPositive flexShrink flexNegative flexOrder gridArea gridRow gridRowEnd gridRowSpan gridRowStart gridColumn gridColumnEnd gridColumnSpan gridColumnStart fontWeight lineClamp lineHeight opacity order orphans scale tabSize widows zIndex zoom fillOpacity floodOpacity stopOpacity strokeDasharray strokeDashoffset strokeMiterlimit strokeOpacity strokeWidth MozAnimationIterationCount MozBoxFlex MozBoxFlexGroup MozLineClamp msAnimationIterationCount msFlex msZoom msFlexGrow msFlexNegative msFlexOrder msFlexPositive msFlexShrink msGridColumn msGridColumnSpan msGridRow msGridRowSpan WebkitAnimationIterationCount WebkitBoxFlex WebKitBoxFlexGroup WebkitBoxOrdinalGroup WebkitColumnCount WebkitColumns WebkitFlex WebkitFlexGrow WebkitFlexPositive WebkitFlexShrink WebkitLineClamp".split(" "));function pc(e,n,i){var s=n.indexOf("--")===0;i==null||typeof i=="boolean"||i===""?s?e.setProperty(n,""):n==="float"?e.cssFloat="":e[n]="":s?e.setProperty(n,i):typeof i!="number"||i===0||qg.has(n)?n==="float"?e.cssFloat=i:e[n]=(""+i).trim():e[n]=i+"px"}function hc(e,n,i){if(n!=null&&typeof n!="object")throw Error(a(62));if(e=e.style,i!=null){for(var s in i)!i.hasOwnProperty(s)||n!=null&&n.hasOwnProperty(s)||(s.indexOf("--")===0?e.setProperty(s,""):s==="float"?e.cssFloat="":e[s]="");for(var c in n)s=n[c],n.hasOwnProperty(c)&&i[c]!==s&&pc(e,c,s)}else for(var p in n)n.hasOwnProperty(p)&&pc(e,p,n[p])}function ls(e){if(e.indexOf("-")===-1)return!1;switch(e){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var zg=new Map([["acceptCharset","accept-charset"],["htmlFor","for"],["httpEquiv","http-equiv"],["crossOrigin","crossorigin"],["accentHeight","accent-height"],["alignmentBaseline","alignment-baseline"],["arabicForm","arabic-form"],["baselineShift","baseline-shift"],["capHeight","cap-height"],["clipPath","clip-path"],["clipRule","clip-rule"],["colorInterpolation","color-interpolation"],["colorInterpolationFilters","color-interpolation-filters"],["colorProfile","color-profile"],["colorRendering","color-rendering"],["dominantBaseline","dominant-baseline"],["enableBackground","enable-background"],["fillOpacity","fill-opacity"],["fillRule","fill-rule"],["floodColor","flood-color"],["floodOpacity","flood-opacity"],["fontFamily","font-family"],["fontSize","font-size"],["fontSizeAdjust","font-size-adjust"],["fontStretch","font-stretch"],["fontStyle","font-style"],["fontVariant","font-variant"],["fontWeight","font-weight"],["glyphName","glyph-name"],["glyphOrientationHorizontal","glyph-orientation-horizontal"],["glyphOrientationVertical","glyph-orientation-vertical"],["horizAdvX","horiz-adv-x"],["horizOriginX","horiz-origin-x"],["imageRendering","image-rendering"],["letterSpacing","letter-spacing"],["lightingColor","lighting-color"],["markerEnd","marker-end"],["markerMid","marker-mid"],["markerStart","marker-start"],["overlinePosition","overline-position"],["overlineThickness","overline-thickness"],["paintOrder","paint-order"],["panose-1","panose-1"],["pointerEvents","pointer-events"],["renderingIntent","rendering-intent"],["shapeRendering","shape-rendering"],["stopColor","stop-color"],["stopOpacity","stop-opacity"],["strikethroughPosition","strikethrough-position"],["strikethroughThickness","strikethrough-thickness"],["strokeDasharray","stroke-dasharray"],["strokeDashoffset","stroke-dashoffset"],["strokeLinecap","stroke-linecap"],["strokeLinejoin","stroke-linejoin"],["strokeMiterlimit","stroke-miterlimit"],["strokeOpacity","stroke-opacity"],["strokeWidth","stroke-width"],["textAnchor","text-anchor"],["textDecoration","text-decoration"],["textRendering","text-rendering"],["transformOrigin","transform-origin"],["underlinePosition","underline-position"],["underlineThickness","underline-thickness"],["unicodeBidi","unicode-bidi"],["unicodeRange","unicode-range"],["unitsPerEm","units-per-em"],["vAlphabetic","v-alphabetic"],["vHanging","v-hanging"],["vIdeographic","v-ideographic"],["vMathematical","v-mathematical"],["vectorEffect","vector-effect"],["vertAdvY","vert-adv-y"],["vertOriginX","vert-origin-x"],["vertOriginY","vert-origin-y"],["wordSpacing","word-spacing"],["writingMode","writing-mode"],["xmlnsXlink","xmlns:xlink"],["xHeight","x-height"]]),Gg=/^[\u0000-\u001F ]*j[\r\n\t]*a[\r\n\t]*v[\r\n\t]*a[\r\n\t]*s[\r\n\t]*c[\r\n\t]*r[\r\n\t]*i[\r\n\t]*p[\r\n\t]*t[\r\n\t]*:/i;function yo(e){return Gg.test(""+e)?"javascript:throw new Error('React has blocked a javascript: URL as a security precaution.')":e}function $t(){}var is=null;function os(e){return e=e.target||e.srcElement||window,e.correspondingUseElement&&(e=e.correspondingUseElement),e.nodeType===3?e.parentNode:e}var Tl=null,Sl=null;function mc(e){var n=hl(e);if(n&&(e=n.stateNode)){var i=e[ct]||null;e:switch(e=n.stateNode,n.type){case"input":if(ts(e,i.value,i.defaultValue,i.defaultValue,i.checked,i.defaultChecked,i.type,i.name),n=i.name,i.type==="radio"&&n!=null){for(i=e;i.parentNode;)i=i.parentNode;for(i=i.querySelectorAll('input[name="'+bt(""+n)+'"][type="radio"]'),n=0;n<i.length;n++){var s=i[n];if(s!==e&&s.form===e.form){var c=s[ct]||null;if(!c)throw Error(a(90));ts(s,c.value,c.defaultValue,c.defaultValue,c.checked,c.defaultChecked,c.type,c.name)}}for(n=0;n<i.length;n++)s=i[n],s.form===e.form&&rc(s)}break e;case"textarea":fc(e,i.value,i.defaultValue);break e;case"select":n=i.value,n!=null&&yl(e,!!i.multiple,n,!1)}}}var as=!1;function gc(e,n,i){if(as)return e(n,i);as=!0;try{var s=e(n);return s}finally{if(as=!1,(Tl!==null||Sl!==null)&&(ia(),Tl&&(n=Tl,e=Sl,Sl=Tl=null,mc(n),e)))for(n=0;n<e.length;n++)mc(e[n])}}function ci(e,n){var i=e.stateNode;if(i===null)return null;var s=i[ct]||null;if(s===null)return null;i=s[n];e:switch(n){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(s=!s.disabled)||(e=e.type,s=!(e==="button"||e==="input"||e==="select"||e==="textarea")),e=!s;break e;default:e=!1}if(e)return null;if(i&&typeof i!="function")throw Error(a(231,n,typeof i));return i}var Wt=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),ss=!1;if(Wt)try{var fi={};Object.defineProperty(fi,"passive",{get:function(){ss=!0}}),window.addEventListener("test",fi,fi),window.removeEventListener("test",fi,fi)}catch{ss=!1}var vn=null,us=null,vo=null;function yc(){if(vo)return vo;var e,n=us,i=n.length,s,c="value"in vn?vn.value:vn.textContent,p=c.length;for(e=0;e<i&&n[e]===c[e];e++);var T=i-e;for(s=1;s<=T&&n[i-s]===c[p-s];s++);return vo=c.slice(e,1<s?1-s:void 0)}function To(e){var n=e.keyCode;return"charCode"in e?(e=e.charCode,e===0&&n===13&&(e=13)):e=n,e===10&&(e=13),32<=e||e===13?e:0}function So(){return!0}function vc(){return!1}function ft(e){function n(i,s,c,p,T){this._reactName=i,this._targetInst=c,this.type=s,this.nativeEvent=p,this.target=T,this.currentTarget=null;for(var _ in e)e.hasOwnProperty(_)&&(i=e[_],this[_]=i?i(p):p[_]);return this.isDefaultPrevented=(p.defaultPrevented!=null?p.defaultPrevented:p.returnValue===!1)?So:vc,this.isPropagationStopped=vc,this}return S(n.prototype,{preventDefault:function(){this.defaultPrevented=!0;var i=this.nativeEvent;i&&(i.preventDefault?i.preventDefault():typeof i.returnValue!="unknown"&&(i.returnValue=!1),this.isDefaultPrevented=So)},stopPropagation:function(){var i=this.nativeEvent;i&&(i.stopPropagation?i.stopPropagation():typeof i.cancelBubble!="unknown"&&(i.cancelBubble=!0),this.isPropagationStopped=So)},persist:function(){},isPersistent:So}),n}var Fn={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(e){return e.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},Eo=ft(Fn),di=S({},Fn,{view:0,detail:0}),Hg=ft(di),rs,cs,pi,_o=S({},di,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:ds,button:0,buttons:0,relatedTarget:function(e){return e.relatedTarget===void 0?e.fromElement===e.srcElement?e.toElement:e.fromElement:e.relatedTarget},movementX:function(e){return"movementX"in e?e.movementX:(e!==pi&&(pi&&e.type==="mousemove"?(rs=e.screenX-pi.screenX,cs=e.screenY-pi.screenY):cs=rs=0,pi=e),rs)},movementY:function(e){return"movementY"in e?e.movementY:cs}}),Tc=ft(_o),Vg=S({},_o,{dataTransfer:0}),Bg=ft(Vg),Pg=S({},di,{relatedTarget:0}),fs=ft(Pg),Og=S({},Fn,{animationName:0,elapsedTime:0,pseudoElement:0}),Yg=ft(Og),Jg=S({},Fn,{clipboardData:function(e){return"clipboardData"in e?e.clipboardData:window.clipboardData}}),Fg=ft(Jg),Kg=S({},Fn,{data:0}),Sc=ft(Kg),Qg={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},Xg={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},Zg={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function $g(e){var n=this.nativeEvent;return n.getModifierState?n.getModifierState(e):(e=Zg[e])?!!n[e]:!1}function ds(){return $g}var Wg=S({},di,{key:function(e){if(e.key){var n=Qg[e.key]||e.key;if(n!=="Unidentified")return n}return e.type==="keypress"?(e=To(e),e===13?"Enter":String.fromCharCode(e)):e.type==="keydown"||e.type==="keyup"?Xg[e.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:ds,charCode:function(e){return e.type==="keypress"?To(e):0},keyCode:function(e){return e.type==="keydown"||e.type==="keyup"?e.keyCode:0},which:function(e){return e.type==="keypress"?To(e):e.type==="keydown"||e.type==="keyup"?e.keyCode:0}}),jg=ft(Wg),ey=S({},_o,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),Ec=ft(ey),ty=S({},di,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:ds}),ny=ft(ty),ly=S({},Fn,{propertyName:0,elapsedTime:0,pseudoElement:0}),iy=ft(ly),oy=S({},_o,{deltaX:function(e){return"deltaX"in e?e.deltaX:"wheelDeltaX"in e?-e.wheelDeltaX:0},deltaY:function(e){return"deltaY"in e?e.deltaY:"wheelDeltaY"in e?-e.wheelDeltaY:"wheelDelta"in e?-e.wheelDelta:0},deltaZ:0,deltaMode:0}),ay=ft(oy),sy=S({},Fn,{newState:0,oldState:0}),uy=ft(sy),ry=[9,13,27,32],ps=Wt&&"CompositionEvent"in window,hi=null;Wt&&"documentMode"in document&&(hi=document.documentMode);var cy=Wt&&"TextEvent"in window&&!hi,_c=Wt&&(!ps||hi&&8<hi&&11>=hi),Cc=" ",Ac=!1;function xc(e,n){switch(e){case"keyup":return ry.indexOf(n.keyCode)!==-1;case"keydown":return n.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function Rc(e){return e=e.detail,typeof e=="object"&&"data"in e?e.data:null}var El=!1;function fy(e,n){switch(e){case"compositionend":return Rc(n);case"keypress":return n.which!==32?null:(Ac=!0,Cc);case"textInput":return e=n.data,e===Cc&&Ac?null:e;default:return null}}function dy(e,n){if(El)return e==="compositionend"||!ps&&xc(e,n)?(e=yc(),vo=us=vn=null,El=!1,e):null;switch(e){case"paste":return null;case"keypress":if(!(n.ctrlKey||n.altKey||n.metaKey)||n.ctrlKey&&n.altKey){if(n.char&&1<n.char.length)return n.char;if(n.which)return String.fromCharCode(n.which)}return null;case"compositionend":return _c&&n.locale!=="ko"?null:n.data;default:return null}}var py={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function Mc(e){var n=e&&e.nodeName&&e.nodeName.toLowerCase();return n==="input"?!!py[e.type]:n==="textarea"}function Nc(e,n,i,s){Tl?Sl?Sl.push(s):Sl=[s]:Tl=s,n=fa(n,"onChange"),0<n.length&&(i=new Eo("onChange","change",null,i,s),e.push({event:i,listeners:n}))}var mi=null,gi=null;function hy(e){fp(e,0)}function Co(e){var n=ri(e);if(rc(n))return e}function bc(e,n){if(e==="change")return n}var Dc=!1;if(Wt){var hs;if(Wt){var ms="oninput"in document;if(!ms){var Ic=document.createElement("div");Ic.setAttribute("oninput","return;"),ms=typeof Ic.oninput=="function"}hs=ms}else hs=!1;Dc=hs&&(!document.documentMode||9<document.documentMode)}function wc(){mi&&(mi.detachEvent("onpropertychange",Uc),gi=mi=null)}function Uc(e){if(e.propertyName==="value"&&Co(gi)){var n=[];Nc(n,gi,e,os(e)),gc(hy,n)}}function my(e,n,i){e==="focusin"?(wc(),mi=n,gi=i,mi.attachEvent("onpropertychange",Uc)):e==="focusout"&&wc()}function gy(e){if(e==="selectionchange"||e==="keyup"||e==="keydown")return Co(gi)}function yy(e,n){if(e==="click")return Co(n)}function vy(e,n){if(e==="input"||e==="change")return Co(n)}function Ty(e,n){return e===n&&(e!==0||1/e===1/n)||e!==e&&n!==n}var St=typeof Object.is=="function"?Object.is:Ty;function yi(e,n){if(St(e,n))return!0;if(typeof e!="object"||e===null||typeof n!="object"||n===null)return!1;var i=Object.keys(e),s=Object.keys(n);if(i.length!==s.length)return!1;for(s=0;s<i.length;s++){var c=i[s];if(!Fa.call(n,c)||!St(e[c],n[c]))return!1}return!0}function kc(e){for(;e&&e.firstChild;)e=e.firstChild;return e}function Lc(e,n){var i=kc(e);e=0;for(var s;i;){if(i.nodeType===3){if(s=e+i.textContent.length,e<=n&&s>=n)return{node:i,offset:n-e};e=s}e:{for(;i;){if(i.nextSibling){i=i.nextSibling;break e}i=i.parentNode}i=void 0}i=kc(i)}}function qc(e,n){return e&&n?e===n?!0:e&&e.nodeType===3?!1:n&&n.nodeType===3?qc(e,n.parentNode):"contains"in e?e.contains(n):e.compareDocumentPosition?!!(e.compareDocumentPosition(n)&16):!1:!1}function zc(e){e=e!=null&&e.ownerDocument!=null&&e.ownerDocument.defaultView!=null?e.ownerDocument.defaultView:window;for(var n=go(e.document);n instanceof e.HTMLIFrameElement;){try{var i=typeof n.contentWindow.location.href=="string"}catch{i=!1}if(i)e=n.contentWindow;else break;n=go(e.document)}return n}function gs(e){var n=e&&e.nodeName&&e.nodeName.toLowerCase();return n&&(n==="input"&&(e.type==="text"||e.type==="search"||e.type==="tel"||e.type==="url"||e.type==="password")||n==="textarea"||e.contentEditable==="true")}var Sy=Wt&&"documentMode"in document&&11>=document.documentMode,_l=null,ys=null,vi=null,vs=!1;function Gc(e,n,i){var s=i.window===i?i.document:i.nodeType===9?i:i.ownerDocument;vs||_l==null||_l!==go(s)||(s=_l,"selectionStart"in s&&gs(s)?s={start:s.selectionStart,end:s.selectionEnd}:(s=(s.ownerDocument&&s.ownerDocument.defaultView||window).getSelection(),s={anchorNode:s.anchorNode,anchorOffset:s.anchorOffset,focusNode:s.focusNode,focusOffset:s.focusOffset}),vi&&yi(vi,s)||(vi=s,s=fa(ys,"onSelect"),0<s.length&&(n=new Eo("onSelect","select",null,n,i),e.push({event:n,listeners:s}),n.target=_l)))}function Kn(e,n){var i={};return i[e.toLowerCase()]=n.toLowerCase(),i["Webkit"+e]="webkit"+n,i["Moz"+e]="moz"+n,i}var Cl={animationend:Kn("Animation","AnimationEnd"),animationiteration:Kn("Animation","AnimationIteration"),animationstart:Kn("Animation","AnimationStart"),transitionrun:Kn("Transition","TransitionRun"),transitionstart:Kn("Transition","TransitionStart"),transitioncancel:Kn("Transition","TransitionCancel"),transitionend:Kn("Transition","TransitionEnd")},Ts={},Hc={};Wt&&(Hc=document.createElement("div").style,"AnimationEvent"in window||(delete Cl.animationend.animation,delete Cl.animationiteration.animation,delete Cl.animationstart.animation),"TransitionEvent"in window||delete Cl.transitionend.transition);function Qn(e){if(Ts[e])return Ts[e];if(!Cl[e])return e;var n=Cl[e],i;for(i in n)if(n.hasOwnProperty(i)&&i in Hc)return Ts[e]=n[i];return e}var Vc=Qn("animationend"),Bc=Qn("animationiteration"),Pc=Qn("animationstart"),Ey=Qn("transitionrun"),_y=Qn("transitionstart"),Cy=Qn("transitioncancel"),Oc=Qn("transitionend"),Yc=new Map,Ss="abort auxClick beforeToggle cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");Ss.push("scrollEnd");function Ht(e,n){Yc.set(e,n),Jn(n,[e])}var Ao=typeof reportError=="function"?reportError:function(e){if(typeof window=="object"&&typeof window.ErrorEvent=="function"){var n=new window.ErrorEvent("error",{bubbles:!0,cancelable:!0,message:typeof e=="object"&&e!==null&&typeof e.message=="string"?String(e.message):String(e),error:e});if(!window.dispatchEvent(n))return}else if(typeof process=="object"&&typeof process.emit=="function"){process.emit("uncaughtException",e);return}console.error(e)},Dt=[],Al=0,Es=0;function xo(){for(var e=Al,n=Es=Al=0;n<e;){var i=Dt[n];Dt[n++]=null;var s=Dt[n];Dt[n++]=null;var c=Dt[n];Dt[n++]=null;var p=Dt[n];if(Dt[n++]=null,s!==null&&c!==null){var T=s.pending;T===null?c.next=c:(c.next=T.next,T.next=c),s.pending=c}p!==0&&Jc(i,c,p)}}function Ro(e,n,i,s){Dt[Al++]=e,Dt[Al++]=n,Dt[Al++]=i,Dt[Al++]=s,Es|=s,e.lanes|=s,e=e.alternate,e!==null&&(e.lanes|=s)}function _s(e,n,i,s){return Ro(e,n,i,s),Mo(e)}function Xn(e,n){return Ro(e,null,null,n),Mo(e)}function Jc(e,n,i){e.lanes|=i;var s=e.alternate;s!==null&&(s.lanes|=i);for(var c=!1,p=e.return;p!==null;)p.childLanes|=i,s=p.alternate,s!==null&&(s.childLanes|=i),p.tag===22&&(e=p.stateNode,e===null||e._visibility&1||(c=!0)),e=p,p=p.return;return e.tag===3?(p=e.stateNode,c&&n!==null&&(c=31-Tt(i),e=p.hiddenUpdates,s=e[c],s===null?e[c]=[n]:s.push(n),n.lane=i|536870912),p):null}function Mo(e){if(50<Vi)throw Vi=0,Iu=null,Error(a(185));for(var n=e.return;n!==null;)e=n,n=e.return;return e.tag===3?e.stateNode:null}var xl={};function Ay(e,n,i,s){this.tag=e,this.key=i,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.refCleanup=this.ref=null,this.pendingProps=n,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=s,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function Et(e,n,i,s){return new Ay(e,n,i,s)}function Cs(e){return e=e.prototype,!(!e||!e.isReactComponent)}function jt(e,n){var i=e.alternate;return i===null?(i=Et(e.tag,n,e.key,e.mode),i.elementType=e.elementType,i.type=e.type,i.stateNode=e.stateNode,i.alternate=e,e.alternate=i):(i.pendingProps=n,i.type=e.type,i.flags=0,i.subtreeFlags=0,i.deletions=null),i.flags=e.flags&65011712,i.childLanes=e.childLanes,i.lanes=e.lanes,i.child=e.child,i.memoizedProps=e.memoizedProps,i.memoizedState=e.memoizedState,i.updateQueue=e.updateQueue,n=e.dependencies,i.dependencies=n===null?null:{lanes:n.lanes,firstContext:n.firstContext},i.sibling=e.sibling,i.index=e.index,i.ref=e.ref,i.refCleanup=e.refCleanup,i}function Fc(e,n){e.flags&=65011714;var i=e.alternate;return i===null?(e.childLanes=0,e.lanes=n,e.child=null,e.subtreeFlags=0,e.memoizedProps=null,e.memoizedState=null,e.updateQueue=null,e.dependencies=null,e.stateNode=null):(e.childLanes=i.childLanes,e.lanes=i.lanes,e.child=i.child,e.subtreeFlags=0,e.deletions=null,e.memoizedProps=i.memoizedProps,e.memoizedState=i.memoizedState,e.updateQueue=i.updateQueue,e.type=i.type,n=i.dependencies,e.dependencies=n===null?null:{lanes:n.lanes,firstContext:n.firstContext}),e}function No(e,n,i,s,c,p){var T=0;if(s=e,typeof e=="function")Cs(e)&&(T=1);else if(typeof e=="string")T=b0(e,i,$.current)?26:e==="html"||e==="head"||e==="body"?27:5;else e:switch(e){case te:return e=Et(31,i,n,c),e.elementType=te,e.lanes=p,e;case z:return Zn(i.children,c,p,n);case O:T=8,c|=24;break;case P:return e=Et(12,i,n,c|2),e.elementType=P,e.lanes=p,e;case Q:return e=Et(13,i,n,c),e.elementType=Q,e.lanes=p,e;case j:return e=Et(19,i,n,c),e.elementType=j,e.lanes=p,e;default:if(typeof e=="object"&&e!==null)switch(e.$$typeof){case B:T=10;break e;case K:T=9;break e;case V:T=11;break e;case J:T=14;break e;case ge:T=16,s=null;break e}T=29,i=Error(a(130,e===null?"null":typeof e,"")),s=null}return n=Et(T,i,n,c),n.elementType=e,n.type=s,n.lanes=p,n}function Zn(e,n,i,s){return e=Et(7,e,s,n),e.lanes=i,e}function As(e,n,i){return e=Et(6,e,null,n),e.lanes=i,e}function Kc(e){var n=Et(18,null,null,0);return n.stateNode=e,n}function xs(e,n,i){return n=Et(4,e.children!==null?e.children:[],e.key,n),n.lanes=i,n.stateNode={containerInfo:e.containerInfo,pendingChildren:null,implementation:e.implementation},n}var Qc=new WeakMap;function It(e,n){if(typeof e=="object"&&e!==null){var i=Qc.get(e);return i!==void 0?i:(n={value:e,source:n,stack:Kr(n)},Qc.set(e,n),n)}return{value:e,source:n,stack:Kr(n)}}var Rl=[],Ml=0,bo=null,Ti=0,wt=[],Ut=0,Tn=null,Jt=1,Ft="";function en(e,n){Rl[Ml++]=Ti,Rl[Ml++]=bo,bo=e,Ti=n}function Xc(e,n,i){wt[Ut++]=Jt,wt[Ut++]=Ft,wt[Ut++]=Tn,Tn=e;var s=Jt;e=Ft;var c=32-Tt(s)-1;s&=~(1<<c),i+=1;var p=32-Tt(n)+c;if(30<p){var T=c-c%5;p=(s&(1<<T)-1).toString(32),s>>=T,c-=T,Jt=1<<32-Tt(n)+c|i<<c|s,Ft=p+e}else Jt=1<<p|i<<c|s,Ft=e}function Rs(e){e.return!==null&&(en(e,1),Xc(e,1,0))}function Ms(e){for(;e===bo;)bo=Rl[--Ml],Rl[Ml]=null,Ti=Rl[--Ml],Rl[Ml]=null;for(;e===Tn;)Tn=wt[--Ut],wt[Ut]=null,Ft=wt[--Ut],wt[Ut]=null,Jt=wt[--Ut],wt[Ut]=null}function Zc(e,n){wt[Ut++]=Jt,wt[Ut++]=Ft,wt[Ut++]=Tn,Jt=n.id,Ft=n.overflow,Tn=e}var je=null,Le=null,me=!1,Sn=null,kt=!1,Ns=Error(a(519));function En(e){var n=Error(a(418,1<arguments.length&&arguments[1]!==void 0&&arguments[1]?"text":"HTML",""));throw Si(It(n,e)),Ns}function $c(e){var n=e.stateNode,i=e.type,s=e.memoizedProps;switch(n[We]=e,n[ct]=s,i){case"dialog":fe("cancel",n),fe("close",n);break;case"iframe":case"object":case"embed":fe("load",n);break;case"video":case"audio":for(i=0;i<Pi.length;i++)fe(Pi[i],n);break;case"source":fe("error",n);break;case"img":case"image":case"link":fe("error",n),fe("load",n);break;case"details":fe("toggle",n);break;case"input":fe("invalid",n),cc(n,s.value,s.defaultValue,s.checked,s.defaultChecked,s.type,s.name,!0);break;case"select":fe("invalid",n);break;case"textarea":fe("invalid",n),dc(n,s.value,s.defaultValue,s.children)}i=s.children,typeof i!="string"&&typeof i!="number"&&typeof i!="bigint"||n.textContent===""+i||s.suppressHydrationWarning===!0||mp(n.textContent,i)?(s.popover!=null&&(fe("beforetoggle",n),fe("toggle",n)),s.onScroll!=null&&fe("scroll",n),s.onScrollEnd!=null&&fe("scrollend",n),s.onClick!=null&&(n.onclick=$t),n=!0):n=!1,n||En(e,!0)}function Wc(e){for(je=e.return;je;)switch(je.tag){case 5:case 31:case 13:kt=!1;return;case 27:case 3:kt=!0;return;default:je=je.return}}function Nl(e){if(e!==je)return!1;if(!me)return Wc(e),me=!0,!1;var n=e.tag,i;if((i=n!==3&&n!==27)&&((i=n===5)&&(i=e.type,i=!(i!=="form"&&i!=="button")||Fu(e.type,e.memoizedProps)),i=!i),i&&Le&&En(e),Wc(e),n===13){if(e=e.memoizedState,e=e!==null?e.dehydrated:null,!e)throw Error(a(317));Le=Ap(e)}else if(n===31){if(e=e.memoizedState,e=e!==null?e.dehydrated:null,!e)throw Error(a(317));Le=Ap(e)}else n===27?(n=Le,Ln(e.type)?(e=$u,$u=null,Le=e):Le=n):Le=je?qt(e.stateNode.nextSibling):null;return!0}function $n(){Le=je=null,me=!1}function bs(){var e=Sn;return e!==null&&(mt===null?mt=e:mt.push.apply(mt,e),Sn=null),e}function Si(e){Sn===null?Sn=[e]:Sn.push(e)}var Ds=x(null),Wn=null,tn=null;function _n(e,n,i){F(Ds,n._currentValue),n._currentValue=i}function nn(e){e._currentValue=Ds.current,H(Ds)}function Is(e,n,i){for(;e!==null;){var s=e.alternate;if((e.childLanes&n)!==n?(e.childLanes|=n,s!==null&&(s.childLanes|=n)):s!==null&&(s.childLanes&n)!==n&&(s.childLanes|=n),e===i)break;e=e.return}}function ws(e,n,i,s){var c=e.child;for(c!==null&&(c.return=e);c!==null;){var p=c.dependencies;if(p!==null){var T=c.child;p=p.firstContext;e:for(;p!==null;){var _=p;p=c;for(var C=0;C<n.length;C++)if(_.context===n[C]){p.lanes|=i,_=p.alternate,_!==null&&(_.lanes|=i),Is(p.return,i,e),s||(T=null);break e}p=_.next}}else if(c.tag===18){if(T=c.return,T===null)throw Error(a(341));T.lanes|=i,p=T.alternate,p!==null&&(p.lanes|=i),Is(T,i,e),T=null}else T=c.child;if(T!==null)T.return=c;else for(T=c;T!==null;){if(T===e){T=null;break}if(c=T.sibling,c!==null){c.return=T.return,T=c;break}T=T.return}c=T}}function bl(e,n,i,s){e=null;for(var c=n,p=!1;c!==null;){if(!p){if((c.flags&524288)!==0)p=!0;else if((c.flags&262144)!==0)break}if(c.tag===10){var T=c.alternate;if(T===null)throw Error(a(387));if(T=T.memoizedProps,T!==null){var _=c.type;St(c.pendingProps.value,T.value)||(e!==null?e.push(_):e=[_])}}else if(c===_e.current){if(T=c.alternate,T===null)throw Error(a(387));T.memoizedState.memoizedState!==c.memoizedState.memoizedState&&(e!==null?e.push(Ki):e=[Ki])}c=c.return}e!==null&&ws(n,e,i,s),n.flags|=262144}function Do(e){for(e=e.firstContext;e!==null;){if(!St(e.context._currentValue,e.memoizedValue))return!0;e=e.next}return!1}function jn(e){Wn=e,tn=null,e=e.dependencies,e!==null&&(e.firstContext=null)}function et(e){return jc(Wn,e)}function Io(e,n){return Wn===null&&jn(e),jc(e,n)}function jc(e,n){var i=n._currentValue;if(n={context:n,memoizedValue:i,next:null},tn===null){if(e===null)throw Error(a(308));tn=n,e.dependencies={lanes:0,firstContext:n},e.flags|=524288}else tn=tn.next=n;return i}var xy=typeof AbortController<"u"?AbortController:function(){var e=[],n=this.signal={aborted:!1,addEventListener:function(i,s){e.push(s)}};this.abort=function(){n.aborted=!0,e.forEach(function(i){return i()})}},Ry=l.unstable_scheduleCallback,My=l.unstable_NormalPriority,Ye={$$typeof:B,Consumer:null,Provider:null,_currentValue:null,_currentValue2:null,_threadCount:0};function Us(){return{controller:new xy,data:new Map,refCount:0}}function Ei(e){e.refCount--,e.refCount===0&&Ry(My,function(){e.controller.abort()})}var _i=null,ks=0,Dl=0,Il=null;function Ny(e,n){if(_i===null){var i=_i=[];ks=0,Dl=zu(),Il={status:"pending",value:void 0,then:function(s){i.push(s)}}}return ks++,n.then(ef,ef),n}function ef(){if(--ks===0&&_i!==null){Il!==null&&(Il.status="fulfilled");var e=_i;_i=null,Dl=0,Il=null;for(var n=0;n<e.length;n++)(0,e[n])()}}function by(e,n){var i=[],s={status:"pending",value:null,reason:null,then:function(c){i.push(c)}};return e.then(function(){s.status="fulfilled",s.value=n;for(var c=0;c<i.length;c++)(0,i[c])(n)},function(c){for(s.status="rejected",s.reason=c,c=0;c<i.length;c++)(0,i[c])(void 0)}),s}var tf=k.S;k.S=function(e,n){Hd=yt(),typeof n=="object"&&n!==null&&typeof n.then=="function"&&Ny(e,n),tf!==null&&tf(e,n)};var el=x(null);function Ls(){var e=el.current;return e!==null?e:Ue.pooledCache}function wo(e,n){n===null?F(el,el.current):F(el,n.pool)}function nf(){var e=Ls();return e===null?null:{parent:Ye._currentValue,pool:e}}var wl=Error(a(460)),qs=Error(a(474)),Uo=Error(a(542)),ko={then:function(){}};function lf(e){return e=e.status,e==="fulfilled"||e==="rejected"}function of(e,n,i){switch(i=e[i],i===void 0?e.push(n):i!==n&&(n.then($t,$t),n=i),n.status){case"fulfilled":return n.value;case"rejected":throw e=n.reason,sf(e),e;default:if(typeof n.status=="string")n.then($t,$t);else{if(e=Ue,e!==null&&100<e.shellSuspendCounter)throw Error(a(482));e=n,e.status="pending",e.then(function(s){if(n.status==="pending"){var c=n;c.status="fulfilled",c.value=s}},function(s){if(n.status==="pending"){var c=n;c.status="rejected",c.reason=s}})}switch(n.status){case"fulfilled":return n.value;case"rejected":throw e=n.reason,sf(e),e}throw nl=n,wl}}function tl(e){try{var n=e._init;return n(e._payload)}catch(i){throw i!==null&&typeof i=="object"&&typeof i.then=="function"?(nl=i,wl):i}}var nl=null;function af(){if(nl===null)throw Error(a(459));var e=nl;return nl=null,e}function sf(e){if(e===wl||e===Uo)throw Error(a(483))}var Ul=null,Ci=0;function Lo(e){var n=Ci;return Ci+=1,Ul===null&&(Ul=[]),of(Ul,e,n)}function Ai(e,n){n=n.props.ref,e.ref=n!==void 0?n:null}function qo(e,n){throw n.$$typeof===E?Error(a(525)):(e=Object.prototype.toString.call(n),Error(a(31,e==="[object Object]"?"object with keys {"+Object.keys(n).join(", ")+"}":e)))}function uf(e){function n(M,A){if(e){var b=M.deletions;b===null?(M.deletions=[A],M.flags|=16):b.push(A)}}function i(M,A){if(!e)return null;for(;A!==null;)n(M,A),A=A.sibling;return null}function s(M){for(var A=new Map;M!==null;)M.key!==null?A.set(M.key,M):A.set(M.index,M),M=M.sibling;return A}function c(M,A){return M=jt(M,A),M.index=0,M.sibling=null,M}function p(M,A,b){return M.index=b,e?(b=M.alternate,b!==null?(b=b.index,b<A?(M.flags|=67108866,A):b):(M.flags|=67108866,A)):(M.flags|=1048576,A)}function T(M){return e&&M.alternate===null&&(M.flags|=67108866),M}function _(M,A,b,q){return A===null||A.tag!==6?(A=As(b,M.mode,q),A.return=M,A):(A=c(A,b),A.return=M,A)}function C(M,A,b,q){var ee=b.type;return ee===z?L(M,A,b.props.children,q,b.key):A!==null&&(A.elementType===ee||typeof ee=="object"&&ee!==null&&ee.$$typeof===ge&&tl(ee)===A.type)?(A=c(A,b.props),Ai(A,b),A.return=M,A):(A=No(b.type,b.key,b.props,null,M.mode,q),Ai(A,b),A.return=M,A)}function D(M,A,b,q){return A===null||A.tag!==4||A.stateNode.containerInfo!==b.containerInfo||A.stateNode.implementation!==b.implementation?(A=xs(b,M.mode,q),A.return=M,A):(A=c(A,b.children||[]),A.return=M,A)}function L(M,A,b,q,ee){return A===null||A.tag!==7?(A=Zn(b,M.mode,q,ee),A.return=M,A):(A=c(A,b),A.return=M,A)}function G(M,A,b){if(typeof A=="string"&&A!==""||typeof A=="number"||typeof A=="bigint")return A=As(""+A,M.mode,b),A.return=M,A;if(typeof A=="object"&&A!==null){switch(A.$$typeof){case R:return b=No(A.type,A.key,A.props,null,M.mode,b),Ai(b,A),b.return=M,b;case N:return A=xs(A,M.mode,b),A.return=M,A;case ge:return A=tl(A),G(M,A,b)}if(rt(A)||ue(A))return A=Zn(A,M.mode,b,null),A.return=M,A;if(typeof A.then=="function")return G(M,Lo(A),b);if(A.$$typeof===B)return G(M,Io(M,A),b);qo(M,A)}return null}function I(M,A,b,q){var ee=A!==null?A.key:null;if(typeof b=="string"&&b!==""||typeof b=="number"||typeof b=="bigint")return ee!==null?null:_(M,A,""+b,q);if(typeof b=="object"&&b!==null){switch(b.$$typeof){case R:return b.key===ee?C(M,A,b,q):null;case N:return b.key===ee?D(M,A,b,q):null;case ge:return b=tl(b),I(M,A,b,q)}if(rt(b)||ue(b))return ee!==null?null:L(M,A,b,q,null);if(typeof b.then=="function")return I(M,A,Lo(b),q);if(b.$$typeof===B)return I(M,A,Io(M,b),q);qo(M,b)}return null}function U(M,A,b,q,ee){if(typeof q=="string"&&q!==""||typeof q=="number"||typeof q=="bigint")return M=M.get(b)||null,_(A,M,""+q,ee);if(typeof q=="object"&&q!==null){switch(q.$$typeof){case R:return M=M.get(q.key===null?b:q.key)||null,C(A,M,q,ee);case N:return M=M.get(q.key===null?b:q.key)||null,D(A,M,q,ee);case ge:return q=tl(q),U(M,A,b,q,ee)}if(rt(q)||ue(q))return M=M.get(b)||null,L(A,M,q,ee,null);if(typeof q.then=="function")return U(M,A,b,Lo(q),ee);if(q.$$typeof===B)return U(M,A,b,Io(A,q),ee);qo(A,q)}return null}function X(M,A,b,q){for(var ee=null,ye=null,W=A,se=A=0,he=null;W!==null&&se<b.length;se++){W.index>se?(he=W,W=null):he=W.sibling;var ve=I(M,W,b[se],q);if(ve===null){W===null&&(W=he);break}e&&W&&ve.alternate===null&&n(M,W),A=p(ve,A,se),ye===null?ee=ve:ye.sibling=ve,ye=ve,W=he}if(se===b.length)return i(M,W),me&&en(M,se),ee;if(W===null){for(;se<b.length;se++)W=G(M,b[se],q),W!==null&&(A=p(W,A,se),ye===null?ee=W:ye.sibling=W,ye=W);return me&&en(M,se),ee}for(W=s(W);se<b.length;se++)he=U(W,M,se,b[se],q),he!==null&&(e&&he.alternate!==null&&W.delete(he.key===null?se:he.key),A=p(he,A,se),ye===null?ee=he:ye.sibling=he,ye=he);return e&&W.forEach(function(Vn){return n(M,Vn)}),me&&en(M,se),ee}function ne(M,A,b,q){if(b==null)throw Error(a(151));for(var ee=null,ye=null,W=A,se=A=0,he=null,ve=b.next();W!==null&&!ve.done;se++,ve=b.next()){W.index>se?(he=W,W=null):he=W.sibling;var Vn=I(M,W,ve.value,q);if(Vn===null){W===null&&(W=he);break}e&&W&&Vn.alternate===null&&n(M,W),A=p(Vn,A,se),ye===null?ee=Vn:ye.sibling=Vn,ye=Vn,W=he}if(ve.done)return i(M,W),me&&en(M,se),ee;if(W===null){for(;!ve.done;se++,ve=b.next())ve=G(M,ve.value,q),ve!==null&&(A=p(ve,A,se),ye===null?ee=ve:ye.sibling=ve,ye=ve);return me&&en(M,se),ee}for(W=s(W);!ve.done;se++,ve=b.next())ve=U(W,M,se,ve.value,q),ve!==null&&(e&&ve.alternate!==null&&W.delete(ve.key===null?se:ve.key),A=p(ve,A,se),ye===null?ee=ve:ye.sibling=ve,ye=ve);return e&&W.forEach(function(V0){return n(M,V0)}),me&&en(M,se),ee}function De(M,A,b,q){if(typeof b=="object"&&b!==null&&b.type===z&&b.key===null&&(b=b.props.children),typeof b=="object"&&b!==null){switch(b.$$typeof){case R:e:{for(var ee=b.key;A!==null;){if(A.key===ee){if(ee=b.type,ee===z){if(A.tag===7){i(M,A.sibling),q=c(A,b.props.children),q.return=M,M=q;break e}}else if(A.elementType===ee||typeof ee=="object"&&ee!==null&&ee.$$typeof===ge&&tl(ee)===A.type){i(M,A.sibling),q=c(A,b.props),Ai(q,b),q.return=M,M=q;break e}i(M,A);break}else n(M,A);A=A.sibling}b.type===z?(q=Zn(b.props.children,M.mode,q,b.key),q.return=M,M=q):(q=No(b.type,b.key,b.props,null,M.mode,q),Ai(q,b),q.return=M,M=q)}return T(M);case N:e:{for(ee=b.key;A!==null;){if(A.key===ee)if(A.tag===4&&A.stateNode.containerInfo===b.containerInfo&&A.stateNode.implementation===b.implementation){i(M,A.sibling),q=c(A,b.children||[]),q.return=M,M=q;break e}else{i(M,A);break}else n(M,A);A=A.sibling}q=xs(b,M.mode,q),q.return=M,M=q}return T(M);case ge:return b=tl(b),De(M,A,b,q)}if(rt(b))return X(M,A,b,q);if(ue(b)){if(ee=ue(b),typeof ee!="function")throw Error(a(150));return b=ee.call(b),ne(M,A,b,q)}if(typeof b.then=="function")return De(M,A,Lo(b),q);if(b.$$typeof===B)return De(M,A,Io(M,b),q);qo(M,b)}return typeof b=="string"&&b!==""||typeof b=="number"||typeof b=="bigint"?(b=""+b,A!==null&&A.tag===6?(i(M,A.sibling),q=c(A,b),q.return=M,M=q):(i(M,A),q=As(b,M.mode,q),q.return=M,M=q),T(M)):i(M,A)}return function(M,A,b,q){try{Ci=0;var ee=De(M,A,b,q);return Ul=null,ee}catch(W){if(W===wl||W===Uo)throw W;var ye=Et(29,W,null,M.mode);return ye.lanes=q,ye.return=M,ye}finally{}}}var ll=uf(!0),rf=uf(!1),Cn=!1;function zs(e){e.updateQueue={baseState:e.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,lanes:0,hiddenCallbacks:null},callbacks:null}}function Gs(e,n){e=e.updateQueue,n.updateQueue===e&&(n.updateQueue={baseState:e.baseState,firstBaseUpdate:e.firstBaseUpdate,lastBaseUpdate:e.lastBaseUpdate,shared:e.shared,callbacks:null})}function An(e){return{lane:e,tag:0,payload:null,callback:null,next:null}}function xn(e,n,i){var s=e.updateQueue;if(s===null)return null;if(s=s.shared,(Ee&2)!==0){var c=s.pending;return c===null?n.next=n:(n.next=c.next,c.next=n),s.pending=n,n=Mo(e),Jc(e,null,i),n}return Ro(e,s,n,i),Mo(e)}function xi(e,n,i){if(n=n.updateQueue,n!==null&&(n=n.shared,(i&4194048)!==0)){var s=n.lanes;s&=e.pendingLanes,i|=s,n.lanes=i,jr(e,i)}}function Hs(e,n){var i=e.updateQueue,s=e.alternate;if(s!==null&&(s=s.updateQueue,i===s)){var c=null,p=null;if(i=i.firstBaseUpdate,i!==null){do{var T={lane:i.lane,tag:i.tag,payload:i.payload,callback:null,next:null};p===null?c=p=T:p=p.next=T,i=i.next}while(i!==null);p===null?c=p=n:p=p.next=n}else c=p=n;i={baseState:s.baseState,firstBaseUpdate:c,lastBaseUpdate:p,shared:s.shared,callbacks:s.callbacks},e.updateQueue=i;return}e=i.lastBaseUpdate,e===null?i.firstBaseUpdate=n:e.next=n,i.lastBaseUpdate=n}var Vs=!1;function Ri(){if(Vs){var e=Il;if(e!==null)throw e}}function Mi(e,n,i,s){Vs=!1;var c=e.updateQueue;Cn=!1;var p=c.firstBaseUpdate,T=c.lastBaseUpdate,_=c.shared.pending;if(_!==null){c.shared.pending=null;var C=_,D=C.next;C.next=null,T===null?p=D:T.next=D,T=C;var L=e.alternate;L!==null&&(L=L.updateQueue,_=L.lastBaseUpdate,_!==T&&(_===null?L.firstBaseUpdate=D:_.next=D,L.lastBaseUpdate=C))}if(p!==null){var G=c.baseState;T=0,L=D=C=null,_=p;do{var I=_.lane&-536870913,U=I!==_.lane;if(U?(pe&I)===I:(s&I)===I){I!==0&&I===Dl&&(Vs=!0),L!==null&&(L=L.next={lane:0,tag:_.tag,payload:_.payload,callback:null,next:null});e:{var X=e,ne=_;I=n;var De=i;switch(ne.tag){case 1:if(X=ne.payload,typeof X=="function"){G=X.call(De,G,I);break e}G=X;break e;case 3:X.flags=X.flags&-65537|128;case 0:if(X=ne.payload,I=typeof X=="function"?X.call(De,G,I):X,I==null)break e;G=S({},G,I);break e;case 2:Cn=!0}}I=_.callback,I!==null&&(e.flags|=64,U&&(e.flags|=8192),U=c.callbacks,U===null?c.callbacks=[I]:U.push(I))}else U={lane:I,tag:_.tag,payload:_.payload,callback:_.callback,next:null},L===null?(D=L=U,C=G):L=L.next=U,T|=I;if(_=_.next,_===null){if(_=c.shared.pending,_===null)break;U=_,_=U.next,U.next=null,c.lastBaseUpdate=U,c.shared.pending=null}}while(!0);L===null&&(C=G),c.baseState=C,c.firstBaseUpdate=D,c.lastBaseUpdate=L,p===null&&(c.shared.lanes=0),Dn|=T,e.lanes=T,e.memoizedState=G}}function cf(e,n){if(typeof e!="function")throw Error(a(191,e));e.call(n)}function ff(e,n){var i=e.callbacks;if(i!==null)for(e.callbacks=null,e=0;e<i.length;e++)cf(i[e],n)}var kl=x(null),zo=x(0);function df(e,n){e=dn,F(zo,e),F(kl,n),dn=e|n.baseLanes}function Bs(){F(zo,dn),F(kl,kl.current)}function Ps(){dn=zo.current,H(kl),H(zo)}var _t=x(null),Lt=null;function Rn(e){var n=e.alternate;F(Pe,Pe.current&1),F(_t,e),Lt===null&&(n===null||kl.current!==null||n.memoizedState!==null)&&(Lt=e)}function Os(e){F(Pe,Pe.current),F(_t,e),Lt===null&&(Lt=e)}function pf(e){e.tag===22?(F(Pe,Pe.current),F(_t,e),Lt===null&&(Lt=e)):Mn()}function Mn(){F(Pe,Pe.current),F(_t,_t.current)}function Ct(e){H(_t),Lt===e&&(Lt=null),H(Pe)}var Pe=x(0);function Go(e){for(var n=e;n!==null;){if(n.tag===13){var i=n.memoizedState;if(i!==null&&(i=i.dehydrated,i===null||Xu(i)||Zu(i)))return n}else if(n.tag===19&&(n.memoizedProps.revealOrder==="forwards"||n.memoizedProps.revealOrder==="backwards"||n.memoizedProps.revealOrder==="unstable_legacy-backwards"||n.memoizedProps.revealOrder==="together")){if((n.flags&128)!==0)return n}else if(n.child!==null){n.child.return=n,n=n.child;continue}if(n===e)break;for(;n.sibling===null;){if(n.return===null||n.return===e)return null;n=n.return}n.sibling.return=n.return,n=n.sibling}return null}var ln=0,ae=null,Ne=null,Je=null,Ho=!1,Ll=!1,il=!1,Vo=0,Ni=0,ql=null,Dy=0;function He(){throw Error(a(321))}function Ys(e,n){if(n===null)return!1;for(var i=0;i<n.length&&i<e.length;i++)if(!St(e[i],n[i]))return!1;return!0}function Js(e,n,i,s,c,p){return ln=p,ae=n,n.memoizedState=null,n.updateQueue=null,n.lanes=0,k.H=e===null||e.memoizedState===null?Zf:au,il=!1,p=i(s,c),il=!1,Ll&&(p=mf(n,i,s,c)),hf(e),p}function hf(e){k.H=Ii;var n=Ne!==null&&Ne.next!==null;if(ln=0,Je=Ne=ae=null,Ho=!1,Ni=0,ql=null,n)throw Error(a(300));e===null||Fe||(e=e.dependencies,e!==null&&Do(e)&&(Fe=!0))}function mf(e,n,i,s){ae=e;var c=0;do{if(Ll&&(ql=null),Ni=0,Ll=!1,25<=c)throw Error(a(301));if(c+=1,Je=Ne=null,e.updateQueue!=null){var p=e.updateQueue;p.lastEffect=null,p.events=null,p.stores=null,p.memoCache!=null&&(p.memoCache.index=0)}k.H=$f,p=n(i,s)}while(Ll);return p}function Iy(){var e=k.H,n=e.useState()[0];return n=typeof n.then=="function"?bi(n):n,e=e.useState()[0],(Ne!==null?Ne.memoizedState:null)!==e&&(ae.flags|=1024),n}function Fs(){var e=Vo!==0;return Vo=0,e}function Ks(e,n,i){n.updateQueue=e.updateQueue,n.flags&=-2053,e.lanes&=~i}function Qs(e){if(Ho){for(e=e.memoizedState;e!==null;){var n=e.queue;n!==null&&(n.pending=null),e=e.next}Ho=!1}ln=0,Je=Ne=ae=null,Ll=!1,Ni=Vo=0,ql=null}function st(){var e={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return Je===null?ae.memoizedState=Je=e:Je=Je.next=e,Je}function Oe(){if(Ne===null){var e=ae.alternate;e=e!==null?e.memoizedState:null}else e=Ne.next;var n=Je===null?ae.memoizedState:Je.next;if(n!==null)Je=n,Ne=e;else{if(e===null)throw ae.alternate===null?Error(a(467)):Error(a(310));Ne=e,e={memoizedState:Ne.memoizedState,baseState:Ne.baseState,baseQueue:Ne.baseQueue,queue:Ne.queue,next:null},Je===null?ae.memoizedState=Je=e:Je=Je.next=e}return Je}function Bo(){return{lastEffect:null,events:null,stores:null,memoCache:null}}function bi(e){var n=Ni;return Ni+=1,ql===null&&(ql=[]),e=of(ql,e,n),n=ae,(Je===null?n.memoizedState:Je.next)===null&&(n=n.alternate,k.H=n===null||n.memoizedState===null?Zf:au),e}function Po(e){if(e!==null&&typeof e=="object"){if(typeof e.then=="function")return bi(e);if(e.$$typeof===B)return et(e)}throw Error(a(438,String(e)))}function Xs(e){var n=null,i=ae.updateQueue;if(i!==null&&(n=i.memoCache),n==null){var s=ae.alternate;s!==null&&(s=s.updateQueue,s!==null&&(s=s.memoCache,s!=null&&(n={data:s.data.map(function(c){return c.slice()}),index:0})))}if(n==null&&(n={data:[],index:0}),i===null&&(i=Bo(),ae.updateQueue=i),i.memoCache=n,i=n.data[n.index],i===void 0)for(i=n.data[n.index]=Array(e),s=0;s<e;s++)i[s]=de;return n.index++,i}function on(e,n){return typeof n=="function"?n(e):n}function Oo(e){var n=Oe();return Zs(n,Ne,e)}function Zs(e,n,i){var s=e.queue;if(s===null)throw Error(a(311));s.lastRenderedReducer=i;var c=e.baseQueue,p=s.pending;if(p!==null){if(c!==null){var T=c.next;c.next=p.next,p.next=T}n.baseQueue=c=p,s.pending=null}if(p=e.baseState,c===null)e.memoizedState=p;else{n=c.next;var _=T=null,C=null,D=n,L=!1;do{var G=D.lane&-536870913;if(G!==D.lane?(pe&G)===G:(ln&G)===G){var I=D.revertLane;if(I===0)C!==null&&(C=C.next={lane:0,revertLane:0,gesture:null,action:D.action,hasEagerState:D.hasEagerState,eagerState:D.eagerState,next:null}),G===Dl&&(L=!0);else if((ln&I)===I){D=D.next,I===Dl&&(L=!0);continue}else G={lane:0,revertLane:D.revertLane,gesture:null,action:D.action,hasEagerState:D.hasEagerState,eagerState:D.eagerState,next:null},C===null?(_=C=G,T=p):C=C.next=G,ae.lanes|=I,Dn|=I;G=D.action,il&&i(p,G),p=D.hasEagerState?D.eagerState:i(p,G)}else I={lane:G,revertLane:D.revertLane,gesture:D.gesture,action:D.action,hasEagerState:D.hasEagerState,eagerState:D.eagerState,next:null},C===null?(_=C=I,T=p):C=C.next=I,ae.lanes|=G,Dn|=G;D=D.next}while(D!==null&&D!==n);if(C===null?T=p:C.next=_,!St(p,e.memoizedState)&&(Fe=!0,L&&(i=Il,i!==null)))throw i;e.memoizedState=p,e.baseState=T,e.baseQueue=C,s.lastRenderedState=p}return c===null&&(s.lanes=0),[e.memoizedState,s.dispatch]}function $s(e){var n=Oe(),i=n.queue;if(i===null)throw Error(a(311));i.lastRenderedReducer=e;var s=i.dispatch,c=i.pending,p=n.memoizedState;if(c!==null){i.pending=null;var T=c=c.next;do p=e(p,T.action),T=T.next;while(T!==c);St(p,n.memoizedState)||(Fe=!0),n.memoizedState=p,n.baseQueue===null&&(n.baseState=p),i.lastRenderedState=p}return[p,s]}function gf(e,n,i){var s=ae,c=Oe(),p=me;if(p){if(i===void 0)throw Error(a(407));i=i()}else i=n();var T=!St((Ne||c).memoizedState,i);if(T&&(c.memoizedState=i,Fe=!0),c=c.queue,eu(Tf.bind(null,s,c,e),[e]),c.getSnapshot!==n||T||Je!==null&&Je.memoizedState.tag&1){if(s.flags|=2048,zl(9,{destroy:void 0},vf.bind(null,s,c,i,n),null),Ue===null)throw Error(a(349));p||(ln&127)!==0||yf(s,n,i)}return i}function yf(e,n,i){e.flags|=16384,e={getSnapshot:n,value:i},n=ae.updateQueue,n===null?(n=Bo(),ae.updateQueue=n,n.stores=[e]):(i=n.stores,i===null?n.stores=[e]:i.push(e))}function vf(e,n,i,s){n.value=i,n.getSnapshot=s,Sf(n)&&Ef(e)}function Tf(e,n,i){return i(function(){Sf(n)&&Ef(e)})}function Sf(e){var n=e.getSnapshot;e=e.value;try{var i=n();return!St(e,i)}catch{return!0}}function Ef(e){var n=Xn(e,2);n!==null&&gt(n,e,2)}function Ws(e){var n=st();if(typeof e=="function"){var i=e;if(e=i(),il){gn(!0);try{i()}finally{gn(!1)}}}return n.memoizedState=n.baseState=e,n.queue={pending:null,lanes:0,dispatch:null,lastRenderedReducer:on,lastRenderedState:e},n}function _f(e,n,i,s){return e.baseState=i,Zs(e,Ne,typeof s=="function"?s:on)}function wy(e,n,i,s,c){if(Fo(e))throw Error(a(485));if(e=n.action,e!==null){var p={payload:c,action:e,next:null,isTransition:!0,status:"pending",value:null,reason:null,listeners:[],then:function(T){p.listeners.push(T)}};k.T!==null?i(!0):p.isTransition=!1,s(p),i=n.pending,i===null?(p.next=n.pending=p,Cf(n,p)):(p.next=i.next,n.pending=i.next=p)}}function Cf(e,n){var i=n.action,s=n.payload,c=e.state;if(n.isTransition){var p=k.T,T={};k.T=T;try{var _=i(c,s),C=k.S;C!==null&&C(T,_),Af(e,n,_)}catch(D){js(e,n,D)}finally{p!==null&&T.types!==null&&(p.types=T.types),k.T=p}}else try{p=i(c,s),Af(e,n,p)}catch(D){js(e,n,D)}}function Af(e,n,i){i!==null&&typeof i=="object"&&typeof i.then=="function"?i.then(function(s){xf(e,n,s)},function(s){return js(e,n,s)}):xf(e,n,i)}function xf(e,n,i){n.status="fulfilled",n.value=i,Rf(n),e.state=i,n=e.pending,n!==null&&(i=n.next,i===n?e.pending=null:(i=i.next,n.next=i,Cf(e,i)))}function js(e,n,i){var s=e.pending;if(e.pending=null,s!==null){s=s.next;do n.status="rejected",n.reason=i,Rf(n),n=n.next;while(n!==s)}e.action=null}function Rf(e){e=e.listeners;for(var n=0;n<e.length;n++)(0,e[n])()}function Mf(e,n){return n}function Nf(e,n){if(me){var i=Ue.formState;if(i!==null){e:{var s=ae;if(me){if(Le){t:{for(var c=Le,p=kt;c.nodeType!==8;){if(!p){c=null;break t}if(c=qt(c.nextSibling),c===null){c=null;break t}}p=c.data,c=p==="F!"||p==="F"?c:null}if(c){Le=qt(c.nextSibling),s=c.data==="F!";break e}}En(s)}s=!1}s&&(n=i[0])}}return i=st(),i.memoizedState=i.baseState=n,s={pending:null,lanes:0,dispatch:null,lastRenderedReducer:Mf,lastRenderedState:n},i.queue=s,i=Kf.bind(null,ae,s),s.dispatch=i,s=Ws(!1),p=ou.bind(null,ae,!1,s.queue),s=st(),c={state:n,dispatch:null,action:e,pending:null},s.queue=c,i=wy.bind(null,ae,c,p,i),c.dispatch=i,s.memoizedState=e,[n,i,!1]}function bf(e){var n=Oe();return Df(n,Ne,e)}function Df(e,n,i){if(n=Zs(e,n,Mf)[0],e=Oo(on)[0],typeof n=="object"&&n!==null&&typeof n.then=="function")try{var s=bi(n)}catch(T){throw T===wl?Uo:T}else s=n;n=Oe();var c=n.queue,p=c.dispatch;return i!==n.memoizedState&&(ae.flags|=2048,zl(9,{destroy:void 0},Uy.bind(null,c,i),null)),[s,p,e]}function Uy(e,n){e.action=n}function If(e){var n=Oe(),i=Ne;if(i!==null)return Df(n,i,e);Oe(),n=n.memoizedState,i=Oe();var s=i.queue.dispatch;return i.memoizedState=e,[n,s,!1]}function zl(e,n,i,s){return e={tag:e,create:i,deps:s,inst:n,next:null},n=ae.updateQueue,n===null&&(n=Bo(),ae.updateQueue=n),i=n.lastEffect,i===null?n.lastEffect=e.next=e:(s=i.next,i.next=e,e.next=s,n.lastEffect=e),e}function wf(){return Oe().memoizedState}function Yo(e,n,i,s){var c=st();ae.flags|=e,c.memoizedState=zl(1|n,{destroy:void 0},i,s===void 0?null:s)}function Jo(e,n,i,s){var c=Oe();s=s===void 0?null:s;var p=c.memoizedState.inst;Ne!==null&&s!==null&&Ys(s,Ne.memoizedState.deps)?c.memoizedState=zl(n,p,i,s):(ae.flags|=e,c.memoizedState=zl(1|n,p,i,s))}function Uf(e,n){Yo(8390656,8,e,n)}function eu(e,n){Jo(2048,8,e,n)}function ky(e){ae.flags|=4;var n=ae.updateQueue;if(n===null)n=Bo(),ae.updateQueue=n,n.events=[e];else{var i=n.events;i===null?n.events=[e]:i.push(e)}}function kf(e){var n=Oe().memoizedState;return ky({ref:n,nextImpl:e}),function(){if((Ee&2)!==0)throw Error(a(440));return n.impl.apply(void 0,arguments)}}function Lf(e,n){return Jo(4,2,e,n)}function qf(e,n){return Jo(4,4,e,n)}function zf(e,n){if(typeof n=="function"){e=e();var i=n(e);return function(){typeof i=="function"?i():n(null)}}if(n!=null)return e=e(),n.current=e,function(){n.current=null}}function Gf(e,n,i){i=i!=null?i.concat([e]):null,Jo(4,4,zf.bind(null,n,e),i)}function tu(){}function Hf(e,n){var i=Oe();n=n===void 0?null:n;var s=i.memoizedState;return n!==null&&Ys(n,s[1])?s[0]:(i.memoizedState=[e,n],e)}function Vf(e,n){var i=Oe();n=n===void 0?null:n;var s=i.memoizedState;if(n!==null&&Ys(n,s[1]))return s[0];if(s=e(),il){gn(!0);try{e()}finally{gn(!1)}}return i.memoizedState=[s,n],s}function nu(e,n,i){return i===void 0||(ln&1073741824)!==0&&(pe&261930)===0?e.memoizedState=n:(e.memoizedState=i,e=Bd(),ae.lanes|=e,Dn|=e,i)}function Bf(e,n,i,s){return St(i,n)?i:kl.current!==null?(e=nu(e,i,s),St(e,n)||(Fe=!0),e):(ln&42)===0||(ln&1073741824)!==0&&(pe&261930)===0?(Fe=!0,e.memoizedState=i):(e=Bd(),ae.lanes|=e,Dn|=e,n)}function Pf(e,n,i,s,c){var p=Y.p;Y.p=p!==0&&8>p?p:8;var T=k.T,_={};k.T=_,ou(e,!1,n,i);try{var C=c(),D=k.S;if(D!==null&&D(_,C),C!==null&&typeof C=="object"&&typeof C.then=="function"){var L=by(C,s);Di(e,n,L,Rt(e))}else Di(e,n,s,Rt(e))}catch(G){Di(e,n,{then:function(){},status:"rejected",reason:G},Rt())}finally{Y.p=p,T!==null&&_.types!==null&&(T.types=_.types),k.T=T}}function Ly(){}function lu(e,n,i,s){if(e.tag!==5)throw Error(a(476));var c=Of(e).queue;Pf(e,c,n,le,i===null?Ly:function(){return Yf(e),i(s)})}function Of(e){var n=e.memoizedState;if(n!==null)return n;n={memoizedState:le,baseState:le,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:on,lastRenderedState:le},next:null};var i={};return n.next={memoizedState:i,baseState:i,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:on,lastRenderedState:i},next:null},e.memoizedState=n,e=e.alternate,e!==null&&(e.memoizedState=n),n}function Yf(e){var n=Of(e);n.next===null&&(n=e.alternate.memoizedState),Di(e,n.next.queue,{},Rt())}function iu(){return et(Ki)}function Jf(){return Oe().memoizedState}function Ff(){return Oe().memoizedState}function qy(e){for(var n=e.return;n!==null;){switch(n.tag){case 24:case 3:var i=Rt();e=An(i);var s=xn(n,e,i);s!==null&&(gt(s,n,i),xi(s,n,i)),n={cache:Us()},e.payload=n;return}n=n.return}}function zy(e,n,i){var s=Rt();i={lane:s,revertLane:0,gesture:null,action:i,hasEagerState:!1,eagerState:null,next:null},Fo(e)?Qf(n,i):(i=_s(e,n,i,s),i!==null&&(gt(i,e,s),Xf(i,n,s)))}function Kf(e,n,i){var s=Rt();Di(e,n,i,s)}function Di(e,n,i,s){var c={lane:s,revertLane:0,gesture:null,action:i,hasEagerState:!1,eagerState:null,next:null};if(Fo(e))Qf(n,c);else{var p=e.alternate;if(e.lanes===0&&(p===null||p.lanes===0)&&(p=n.lastRenderedReducer,p!==null))try{var T=n.lastRenderedState,_=p(T,i);if(c.hasEagerState=!0,c.eagerState=_,St(_,T))return Ro(e,n,c,0),Ue===null&&xo(),!1}catch{}finally{}if(i=_s(e,n,c,s),i!==null)return gt(i,e,s),Xf(i,n,s),!0}return!1}function ou(e,n,i,s){if(s={lane:2,revertLane:zu(),gesture:null,action:s,hasEagerState:!1,eagerState:null,next:null},Fo(e)){if(n)throw Error(a(479))}else n=_s(e,i,s,2),n!==null&&gt(n,e,2)}function Fo(e){var n=e.alternate;return e===ae||n!==null&&n===ae}function Qf(e,n){Ll=Ho=!0;var i=e.pending;i===null?n.next=n:(n.next=i.next,i.next=n),e.pending=n}function Xf(e,n,i){if((i&4194048)!==0){var s=n.lanes;s&=e.pendingLanes,i|=s,n.lanes=i,jr(e,i)}}var Ii={readContext:et,use:Po,useCallback:He,useContext:He,useEffect:He,useImperativeHandle:He,useLayoutEffect:He,useInsertionEffect:He,useMemo:He,useReducer:He,useRef:He,useState:He,useDebugValue:He,useDeferredValue:He,useTransition:He,useSyncExternalStore:He,useId:He,useHostTransitionStatus:He,useFormState:He,useActionState:He,useOptimistic:He,useMemoCache:He,useCacheRefresh:He};Ii.useEffectEvent=He;var Zf={readContext:et,use:Po,useCallback:function(e,n){return st().memoizedState=[e,n===void 0?null:n],e},useContext:et,useEffect:Uf,useImperativeHandle:function(e,n,i){i=i!=null?i.concat([e]):null,Yo(4194308,4,zf.bind(null,n,e),i)},useLayoutEffect:function(e,n){return Yo(4194308,4,e,n)},useInsertionEffect:function(e,n){Yo(4,2,e,n)},useMemo:function(e,n){var i=st();n=n===void 0?null:n;var s=e();if(il){gn(!0);try{e()}finally{gn(!1)}}return i.memoizedState=[s,n],s},useReducer:function(e,n,i){var s=st();if(i!==void 0){var c=i(n);if(il){gn(!0);try{i(n)}finally{gn(!1)}}}else c=n;return s.memoizedState=s.baseState=c,e={pending:null,lanes:0,dispatch:null,lastRenderedReducer:e,lastRenderedState:c},s.queue=e,e=e.dispatch=zy.bind(null,ae,e),[s.memoizedState,e]},useRef:function(e){var n=st();return e={current:e},n.memoizedState=e},useState:function(e){e=Ws(e);var n=e.queue,i=Kf.bind(null,ae,n);return n.dispatch=i,[e.memoizedState,i]},useDebugValue:tu,useDeferredValue:function(e,n){var i=st();return nu(i,e,n)},useTransition:function(){var e=Ws(!1);return e=Pf.bind(null,ae,e.queue,!0,!1),st().memoizedState=e,[!1,e]},useSyncExternalStore:function(e,n,i){var s=ae,c=st();if(me){if(i===void 0)throw Error(a(407));i=i()}else{if(i=n(),Ue===null)throw Error(a(349));(pe&127)!==0||yf(s,n,i)}c.memoizedState=i;var p={value:i,getSnapshot:n};return c.queue=p,Uf(Tf.bind(null,s,p,e),[e]),s.flags|=2048,zl(9,{destroy:void 0},vf.bind(null,s,p,i,n),null),i},useId:function(){var e=st(),n=Ue.identifierPrefix;if(me){var i=Ft,s=Jt;i=(s&~(1<<32-Tt(s)-1)).toString(32)+i,n="_"+n+"R_"+i,i=Vo++,0<i&&(n+="H"+i.toString(32)),n+="_"}else i=Dy++,n="_"+n+"r_"+i.toString(32)+"_";return e.memoizedState=n},useHostTransitionStatus:iu,useFormState:Nf,useActionState:Nf,useOptimistic:function(e){var n=st();n.memoizedState=n.baseState=e;var i={pending:null,lanes:0,dispatch:null,lastRenderedReducer:null,lastRenderedState:null};return n.queue=i,n=ou.bind(null,ae,!0,i),i.dispatch=n,[e,n]},useMemoCache:Xs,useCacheRefresh:function(){return st().memoizedState=qy.bind(null,ae)},useEffectEvent:function(e){var n=st(),i={impl:e};return n.memoizedState=i,function(){if((Ee&2)!==0)throw Error(a(440));return i.impl.apply(void 0,arguments)}}},au={readContext:et,use:Po,useCallback:Hf,useContext:et,useEffect:eu,useImperativeHandle:Gf,useInsertionEffect:Lf,useLayoutEffect:qf,useMemo:Vf,useReducer:Oo,useRef:wf,useState:function(){return Oo(on)},useDebugValue:tu,useDeferredValue:function(e,n){var i=Oe();return Bf(i,Ne.memoizedState,e,n)},useTransition:function(){var e=Oo(on)[0],n=Oe().memoizedState;return[typeof e=="boolean"?e:bi(e),n]},useSyncExternalStore:gf,useId:Jf,useHostTransitionStatus:iu,useFormState:bf,useActionState:bf,useOptimistic:function(e,n){var i=Oe();return _f(i,Ne,e,n)},useMemoCache:Xs,useCacheRefresh:Ff};au.useEffectEvent=kf;var $f={readContext:et,use:Po,useCallback:Hf,useContext:et,useEffect:eu,useImperativeHandle:Gf,useInsertionEffect:Lf,useLayoutEffect:qf,useMemo:Vf,useReducer:$s,useRef:wf,useState:function(){return $s(on)},useDebugValue:tu,useDeferredValue:function(e,n){var i=Oe();return Ne===null?nu(i,e,n):Bf(i,Ne.memoizedState,e,n)},useTransition:function(){var e=$s(on)[0],n=Oe().memoizedState;return[typeof e=="boolean"?e:bi(e),n]},useSyncExternalStore:gf,useId:Jf,useHostTransitionStatus:iu,useFormState:If,useActionState:If,useOptimistic:function(e,n){var i=Oe();return Ne!==null?_f(i,Ne,e,n):(i.baseState=e,[e,i.queue.dispatch])},useMemoCache:Xs,useCacheRefresh:Ff};$f.useEffectEvent=kf;function su(e,n,i,s){n=e.memoizedState,i=i(s,n),i=i==null?n:S({},n,i),e.memoizedState=i,e.lanes===0&&(e.updateQueue.baseState=i)}var uu={enqueueSetState:function(e,n,i){e=e._reactInternals;var s=Rt(),c=An(s);c.payload=n,i!=null&&(c.callback=i),n=xn(e,c,s),n!==null&&(gt(n,e,s),xi(n,e,s))},enqueueReplaceState:function(e,n,i){e=e._reactInternals;var s=Rt(),c=An(s);c.tag=1,c.payload=n,i!=null&&(c.callback=i),n=xn(e,c,s),n!==null&&(gt(n,e,s),xi(n,e,s))},enqueueForceUpdate:function(e,n){e=e._reactInternals;var i=Rt(),s=An(i);s.tag=2,n!=null&&(s.callback=n),n=xn(e,s,i),n!==null&&(gt(n,e,i),xi(n,e,i))}};function Wf(e,n,i,s,c,p,T){return e=e.stateNode,typeof e.shouldComponentUpdate=="function"?e.shouldComponentUpdate(s,p,T):n.prototype&&n.prototype.isPureReactComponent?!yi(i,s)||!yi(c,p):!0}function jf(e,n,i,s){e=n.state,typeof n.componentWillReceiveProps=="function"&&n.componentWillReceiveProps(i,s),typeof n.UNSAFE_componentWillReceiveProps=="function"&&n.UNSAFE_componentWillReceiveProps(i,s),n.state!==e&&uu.enqueueReplaceState(n,n.state,null)}function ol(e,n){var i=n;if("ref"in n){i={};for(var s in n)s!=="ref"&&(i[s]=n[s])}if(e=e.defaultProps){i===n&&(i=S({},i));for(var c in e)i[c]===void 0&&(i[c]=e[c])}return i}function ed(e){Ao(e)}function td(e){console.error(e)}function nd(e){Ao(e)}function Ko(e,n){try{var i=e.onUncaughtError;i(n.value,{componentStack:n.stack})}catch(s){setTimeout(function(){throw s})}}function ld(e,n,i){try{var s=e.onCaughtError;s(i.value,{componentStack:i.stack,errorBoundary:n.tag===1?n.stateNode:null})}catch(c){setTimeout(function(){throw c})}}function ru(e,n,i){return i=An(i),i.tag=3,i.payload={element:null},i.callback=function(){Ko(e,n)},i}function id(e){return e=An(e),e.tag=3,e}function od(e,n,i,s){var c=i.type.getDerivedStateFromError;if(typeof c=="function"){var p=s.value;e.payload=function(){return c(p)},e.callback=function(){ld(n,i,s)}}var T=i.stateNode;T!==null&&typeof T.componentDidCatch=="function"&&(e.callback=function(){ld(n,i,s),typeof c!="function"&&(In===null?In=new Set([this]):In.add(this));var _=s.stack;this.componentDidCatch(s.value,{componentStack:_!==null?_:""})})}function Gy(e,n,i,s,c){if(i.flags|=32768,s!==null&&typeof s=="object"&&typeof s.then=="function"){if(n=i.alternate,n!==null&&bl(n,i,c,!0),i=_t.current,i!==null){switch(i.tag){case 31:case 13:return Lt===null?oa():i.alternate===null&&Ve===0&&(Ve=3),i.flags&=-257,i.flags|=65536,i.lanes=c,s===ko?i.flags|=16384:(n=i.updateQueue,n===null?i.updateQueue=new Set([s]):n.add(s),ku(e,s,c)),!1;case 22:return i.flags|=65536,s===ko?i.flags|=16384:(n=i.updateQueue,n===null?(n={transitions:null,markerInstances:null,retryQueue:new Set([s])},i.updateQueue=n):(i=n.retryQueue,i===null?n.retryQueue=new Set([s]):i.add(s)),ku(e,s,c)),!1}throw Error(a(435,i.tag))}return ku(e,s,c),oa(),!1}if(me)return n=_t.current,n!==null?((n.flags&65536)===0&&(n.flags|=256),n.flags|=65536,n.lanes=c,s!==Ns&&(e=Error(a(422),{cause:s}),Si(It(e,i)))):(s!==Ns&&(n=Error(a(423),{cause:s}),Si(It(n,i))),e=e.current.alternate,e.flags|=65536,c&=-c,e.lanes|=c,s=It(s,i),c=ru(e.stateNode,s,c),Hs(e,c),Ve!==4&&(Ve=2)),!1;var p=Error(a(520),{cause:s});if(p=It(p,i),Hi===null?Hi=[p]:Hi.push(p),Ve!==4&&(Ve=2),n===null)return!0;s=It(s,i),i=n;do{switch(i.tag){case 3:return i.flags|=65536,e=c&-c,i.lanes|=e,e=ru(i.stateNode,s,e),Hs(i,e),!1;case 1:if(n=i.type,p=i.stateNode,(i.flags&128)===0&&(typeof n.getDerivedStateFromError=="function"||p!==null&&typeof p.componentDidCatch=="function"&&(In===null||!In.has(p))))return i.flags|=65536,c&=-c,i.lanes|=c,c=id(c),od(c,e,i,s),Hs(i,c),!1}i=i.return}while(i!==null);return!1}var cu=Error(a(461)),Fe=!1;function tt(e,n,i,s){n.child=e===null?rf(n,null,i,s):ll(n,e.child,i,s)}function ad(e,n,i,s,c){i=i.render;var p=n.ref;if("ref"in s){var T={};for(var _ in s)_!=="ref"&&(T[_]=s[_])}else T=s;return jn(n),s=Js(e,n,i,T,p,c),_=Fs(),e!==null&&!Fe?(Ks(e,n,c),an(e,n,c)):(me&&_&&Rs(n),n.flags|=1,tt(e,n,s,c),n.child)}function sd(e,n,i,s,c){if(e===null){var p=i.type;return typeof p=="function"&&!Cs(p)&&p.defaultProps===void 0&&i.compare===null?(n.tag=15,n.type=p,ud(e,n,p,s,c)):(e=No(i.type,null,s,n,n.mode,c),e.ref=n.ref,e.return=n,n.child=e)}if(p=e.child,!vu(e,c)){var T=p.memoizedProps;if(i=i.compare,i=i!==null?i:yi,i(T,s)&&e.ref===n.ref)return an(e,n,c)}return n.flags|=1,e=jt(p,s),e.ref=n.ref,e.return=n,n.child=e}function ud(e,n,i,s,c){if(e!==null){var p=e.memoizedProps;if(yi(p,s)&&e.ref===n.ref)if(Fe=!1,n.pendingProps=s=p,vu(e,c))(e.flags&131072)!==0&&(Fe=!0);else return n.lanes=e.lanes,an(e,n,c)}return fu(e,n,i,s,c)}function rd(e,n,i,s){var c=s.children,p=e!==null?e.memoizedState:null;if(e===null&&n.stateNode===null&&(n.stateNode={_visibility:1,_pendingMarkers:null,_retryCache:null,_transitions:null}),s.mode==="hidden"){if((n.flags&128)!==0){if(p=p!==null?p.baseLanes|i:i,e!==null){for(s=n.child=e.child,c=0;s!==null;)c=c|s.lanes|s.childLanes,s=s.sibling;s=c&~p}else s=0,n.child=null;return cd(e,n,p,i,s)}if((i&536870912)!==0)n.memoizedState={baseLanes:0,cachePool:null},e!==null&&wo(n,p!==null?p.cachePool:null),p!==null?df(n,p):Bs(),pf(n);else return s=n.lanes=536870912,cd(e,n,p!==null?p.baseLanes|i:i,i,s)}else p!==null?(wo(n,p.cachePool),df(n,p),Mn(),n.memoizedState=null):(e!==null&&wo(n,null),Bs(),Mn());return tt(e,n,c,i),n.child}function wi(e,n){return e!==null&&e.tag===22||n.stateNode!==null||(n.stateNode={_visibility:1,_pendingMarkers:null,_retryCache:null,_transitions:null}),n.sibling}function cd(e,n,i,s,c){var p=Ls();return p=p===null?null:{parent:Ye._currentValue,pool:p},n.memoizedState={baseLanes:i,cachePool:p},e!==null&&wo(n,null),Bs(),pf(n),e!==null&&bl(e,n,s,!0),n.childLanes=c,null}function Qo(e,n){return n=Zo({mode:n.mode,children:n.children},e.mode),n.ref=e.ref,e.child=n,n.return=e,n}function fd(e,n,i){return ll(n,e.child,null,i),e=Qo(n,n.pendingProps),e.flags|=2,Ct(n),n.memoizedState=null,e}function Hy(e,n,i){var s=n.pendingProps,c=(n.flags&128)!==0;if(n.flags&=-129,e===null){if(me){if(s.mode==="hidden")return e=Qo(n,s),n.lanes=536870912,wi(null,e);if(Os(n),(e=Le)?(e=Cp(e,kt),e=e!==null&&e.data==="&"?e:null,e!==null&&(n.memoizedState={dehydrated:e,treeContext:Tn!==null?{id:Jt,overflow:Ft}:null,retryLane:536870912,hydrationErrors:null},i=Kc(e),i.return=n,n.child=i,je=n,Le=null)):e=null,e===null)throw En(n);return n.lanes=536870912,null}return Qo(n,s)}var p=e.memoizedState;if(p!==null){var T=p.dehydrated;if(Os(n),c)if(n.flags&256)n.flags&=-257,n=fd(e,n,i);else if(n.memoizedState!==null)n.child=e.child,n.flags|=128,n=null;else throw Error(a(558));else if(Fe||bl(e,n,i,!1),c=(i&e.childLanes)!==0,Fe||c){if(s=Ue,s!==null&&(T=ec(s,i),T!==0&&T!==p.retryLane))throw p.retryLane=T,Xn(e,T),gt(s,e,T),cu;oa(),n=fd(e,n,i)}else e=p.treeContext,Le=qt(T.nextSibling),je=n,me=!0,Sn=null,kt=!1,e!==null&&Zc(n,e),n=Qo(n,s),n.flags|=4096;return n}return e=jt(e.child,{mode:s.mode,children:s.children}),e.ref=n.ref,n.child=e,e.return=n,e}function Xo(e,n){var i=n.ref;if(i===null)e!==null&&e.ref!==null&&(n.flags|=4194816);else{if(typeof i!="function"&&typeof i!="object")throw Error(a(284));(e===null||e.ref!==i)&&(n.flags|=4194816)}}function fu(e,n,i,s,c){return jn(n),i=Js(e,n,i,s,void 0,c),s=Fs(),e!==null&&!Fe?(Ks(e,n,c),an(e,n,c)):(me&&s&&Rs(n),n.flags|=1,tt(e,n,i,c),n.child)}function dd(e,n,i,s,c,p){return jn(n),n.updateQueue=null,i=mf(n,s,i,c),hf(e),s=Fs(),e!==null&&!Fe?(Ks(e,n,p),an(e,n,p)):(me&&s&&Rs(n),n.flags|=1,tt(e,n,i,p),n.child)}function pd(e,n,i,s,c){if(jn(n),n.stateNode===null){var p=xl,T=i.contextType;typeof T=="object"&&T!==null&&(p=et(T)),p=new i(s,p),n.memoizedState=p.state!==null&&p.state!==void 0?p.state:null,p.updater=uu,n.stateNode=p,p._reactInternals=n,p=n.stateNode,p.props=s,p.state=n.memoizedState,p.refs={},zs(n),T=i.contextType,p.context=typeof T=="object"&&T!==null?et(T):xl,p.state=n.memoizedState,T=i.getDerivedStateFromProps,typeof T=="function"&&(su(n,i,T,s),p.state=n.memoizedState),typeof i.getDerivedStateFromProps=="function"||typeof p.getSnapshotBeforeUpdate=="function"||typeof p.UNSAFE_componentWillMount!="function"&&typeof p.componentWillMount!="function"||(T=p.state,typeof p.componentWillMount=="function"&&p.componentWillMount(),typeof p.UNSAFE_componentWillMount=="function"&&p.UNSAFE_componentWillMount(),T!==p.state&&uu.enqueueReplaceState(p,p.state,null),Mi(n,s,p,c),Ri(),p.state=n.memoizedState),typeof p.componentDidMount=="function"&&(n.flags|=4194308),s=!0}else if(e===null){p=n.stateNode;var _=n.memoizedProps,C=ol(i,_);p.props=C;var D=p.context,L=i.contextType;T=xl,typeof L=="object"&&L!==null&&(T=et(L));var G=i.getDerivedStateFromProps;L=typeof G=="function"||typeof p.getSnapshotBeforeUpdate=="function",_=n.pendingProps!==_,L||typeof p.UNSAFE_componentWillReceiveProps!="function"&&typeof p.componentWillReceiveProps!="function"||(_||D!==T)&&jf(n,p,s,T),Cn=!1;var I=n.memoizedState;p.state=I,Mi(n,s,p,c),Ri(),D=n.memoizedState,_||I!==D||Cn?(typeof G=="function"&&(su(n,i,G,s),D=n.memoizedState),(C=Cn||Wf(n,i,C,s,I,D,T))?(L||typeof p.UNSAFE_componentWillMount!="function"&&typeof p.componentWillMount!="function"||(typeof p.componentWillMount=="function"&&p.componentWillMount(),typeof p.UNSAFE_componentWillMount=="function"&&p.UNSAFE_componentWillMount()),typeof p.componentDidMount=="function"&&(n.flags|=4194308)):(typeof p.componentDidMount=="function"&&(n.flags|=4194308),n.memoizedProps=s,n.memoizedState=D),p.props=s,p.state=D,p.context=T,s=C):(typeof p.componentDidMount=="function"&&(n.flags|=4194308),s=!1)}else{p=n.stateNode,Gs(e,n),T=n.memoizedProps,L=ol(i,T),p.props=L,G=n.pendingProps,I=p.context,D=i.contextType,C=xl,typeof D=="object"&&D!==null&&(C=et(D)),_=i.getDerivedStateFromProps,(D=typeof _=="function"||typeof p.getSnapshotBeforeUpdate=="function")||typeof p.UNSAFE_componentWillReceiveProps!="function"&&typeof p.componentWillReceiveProps!="function"||(T!==G||I!==C)&&jf(n,p,s,C),Cn=!1,I=n.memoizedState,p.state=I,Mi(n,s,p,c),Ri();var U=n.memoizedState;T!==G||I!==U||Cn||e!==null&&e.dependencies!==null&&Do(e.dependencies)?(typeof _=="function"&&(su(n,i,_,s),U=n.memoizedState),(L=Cn||Wf(n,i,L,s,I,U,C)||e!==null&&e.dependencies!==null&&Do(e.dependencies))?(D||typeof p.UNSAFE_componentWillUpdate!="function"&&typeof p.componentWillUpdate!="function"||(typeof p.componentWillUpdate=="function"&&p.componentWillUpdate(s,U,C),typeof p.UNSAFE_componentWillUpdate=="function"&&p.UNSAFE_componentWillUpdate(s,U,C)),typeof p.componentDidUpdate=="function"&&(n.flags|=4),typeof p.getSnapshotBeforeUpdate=="function"&&(n.flags|=1024)):(typeof p.componentDidUpdate!="function"||T===e.memoizedProps&&I===e.memoizedState||(n.flags|=4),typeof p.getSnapshotBeforeUpdate!="function"||T===e.memoizedProps&&I===e.memoizedState||(n.flags|=1024),n.memoizedProps=s,n.memoizedState=U),p.props=s,p.state=U,p.context=C,s=L):(typeof p.componentDidUpdate!="function"||T===e.memoizedProps&&I===e.memoizedState||(n.flags|=4),typeof p.getSnapshotBeforeUpdate!="function"||T===e.memoizedProps&&I===e.memoizedState||(n.flags|=1024),s=!1)}return p=s,Xo(e,n),s=(n.flags&128)!==0,p||s?(p=n.stateNode,i=s&&typeof i.getDerivedStateFromError!="function"?null:p.render(),n.flags|=1,e!==null&&s?(n.child=ll(n,e.child,null,c),n.child=ll(n,null,i,c)):tt(e,n,i,c),n.memoizedState=p.state,e=n.child):e=an(e,n,c),e}function hd(e,n,i,s){return $n(),n.flags|=256,tt(e,n,i,s),n.child}var du={dehydrated:null,treeContext:null,retryLane:0,hydrationErrors:null};function pu(e){return{baseLanes:e,cachePool:nf()}}function hu(e,n,i){return e=e!==null?e.childLanes&~i:0,n&&(e|=xt),e}function md(e,n,i){var s=n.pendingProps,c=!1,p=(n.flags&128)!==0,T;if((T=p)||(T=e!==null&&e.memoizedState===null?!1:(Pe.current&2)!==0),T&&(c=!0,n.flags&=-129),T=(n.flags&32)!==0,n.flags&=-33,e===null){if(me){if(c?Rn(n):Mn(),(e=Le)?(e=Cp(e,kt),e=e!==null&&e.data!=="&"?e:null,e!==null&&(n.memoizedState={dehydrated:e,treeContext:Tn!==null?{id:Jt,overflow:Ft}:null,retryLane:536870912,hydrationErrors:null},i=Kc(e),i.return=n,n.child=i,je=n,Le=null)):e=null,e===null)throw En(n);return Zu(e)?n.lanes=32:n.lanes=536870912,null}var _=s.children;return s=s.fallback,c?(Mn(),c=n.mode,_=Zo({mode:"hidden",children:_},c),s=Zn(s,c,i,null),_.return=n,s.return=n,_.sibling=s,n.child=_,s=n.child,s.memoizedState=pu(i),s.childLanes=hu(e,T,i),n.memoizedState=du,wi(null,s)):(Rn(n),mu(n,_))}var C=e.memoizedState;if(C!==null&&(_=C.dehydrated,_!==null)){if(p)n.flags&256?(Rn(n),n.flags&=-257,n=gu(e,n,i)):n.memoizedState!==null?(Mn(),n.child=e.child,n.flags|=128,n=null):(Mn(),_=s.fallback,c=n.mode,s=Zo({mode:"visible",children:s.children},c),_=Zn(_,c,i,null),_.flags|=2,s.return=n,_.return=n,s.sibling=_,n.child=s,ll(n,e.child,null,i),s=n.child,s.memoizedState=pu(i),s.childLanes=hu(e,T,i),n.memoizedState=du,n=wi(null,s));else if(Rn(n),Zu(_)){if(T=_.nextSibling&&_.nextSibling.dataset,T)var D=T.dgst;T=D,s=Error(a(419)),s.stack="",s.digest=T,Si({value:s,source:null,stack:null}),n=gu(e,n,i)}else if(Fe||bl(e,n,i,!1),T=(i&e.childLanes)!==0,Fe||T){if(T=Ue,T!==null&&(s=ec(T,i),s!==0&&s!==C.retryLane))throw C.retryLane=s,Xn(e,s),gt(T,e,s),cu;Xu(_)||oa(),n=gu(e,n,i)}else Xu(_)?(n.flags|=192,n.child=e.child,n=null):(e=C.treeContext,Le=qt(_.nextSibling),je=n,me=!0,Sn=null,kt=!1,e!==null&&Zc(n,e),n=mu(n,s.children),n.flags|=4096);return n}return c?(Mn(),_=s.fallback,c=n.mode,C=e.child,D=C.sibling,s=jt(C,{mode:"hidden",children:s.children}),s.subtreeFlags=C.subtreeFlags&65011712,D!==null?_=jt(D,_):(_=Zn(_,c,i,null),_.flags|=2),_.return=n,s.return=n,s.sibling=_,n.child=s,wi(null,s),s=n.child,_=e.child.memoizedState,_===null?_=pu(i):(c=_.cachePool,c!==null?(C=Ye._currentValue,c=c.parent!==C?{parent:C,pool:C}:c):c=nf(),_={baseLanes:_.baseLanes|i,cachePool:c}),s.memoizedState=_,s.childLanes=hu(e,T,i),n.memoizedState=du,wi(e.child,s)):(Rn(n),i=e.child,e=i.sibling,i=jt(i,{mode:"visible",children:s.children}),i.return=n,i.sibling=null,e!==null&&(T=n.deletions,T===null?(n.deletions=[e],n.flags|=16):T.push(e)),n.child=i,n.memoizedState=null,i)}function mu(e,n){return n=Zo({mode:"visible",children:n},e.mode),n.return=e,e.child=n}function Zo(e,n){return e=Et(22,e,null,n),e.lanes=0,e}function gu(e,n,i){return ll(n,e.child,null,i),e=mu(n,n.pendingProps.children),e.flags|=2,n.memoizedState=null,e}function gd(e,n,i){e.lanes|=n;var s=e.alternate;s!==null&&(s.lanes|=n),Is(e.return,n,i)}function yu(e,n,i,s,c,p){var T=e.memoizedState;T===null?e.memoizedState={isBackwards:n,rendering:null,renderingStartTime:0,last:s,tail:i,tailMode:c,treeForkCount:p}:(T.isBackwards=n,T.rendering=null,T.renderingStartTime=0,T.last=s,T.tail=i,T.tailMode=c,T.treeForkCount=p)}function yd(e,n,i){var s=n.pendingProps,c=s.revealOrder,p=s.tail;s=s.children;var T=Pe.current,_=(T&2)!==0;if(_?(T=T&1|2,n.flags|=128):T&=1,F(Pe,T),tt(e,n,s,i),s=me?Ti:0,!_&&e!==null&&(e.flags&128)!==0)e:for(e=n.child;e!==null;){if(e.tag===13)e.memoizedState!==null&&gd(e,i,n);else if(e.tag===19)gd(e,i,n);else if(e.child!==null){e.child.return=e,e=e.child;continue}if(e===n)break e;for(;e.sibling===null;){if(e.return===null||e.return===n)break e;e=e.return}e.sibling.return=e.return,e=e.sibling}switch(c){case"forwards":for(i=n.child,c=null;i!==null;)e=i.alternate,e!==null&&Go(e)===null&&(c=i),i=i.sibling;i=c,i===null?(c=n.child,n.child=null):(c=i.sibling,i.sibling=null),yu(n,!1,c,i,p,s);break;case"backwards":case"unstable_legacy-backwards":for(i=null,c=n.child,n.child=null;c!==null;){if(e=c.alternate,e!==null&&Go(e)===null){n.child=c;break}e=c.sibling,c.sibling=i,i=c,c=e}yu(n,!0,i,null,p,s);break;case"together":yu(n,!1,null,null,void 0,s);break;default:n.memoizedState=null}return n.child}function an(e,n,i){if(e!==null&&(n.dependencies=e.dependencies),Dn|=n.lanes,(i&n.childLanes)===0)if(e!==null){if(bl(e,n,i,!1),(i&n.childLanes)===0)return null}else return null;if(e!==null&&n.child!==e.child)throw Error(a(153));if(n.child!==null){for(e=n.child,i=jt(e,e.pendingProps),n.child=i,i.return=n;e.sibling!==null;)e=e.sibling,i=i.sibling=jt(e,e.pendingProps),i.return=n;i.sibling=null}return n.child}function vu(e,n){return(e.lanes&n)!==0?!0:(e=e.dependencies,!!(e!==null&&Do(e)))}function Vy(e,n,i){switch(n.tag){case 3:at(n,n.stateNode.containerInfo),_n(n,Ye,e.memoizedState.cache),$n();break;case 27:case 5:ii(n);break;case 4:at(n,n.stateNode.containerInfo);break;case 10:_n(n,n.type,n.memoizedProps.value);break;case 31:if(n.memoizedState!==null)return n.flags|=128,Os(n),null;break;case 13:var s=n.memoizedState;if(s!==null)return s.dehydrated!==null?(Rn(n),n.flags|=128,null):(i&n.child.childLanes)!==0?md(e,n,i):(Rn(n),e=an(e,n,i),e!==null?e.sibling:null);Rn(n);break;case 19:var c=(e.flags&128)!==0;if(s=(i&n.childLanes)!==0,s||(bl(e,n,i,!1),s=(i&n.childLanes)!==0),c){if(s)return yd(e,n,i);n.flags|=128}if(c=n.memoizedState,c!==null&&(c.rendering=null,c.tail=null,c.lastEffect=null),F(Pe,Pe.current),s)break;return null;case 22:return n.lanes=0,rd(e,n,i,n.pendingProps);case 24:_n(n,Ye,e.memoizedState.cache)}return an(e,n,i)}function vd(e,n,i){if(e!==null)if(e.memoizedProps!==n.pendingProps)Fe=!0;else{if(!vu(e,i)&&(n.flags&128)===0)return Fe=!1,Vy(e,n,i);Fe=(e.flags&131072)!==0}else Fe=!1,me&&(n.flags&1048576)!==0&&Xc(n,Ti,n.index);switch(n.lanes=0,n.tag){case 16:e:{var s=n.pendingProps;if(e=tl(n.elementType),n.type=e,typeof e=="function")Cs(e)?(s=ol(e,s),n.tag=1,n=pd(null,n,e,s,i)):(n.tag=0,n=fu(null,n,e,s,i));else{if(e!=null){var c=e.$$typeof;if(c===V){n.tag=11,n=ad(null,n,e,s,i);break e}else if(c===J){n.tag=14,n=sd(null,n,e,s,i);break e}}throw n=Mt(e)||e,Error(a(306,n,""))}}return n;case 0:return fu(e,n,n.type,n.pendingProps,i);case 1:return s=n.type,c=ol(s,n.pendingProps),pd(e,n,s,c,i);case 3:e:{if(at(n,n.stateNode.containerInfo),e===null)throw Error(a(387));s=n.pendingProps;var p=n.memoizedState;c=p.element,Gs(e,n),Mi(n,s,null,i);var T=n.memoizedState;if(s=T.cache,_n(n,Ye,s),s!==p.cache&&ws(n,[Ye],i,!0),Ri(),s=T.element,p.isDehydrated)if(p={element:s,isDehydrated:!1,cache:T.cache},n.updateQueue.baseState=p,n.memoizedState=p,n.flags&256){n=hd(e,n,s,i);break e}else if(s!==c){c=It(Error(a(424)),n),Si(c),n=hd(e,n,s,i);break e}else{switch(e=n.stateNode.containerInfo,e.nodeType){case 9:e=e.body;break;default:e=e.nodeName==="HTML"?e.ownerDocument.body:e}for(Le=qt(e.firstChild),je=n,me=!0,Sn=null,kt=!0,i=rf(n,null,s,i),n.child=i;i;)i.flags=i.flags&-3|4096,i=i.sibling}else{if($n(),s===c){n=an(e,n,i);break e}tt(e,n,s,i)}n=n.child}return n;case 26:return Xo(e,n),e===null?(i=bp(n.type,null,n.pendingProps,null))?n.memoizedState=i:me||(i=n.type,e=n.pendingProps,s=da(re.current).createElement(i),s[We]=n,s[ct]=e,nt(s,i,e),Ze(s),n.stateNode=s):n.memoizedState=bp(n.type,e.memoizedProps,n.pendingProps,e.memoizedState),null;case 27:return ii(n),e===null&&me&&(s=n.stateNode=Rp(n.type,n.pendingProps,re.current),je=n,kt=!0,c=Le,Ln(n.type)?($u=c,Le=qt(s.firstChild)):Le=c),tt(e,n,n.pendingProps.children,i),Xo(e,n),e===null&&(n.flags|=4194304),n.child;case 5:return e===null&&me&&((c=s=Le)&&(s=g0(s,n.type,n.pendingProps,kt),s!==null?(n.stateNode=s,je=n,Le=qt(s.firstChild),kt=!1,c=!0):c=!1),c||En(n)),ii(n),c=n.type,p=n.pendingProps,T=e!==null?e.memoizedProps:null,s=p.children,Fu(c,p)?s=null:T!==null&&Fu(c,T)&&(n.flags|=32),n.memoizedState!==null&&(c=Js(e,n,Iy,null,null,i),Ki._currentValue=c),Xo(e,n),tt(e,n,s,i),n.child;case 6:return e===null&&me&&((e=i=Le)&&(i=y0(i,n.pendingProps,kt),i!==null?(n.stateNode=i,je=n,Le=null,e=!0):e=!1),e||En(n)),null;case 13:return md(e,n,i);case 4:return at(n,n.stateNode.containerInfo),s=n.pendingProps,e===null?n.child=ll(n,null,s,i):tt(e,n,s,i),n.child;case 11:return ad(e,n,n.type,n.pendingProps,i);case 7:return tt(e,n,n.pendingProps,i),n.child;case 8:return tt(e,n,n.pendingProps.children,i),n.child;case 12:return tt(e,n,n.pendingProps.children,i),n.child;case 10:return s=n.pendingProps,_n(n,n.type,s.value),tt(e,n,s.children,i),n.child;case 9:return c=n.type._context,s=n.pendingProps.children,jn(n),c=et(c),s=s(c),n.flags|=1,tt(e,n,s,i),n.child;case 14:return sd(e,n,n.type,n.pendingProps,i);case 15:return ud(e,n,n.type,n.pendingProps,i);case 19:return yd(e,n,i);case 31:return Hy(e,n,i);case 22:return rd(e,n,i,n.pendingProps);case 24:return jn(n),s=et(Ye),e===null?(c=Ls(),c===null&&(c=Ue,p=Us(),c.pooledCache=p,p.refCount++,p!==null&&(c.pooledCacheLanes|=i),c=p),n.memoizedState={parent:s,cache:c},zs(n),_n(n,Ye,c)):((e.lanes&i)!==0&&(Gs(e,n),Mi(n,null,null,i),Ri()),c=e.memoizedState,p=n.memoizedState,c.parent!==s?(c={parent:s,cache:s},n.memoizedState=c,n.lanes===0&&(n.memoizedState=n.updateQueue.baseState=c),_n(n,Ye,s)):(s=p.cache,_n(n,Ye,s),s!==c.cache&&ws(n,[Ye],i,!0))),tt(e,n,n.pendingProps.children,i),n.child;case 29:throw n.pendingProps}throw Error(a(156,n.tag))}function sn(e){e.flags|=4}function Tu(e,n,i,s,c){if((n=(e.mode&32)!==0)&&(n=!1),n){if(e.flags|=16777216,(c&335544128)===c)if(e.stateNode.complete)e.flags|=8192;else if(Jd())e.flags|=8192;else throw nl=ko,qs}else e.flags&=-16777217}function Td(e,n){if(n.type!=="stylesheet"||(n.state.loading&4)!==0)e.flags&=-16777217;else if(e.flags|=16777216,!kp(n))if(Jd())e.flags|=8192;else throw nl=ko,qs}function $o(e,n){n!==null&&(e.flags|=4),e.flags&16384&&(n=e.tag!==22?$r():536870912,e.lanes|=n,Bl|=n)}function Ui(e,n){if(!me)switch(e.tailMode){case"hidden":n=e.tail;for(var i=null;n!==null;)n.alternate!==null&&(i=n),n=n.sibling;i===null?e.tail=null:i.sibling=null;break;case"collapsed":i=e.tail;for(var s=null;i!==null;)i.alternate!==null&&(s=i),i=i.sibling;s===null?n||e.tail===null?e.tail=null:e.tail.sibling=null:s.sibling=null}}function qe(e){var n=e.alternate!==null&&e.alternate.child===e.child,i=0,s=0;if(n)for(var c=e.child;c!==null;)i|=c.lanes|c.childLanes,s|=c.subtreeFlags&65011712,s|=c.flags&65011712,c.return=e,c=c.sibling;else for(c=e.child;c!==null;)i|=c.lanes|c.childLanes,s|=c.subtreeFlags,s|=c.flags,c.return=e,c=c.sibling;return e.subtreeFlags|=s,e.childLanes=i,n}function By(e,n,i){var s=n.pendingProps;switch(Ms(n),n.tag){case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return qe(n),null;case 1:return qe(n),null;case 3:return i=n.stateNode,s=null,e!==null&&(s=e.memoizedState.cache),n.memoizedState.cache!==s&&(n.flags|=2048),nn(Ye),Be(),i.pendingContext&&(i.context=i.pendingContext,i.pendingContext=null),(e===null||e.child===null)&&(Nl(n)?sn(n):e===null||e.memoizedState.isDehydrated&&(n.flags&256)===0||(n.flags|=1024,bs())),qe(n),null;case 26:var c=n.type,p=n.memoizedState;return e===null?(sn(n),p!==null?(qe(n),Td(n,p)):(qe(n),Tu(n,c,null,s,i))):p?p!==e.memoizedState?(sn(n),qe(n),Td(n,p)):(qe(n),n.flags&=-16777217):(e=e.memoizedProps,e!==s&&sn(n),qe(n),Tu(n,c,e,s,i)),null;case 27:if(so(n),i=re.current,c=n.type,e!==null&&n.stateNode!=null)e.memoizedProps!==s&&sn(n);else{if(!s){if(n.stateNode===null)throw Error(a(166));return qe(n),null}e=$.current,Nl(n)?$c(n):(e=Rp(c,s,i),n.stateNode=e,sn(n))}return qe(n),null;case 5:if(so(n),c=n.type,e!==null&&n.stateNode!=null)e.memoizedProps!==s&&sn(n);else{if(!s){if(n.stateNode===null)throw Error(a(166));return qe(n),null}if(p=$.current,Nl(n))$c(n);else{var T=da(re.current);switch(p){case 1:p=T.createElementNS("http://www.w3.org/2000/svg",c);break;case 2:p=T.createElementNS("http://www.w3.org/1998/Math/MathML",c);break;default:switch(c){case"svg":p=T.createElementNS("http://www.w3.org/2000/svg",c);break;case"math":p=T.createElementNS("http://www.w3.org/1998/Math/MathML",c);break;case"script":p=T.createElement("div"),p.innerHTML="<script><\/script>",p=p.removeChild(p.firstChild);break;case"select":p=typeof s.is=="string"?T.createElement("select",{is:s.is}):T.createElement("select"),s.multiple?p.multiple=!0:s.size&&(p.size=s.size);break;default:p=typeof s.is=="string"?T.createElement(c,{is:s.is}):T.createElement(c)}}p[We]=n,p[ct]=s;e:for(T=n.child;T!==null;){if(T.tag===5||T.tag===6)p.appendChild(T.stateNode);else if(T.tag!==4&&T.tag!==27&&T.child!==null){T.child.return=T,T=T.child;continue}if(T===n)break e;for(;T.sibling===null;){if(T.return===null||T.return===n)break e;T=T.return}T.sibling.return=T.return,T=T.sibling}n.stateNode=p;e:switch(nt(p,c,s),c){case"button":case"input":case"select":case"textarea":s=!!s.autoFocus;break e;case"img":s=!0;break e;default:s=!1}s&&sn(n)}}return qe(n),Tu(n,n.type,e===null?null:e.memoizedProps,n.pendingProps,i),null;case 6:if(e&&n.stateNode!=null)e.memoizedProps!==s&&sn(n);else{if(typeof s!="string"&&n.stateNode===null)throw Error(a(166));if(e=re.current,Nl(n)){if(e=n.stateNode,i=n.memoizedProps,s=null,c=je,c!==null)switch(c.tag){case 27:case 5:s=c.memoizedProps}e[We]=n,e=!!(e.nodeValue===i||s!==null&&s.suppressHydrationWarning===!0||mp(e.nodeValue,i)),e||En(n,!0)}else e=da(e).createTextNode(s),e[We]=n,n.stateNode=e}return qe(n),null;case 31:if(i=n.memoizedState,e===null||e.memoizedState!==null){if(s=Nl(n),i!==null){if(e===null){if(!s)throw Error(a(318));if(e=n.memoizedState,e=e!==null?e.dehydrated:null,!e)throw Error(a(557));e[We]=n}else $n(),(n.flags&128)===0&&(n.memoizedState=null),n.flags|=4;qe(n),e=!1}else i=bs(),e!==null&&e.memoizedState!==null&&(e.memoizedState.hydrationErrors=i),e=!0;if(!e)return n.flags&256?(Ct(n),n):(Ct(n),null);if((n.flags&128)!==0)throw Error(a(558))}return qe(n),null;case 13:if(s=n.memoizedState,e===null||e.memoizedState!==null&&e.memoizedState.dehydrated!==null){if(c=Nl(n),s!==null&&s.dehydrated!==null){if(e===null){if(!c)throw Error(a(318));if(c=n.memoizedState,c=c!==null?c.dehydrated:null,!c)throw Error(a(317));c[We]=n}else $n(),(n.flags&128)===0&&(n.memoizedState=null),n.flags|=4;qe(n),c=!1}else c=bs(),e!==null&&e.memoizedState!==null&&(e.memoizedState.hydrationErrors=c),c=!0;if(!c)return n.flags&256?(Ct(n),n):(Ct(n),null)}return Ct(n),(n.flags&128)!==0?(n.lanes=i,n):(i=s!==null,e=e!==null&&e.memoizedState!==null,i&&(s=n.child,c=null,s.alternate!==null&&s.alternate.memoizedState!==null&&s.alternate.memoizedState.cachePool!==null&&(c=s.alternate.memoizedState.cachePool.pool),p=null,s.memoizedState!==null&&s.memoizedState.cachePool!==null&&(p=s.memoizedState.cachePool.pool),p!==c&&(s.flags|=2048)),i!==e&&i&&(n.child.flags|=8192),$o(n,n.updateQueue),qe(n),null);case 4:return Be(),e===null&&Bu(n.stateNode.containerInfo),qe(n),null;case 10:return nn(n.type),qe(n),null;case 19:if(H(Pe),s=n.memoizedState,s===null)return qe(n),null;if(c=(n.flags&128)!==0,p=s.rendering,p===null)if(c)Ui(s,!1);else{if(Ve!==0||e!==null&&(e.flags&128)!==0)for(e=n.child;e!==null;){if(p=Go(e),p!==null){for(n.flags|=128,Ui(s,!1),e=p.updateQueue,n.updateQueue=e,$o(n,e),n.subtreeFlags=0,e=i,i=n.child;i!==null;)Fc(i,e),i=i.sibling;return F(Pe,Pe.current&1|2),me&&en(n,s.treeForkCount),n.child}e=e.sibling}s.tail!==null&&yt()>na&&(n.flags|=128,c=!0,Ui(s,!1),n.lanes=4194304)}else{if(!c)if(e=Go(p),e!==null){if(n.flags|=128,c=!0,e=e.updateQueue,n.updateQueue=e,$o(n,e),Ui(s,!0),s.tail===null&&s.tailMode==="hidden"&&!p.alternate&&!me)return qe(n),null}else 2*yt()-s.renderingStartTime>na&&i!==536870912&&(n.flags|=128,c=!0,Ui(s,!1),n.lanes=4194304);s.isBackwards?(p.sibling=n.child,n.child=p):(e=s.last,e!==null?e.sibling=p:n.child=p,s.last=p)}return s.tail!==null?(e=s.tail,s.rendering=e,s.tail=e.sibling,s.renderingStartTime=yt(),e.sibling=null,i=Pe.current,F(Pe,c?i&1|2:i&1),me&&en(n,s.treeForkCount),e):(qe(n),null);case 22:case 23:return Ct(n),Ps(),s=n.memoizedState!==null,e!==null?e.memoizedState!==null!==s&&(n.flags|=8192):s&&(n.flags|=8192),s?(i&536870912)!==0&&(n.flags&128)===0&&(qe(n),n.subtreeFlags&6&&(n.flags|=8192)):qe(n),i=n.updateQueue,i!==null&&$o(n,i.retryQueue),i=null,e!==null&&e.memoizedState!==null&&e.memoizedState.cachePool!==null&&(i=e.memoizedState.cachePool.pool),s=null,n.memoizedState!==null&&n.memoizedState.cachePool!==null&&(s=n.memoizedState.cachePool.pool),s!==i&&(n.flags|=2048),e!==null&&H(el),null;case 24:return i=null,e!==null&&(i=e.memoizedState.cache),n.memoizedState.cache!==i&&(n.flags|=2048),nn(Ye),qe(n),null;case 25:return null;case 30:return null}throw Error(a(156,n.tag))}function Py(e,n){switch(Ms(n),n.tag){case 1:return e=n.flags,e&65536?(n.flags=e&-65537|128,n):null;case 3:return nn(Ye),Be(),e=n.flags,(e&65536)!==0&&(e&128)===0?(n.flags=e&-65537|128,n):null;case 26:case 27:case 5:return so(n),null;case 31:if(n.memoizedState!==null){if(Ct(n),n.alternate===null)throw Error(a(340));$n()}return e=n.flags,e&65536?(n.flags=e&-65537|128,n):null;case 13:if(Ct(n),e=n.memoizedState,e!==null&&e.dehydrated!==null){if(n.alternate===null)throw Error(a(340));$n()}return e=n.flags,e&65536?(n.flags=e&-65537|128,n):null;case 19:return H(Pe),null;case 4:return Be(),null;case 10:return nn(n.type),null;case 22:case 23:return Ct(n),Ps(),e!==null&&H(el),e=n.flags,e&65536?(n.flags=e&-65537|128,n):null;case 24:return nn(Ye),null;case 25:return null;default:return null}}function Sd(e,n){switch(Ms(n),n.tag){case 3:nn(Ye),Be();break;case 26:case 27:case 5:so(n);break;case 4:Be();break;case 31:n.memoizedState!==null&&Ct(n);break;case 13:Ct(n);break;case 19:H(Pe);break;case 10:nn(n.type);break;case 22:case 23:Ct(n),Ps(),e!==null&&H(el);break;case 24:nn(Ye)}}function ki(e,n){try{var i=n.updateQueue,s=i!==null?i.lastEffect:null;if(s!==null){var c=s.next;i=c;do{if((i.tag&e)===e){s=void 0;var p=i.create,T=i.inst;s=p(),T.destroy=s}i=i.next}while(i!==c)}}catch(_){Ae(n,n.return,_)}}function Nn(e,n,i){try{var s=n.updateQueue,c=s!==null?s.lastEffect:null;if(c!==null){var p=c.next;s=p;do{if((s.tag&e)===e){var T=s.inst,_=T.destroy;if(_!==void 0){T.destroy=void 0,c=n;var C=i,D=_;try{D()}catch(L){Ae(c,C,L)}}}s=s.next}while(s!==p)}}catch(L){Ae(n,n.return,L)}}function Ed(e){var n=e.updateQueue;if(n!==null){var i=e.stateNode;try{ff(n,i)}catch(s){Ae(e,e.return,s)}}}function _d(e,n,i){i.props=ol(e.type,e.memoizedProps),i.state=e.memoizedState;try{i.componentWillUnmount()}catch(s){Ae(e,n,s)}}function Li(e,n){try{var i=e.ref;if(i!==null){switch(e.tag){case 26:case 27:case 5:var s=e.stateNode;break;case 30:s=e.stateNode;break;default:s=e.stateNode}typeof i=="function"?e.refCleanup=i(s):i.current=s}}catch(c){Ae(e,n,c)}}function Kt(e,n){var i=e.ref,s=e.refCleanup;if(i!==null)if(typeof s=="function")try{s()}catch(c){Ae(e,n,c)}finally{e.refCleanup=null,e=e.alternate,e!=null&&(e.refCleanup=null)}else if(typeof i=="function")try{i(null)}catch(c){Ae(e,n,c)}else i.current=null}function Cd(e){var n=e.type,i=e.memoizedProps,s=e.stateNode;try{e:switch(n){case"button":case"input":case"select":case"textarea":i.autoFocus&&s.focus();break e;case"img":i.src?s.src=i.src:i.srcSet&&(s.srcset=i.srcSet)}}catch(c){Ae(e,e.return,c)}}function Su(e,n,i){try{var s=e.stateNode;c0(s,e.type,i,n),s[ct]=n}catch(c){Ae(e,e.return,c)}}function Ad(e){return e.tag===5||e.tag===3||e.tag===26||e.tag===27&&Ln(e.type)||e.tag===4}function Eu(e){e:for(;;){for(;e.sibling===null;){if(e.return===null||Ad(e.return))return null;e=e.return}for(e.sibling.return=e.return,e=e.sibling;e.tag!==5&&e.tag!==6&&e.tag!==18;){if(e.tag===27&&Ln(e.type)||e.flags&2||e.child===null||e.tag===4)continue e;e.child.return=e,e=e.child}if(!(e.flags&2))return e.stateNode}}function _u(e,n,i){var s=e.tag;if(s===5||s===6)e=e.stateNode,n?(i.nodeType===9?i.body:i.nodeName==="HTML"?i.ownerDocument.body:i).insertBefore(e,n):(n=i.nodeType===9?i.body:i.nodeName==="HTML"?i.ownerDocument.body:i,n.appendChild(e),i=i._reactRootContainer,i!=null||n.onclick!==null||(n.onclick=$t));else if(s!==4&&(s===27&&Ln(e.type)&&(i=e.stateNode,n=null),e=e.child,e!==null))for(_u(e,n,i),e=e.sibling;e!==null;)_u(e,n,i),e=e.sibling}function Wo(e,n,i){var s=e.tag;if(s===5||s===6)e=e.stateNode,n?i.insertBefore(e,n):i.appendChild(e);else if(s!==4&&(s===27&&Ln(e.type)&&(i=e.stateNode),e=e.child,e!==null))for(Wo(e,n,i),e=e.sibling;e!==null;)Wo(e,n,i),e=e.sibling}function xd(e){var n=e.stateNode,i=e.memoizedProps;try{for(var s=e.type,c=n.attributes;c.length;)n.removeAttributeNode(c[0]);nt(n,s,i),n[We]=e,n[ct]=i}catch(p){Ae(e,e.return,p)}}var un=!1,Ke=!1,Cu=!1,Rd=typeof WeakSet=="function"?WeakSet:Set,$e=null;function Oy(e,n){if(e=e.containerInfo,Yu=Ta,e=zc(e),gs(e)){if("selectionStart"in e)var i={start:e.selectionStart,end:e.selectionEnd};else e:{i=(i=e.ownerDocument)&&i.defaultView||window;var s=i.getSelection&&i.getSelection();if(s&&s.rangeCount!==0){i=s.anchorNode;var c=s.anchorOffset,p=s.focusNode;s=s.focusOffset;try{i.nodeType,p.nodeType}catch{i=null;break e}var T=0,_=-1,C=-1,D=0,L=0,G=e,I=null;t:for(;;){for(var U;G!==i||c!==0&&G.nodeType!==3||(_=T+c),G!==p||s!==0&&G.nodeType!==3||(C=T+s),G.nodeType===3&&(T+=G.nodeValue.length),(U=G.firstChild)!==null;)I=G,G=U;for(;;){if(G===e)break t;if(I===i&&++D===c&&(_=T),I===p&&++L===s&&(C=T),(U=G.nextSibling)!==null)break;G=I,I=G.parentNode}G=U}i=_===-1||C===-1?null:{start:_,end:C}}else i=null}i=i||{start:0,end:0}}else i=null;for(Ju={focusedElem:e,selectionRange:i},Ta=!1,$e=n;$e!==null;)if(n=$e,e=n.child,(n.subtreeFlags&1028)!==0&&e!==null)e.return=n,$e=e;else for(;$e!==null;){switch(n=$e,p=n.alternate,e=n.flags,n.tag){case 0:if((e&4)!==0&&(e=n.updateQueue,e=e!==null?e.events:null,e!==null))for(i=0;i<e.length;i++)c=e[i],c.ref.impl=c.nextImpl;break;case 11:case 15:break;case 1:if((e&1024)!==0&&p!==null){e=void 0,i=n,c=p.memoizedProps,p=p.memoizedState,s=i.stateNode;try{var X=ol(i.type,c);e=s.getSnapshotBeforeUpdate(X,p),s.__reactInternalSnapshotBeforeUpdate=e}catch(ne){Ae(i,i.return,ne)}}break;case 3:if((e&1024)!==0){if(e=n.stateNode.containerInfo,i=e.nodeType,i===9)Qu(e);else if(i===1)switch(e.nodeName){case"HEAD":case"HTML":case"BODY":Qu(e);break;default:e.textContent=""}}break;case 5:case 26:case 27:case 6:case 4:case 17:break;default:if((e&1024)!==0)throw Error(a(163))}if(e=n.sibling,e!==null){e.return=n.return,$e=e;break}$e=n.return}}function Md(e,n,i){var s=i.flags;switch(i.tag){case 0:case 11:case 15:cn(e,i),s&4&&ki(5,i);break;case 1:if(cn(e,i),s&4)if(e=i.stateNode,n===null)try{e.componentDidMount()}catch(T){Ae(i,i.return,T)}else{var c=ol(i.type,n.memoizedProps);n=n.memoizedState;try{e.componentDidUpdate(c,n,e.__reactInternalSnapshotBeforeUpdate)}catch(T){Ae(i,i.return,T)}}s&64&&Ed(i),s&512&&Li(i,i.return);break;case 3:if(cn(e,i),s&64&&(e=i.updateQueue,e!==null)){if(n=null,i.child!==null)switch(i.child.tag){case 27:case 5:n=i.child.stateNode;break;case 1:n=i.child.stateNode}try{ff(e,n)}catch(T){Ae(i,i.return,T)}}break;case 27:n===null&&s&4&&xd(i);case 26:case 5:cn(e,i),n===null&&s&4&&Cd(i),s&512&&Li(i,i.return);break;case 12:cn(e,i);break;case 31:cn(e,i),s&4&&Dd(e,i);break;case 13:cn(e,i),s&4&&Id(e,i),s&64&&(e=i.memoizedState,e!==null&&(e=e.dehydrated,e!==null&&(i=Wy.bind(null,i),v0(e,i))));break;case 22:if(s=i.memoizedState!==null||un,!s){n=n!==null&&n.memoizedState!==null||Ke,c=un;var p=Ke;un=s,(Ke=n)&&!p?fn(e,i,(i.subtreeFlags&8772)!==0):cn(e,i),un=c,Ke=p}break;case 30:break;default:cn(e,i)}}function Nd(e){var n=e.alternate;n!==null&&(e.alternate=null,Nd(n)),e.child=null,e.deletions=null,e.sibling=null,e.tag===5&&(n=e.stateNode,n!==null&&ja(n)),e.stateNode=null,e.return=null,e.dependencies=null,e.memoizedProps=null,e.memoizedState=null,e.pendingProps=null,e.stateNode=null,e.updateQueue=null}var Ge=null,dt=!1;function rn(e,n,i){for(i=i.child;i!==null;)bd(e,n,i),i=i.sibling}function bd(e,n,i){if(vt&&typeof vt.onCommitFiberUnmount=="function")try{vt.onCommitFiberUnmount(oi,i)}catch{}switch(i.tag){case 26:Ke||Kt(i,n),rn(e,n,i),i.memoizedState?i.memoizedState.count--:i.stateNode&&(i=i.stateNode,i.parentNode.removeChild(i));break;case 27:Ke||Kt(i,n);var s=Ge,c=dt;Ln(i.type)&&(Ge=i.stateNode,dt=!1),rn(e,n,i),Yi(i.stateNode),Ge=s,dt=c;break;case 5:Ke||Kt(i,n);case 6:if(s=Ge,c=dt,Ge=null,rn(e,n,i),Ge=s,dt=c,Ge!==null)if(dt)try{(Ge.nodeType===9?Ge.body:Ge.nodeName==="HTML"?Ge.ownerDocument.body:Ge).removeChild(i.stateNode)}catch(p){Ae(i,n,p)}else try{Ge.removeChild(i.stateNode)}catch(p){Ae(i,n,p)}break;case 18:Ge!==null&&(dt?(e=Ge,Ep(e.nodeType===9?e.body:e.nodeName==="HTML"?e.ownerDocument.body:e,i.stateNode),Xl(e)):Ep(Ge,i.stateNode));break;case 4:s=Ge,c=dt,Ge=i.stateNode.containerInfo,dt=!0,rn(e,n,i),Ge=s,dt=c;break;case 0:case 11:case 14:case 15:Nn(2,i,n),Ke||Nn(4,i,n),rn(e,n,i);break;case 1:Ke||(Kt(i,n),s=i.stateNode,typeof s.componentWillUnmount=="function"&&_d(i,n,s)),rn(e,n,i);break;case 21:rn(e,n,i);break;case 22:Ke=(s=Ke)||i.memoizedState!==null,rn(e,n,i),Ke=s;break;default:rn(e,n,i)}}function Dd(e,n){if(n.memoizedState===null&&(e=n.alternate,e!==null&&(e=e.memoizedState,e!==null))){e=e.dehydrated;try{Xl(e)}catch(i){Ae(n,n.return,i)}}}function Id(e,n){if(n.memoizedState===null&&(e=n.alternate,e!==null&&(e=e.memoizedState,e!==null&&(e=e.dehydrated,e!==null))))try{Xl(e)}catch(i){Ae(n,n.return,i)}}function Yy(e){switch(e.tag){case 31:case 13:case 19:var n=e.stateNode;return n===null&&(n=e.stateNode=new Rd),n;case 22:return e=e.stateNode,n=e._retryCache,n===null&&(n=e._retryCache=new Rd),n;default:throw Error(a(435,e.tag))}}function jo(e,n){var i=Yy(e);n.forEach(function(s){if(!i.has(s)){i.add(s);var c=jy.bind(null,e,s);s.then(c,c)}})}function pt(e,n){var i=n.deletions;if(i!==null)for(var s=0;s<i.length;s++){var c=i[s],p=e,T=n,_=T;e:for(;_!==null;){switch(_.tag){case 27:if(Ln(_.type)){Ge=_.stateNode,dt=!1;break e}break;case 5:Ge=_.stateNode,dt=!1;break e;case 3:case 4:Ge=_.stateNode.containerInfo,dt=!0;break e}_=_.return}if(Ge===null)throw Error(a(160));bd(p,T,c),Ge=null,dt=!1,p=c.alternate,p!==null&&(p.return=null),c.return=null}if(n.subtreeFlags&13886)for(n=n.child;n!==null;)wd(n,e),n=n.sibling}var Vt=null;function wd(e,n){var i=e.alternate,s=e.flags;switch(e.tag){case 0:case 11:case 14:case 15:pt(n,e),ht(e),s&4&&(Nn(3,e,e.return),ki(3,e),Nn(5,e,e.return));break;case 1:pt(n,e),ht(e),s&512&&(Ke||i===null||Kt(i,i.return)),s&64&&un&&(e=e.updateQueue,e!==null&&(s=e.callbacks,s!==null&&(i=e.shared.hiddenCallbacks,e.shared.hiddenCallbacks=i===null?s:i.concat(s))));break;case 26:var c=Vt;if(pt(n,e),ht(e),s&512&&(Ke||i===null||Kt(i,i.return)),s&4){var p=i!==null?i.memoizedState:null;if(s=e.memoizedState,i===null)if(s===null)if(e.stateNode===null){e:{s=e.type,i=e.memoizedProps,c=c.ownerDocument||c;t:switch(s){case"title":p=c.getElementsByTagName("title")[0],(!p||p[ui]||p[We]||p.namespaceURI==="http://www.w3.org/2000/svg"||p.hasAttribute("itemprop"))&&(p=c.createElement(s),c.head.insertBefore(p,c.querySelector("head > title"))),nt(p,s,i),p[We]=e,Ze(p),s=p;break e;case"link":var T=wp("link","href",c).get(s+(i.href||""));if(T){for(var _=0;_<T.length;_++)if(p=T[_],p.getAttribute("href")===(i.href==null||i.href===""?null:i.href)&&p.getAttribute("rel")===(i.rel==null?null:i.rel)&&p.getAttribute("title")===(i.title==null?null:i.title)&&p.getAttribute("crossorigin")===(i.crossOrigin==null?null:i.crossOrigin)){T.splice(_,1);break t}}p=c.createElement(s),nt(p,s,i),c.head.appendChild(p);break;case"meta":if(T=wp("meta","content",c).get(s+(i.content||""))){for(_=0;_<T.length;_++)if(p=T[_],p.getAttribute("content")===(i.content==null?null:""+i.content)&&p.getAttribute("name")===(i.name==null?null:i.name)&&p.getAttribute("property")===(i.property==null?null:i.property)&&p.getAttribute("http-equiv")===(i.httpEquiv==null?null:i.httpEquiv)&&p.getAttribute("charset")===(i.charSet==null?null:i.charSet)){T.splice(_,1);break t}}p=c.createElement(s),nt(p,s,i),c.head.appendChild(p);break;default:throw Error(a(468,s))}p[We]=e,Ze(p),s=p}e.stateNode=s}else Up(c,e.type,e.stateNode);else e.stateNode=Ip(c,s,e.memoizedProps);else p!==s?(p===null?i.stateNode!==null&&(i=i.stateNode,i.parentNode.removeChild(i)):p.count--,s===null?Up(c,e.type,e.stateNode):Ip(c,s,e.memoizedProps)):s===null&&e.stateNode!==null&&Su(e,e.memoizedProps,i.memoizedProps)}break;case 27:pt(n,e),ht(e),s&512&&(Ke||i===null||Kt(i,i.return)),i!==null&&s&4&&Su(e,e.memoizedProps,i.memoizedProps);break;case 5:if(pt(n,e),ht(e),s&512&&(Ke||i===null||Kt(i,i.return)),e.flags&32){c=e.stateNode;try{vl(c,"")}catch(X){Ae(e,e.return,X)}}s&4&&e.stateNode!=null&&(c=e.memoizedProps,Su(e,c,i!==null?i.memoizedProps:c)),s&1024&&(Cu=!0);break;case 6:if(pt(n,e),ht(e),s&4){if(e.stateNode===null)throw Error(a(162));s=e.memoizedProps,i=e.stateNode;try{i.nodeValue=s}catch(X){Ae(e,e.return,X)}}break;case 3:if(ma=null,c=Vt,Vt=pa(n.containerInfo),pt(n,e),Vt=c,ht(e),s&4&&i!==null&&i.memoizedState.isDehydrated)try{Xl(n.containerInfo)}catch(X){Ae(e,e.return,X)}Cu&&(Cu=!1,Ud(e));break;case 4:s=Vt,Vt=pa(e.stateNode.containerInfo),pt(n,e),ht(e),Vt=s;break;case 12:pt(n,e),ht(e);break;case 31:pt(n,e),ht(e),s&4&&(s=e.updateQueue,s!==null&&(e.updateQueue=null,jo(e,s)));break;case 13:pt(n,e),ht(e),e.child.flags&8192&&e.memoizedState!==null!=(i!==null&&i.memoizedState!==null)&&(ta=yt()),s&4&&(s=e.updateQueue,s!==null&&(e.updateQueue=null,jo(e,s)));break;case 22:c=e.memoizedState!==null;var C=i!==null&&i.memoizedState!==null,D=un,L=Ke;if(un=D||c,Ke=L||C,pt(n,e),Ke=L,un=D,ht(e),s&8192)e:for(n=e.stateNode,n._visibility=c?n._visibility&-2:n._visibility|1,c&&(i===null||C||un||Ke||al(e)),i=null,n=e;;){if(n.tag===5||n.tag===26){if(i===null){C=i=n;try{if(p=C.stateNode,c)T=p.style,typeof T.setProperty=="function"?T.setProperty("display","none","important"):T.display="none";else{_=C.stateNode;var G=C.memoizedProps.style,I=G!=null&&G.hasOwnProperty("display")?G.display:null;_.style.display=I==null||typeof I=="boolean"?"":(""+I).trim()}}catch(X){Ae(C,C.return,X)}}}else if(n.tag===6){if(i===null){C=n;try{C.stateNode.nodeValue=c?"":C.memoizedProps}catch(X){Ae(C,C.return,X)}}}else if(n.tag===18){if(i===null){C=n;try{var U=C.stateNode;c?_p(U,!0):_p(C.stateNode,!1)}catch(X){Ae(C,C.return,X)}}}else if((n.tag!==22&&n.tag!==23||n.memoizedState===null||n===e)&&n.child!==null){n.child.return=n,n=n.child;continue}if(n===e)break e;for(;n.sibling===null;){if(n.return===null||n.return===e)break e;i===n&&(i=null),n=n.return}i===n&&(i=null),n.sibling.return=n.return,n=n.sibling}s&4&&(s=e.updateQueue,s!==null&&(i=s.retryQueue,i!==null&&(s.retryQueue=null,jo(e,i))));break;case 19:pt(n,e),ht(e),s&4&&(s=e.updateQueue,s!==null&&(e.updateQueue=null,jo(e,s)));break;case 30:break;case 21:break;default:pt(n,e),ht(e)}}function ht(e){var n=e.flags;if(n&2){try{for(var i,s=e.return;s!==null;){if(Ad(s)){i=s;break}s=s.return}if(i==null)throw Error(a(160));switch(i.tag){case 27:var c=i.stateNode,p=Eu(e);Wo(e,p,c);break;case 5:var T=i.stateNode;i.flags&32&&(vl(T,""),i.flags&=-33);var _=Eu(e);Wo(e,_,T);break;case 3:case 4:var C=i.stateNode.containerInfo,D=Eu(e);_u(e,D,C);break;default:throw Error(a(161))}}catch(L){Ae(e,e.return,L)}e.flags&=-3}n&4096&&(e.flags&=-4097)}function Ud(e){if(e.subtreeFlags&1024)for(e=e.child;e!==null;){var n=e;Ud(n),n.tag===5&&n.flags&1024&&n.stateNode.reset(),e=e.sibling}}function cn(e,n){if(n.subtreeFlags&8772)for(n=n.child;n!==null;)Md(e,n.alternate,n),n=n.sibling}function al(e){for(e=e.child;e!==null;){var n=e;switch(n.tag){case 0:case 11:case 14:case 15:Nn(4,n,n.return),al(n);break;case 1:Kt(n,n.return);var i=n.stateNode;typeof i.componentWillUnmount=="function"&&_d(n,n.return,i),al(n);break;case 27:Yi(n.stateNode);case 26:case 5:Kt(n,n.return),al(n);break;case 22:n.memoizedState===null&&al(n);break;case 30:al(n);break;default:al(n)}e=e.sibling}}function fn(e,n,i){for(i=i&&(n.subtreeFlags&8772)!==0,n=n.child;n!==null;){var s=n.alternate,c=e,p=n,T=p.flags;switch(p.tag){case 0:case 11:case 15:fn(c,p,i),ki(4,p);break;case 1:if(fn(c,p,i),s=p,c=s.stateNode,typeof c.componentDidMount=="function")try{c.componentDidMount()}catch(D){Ae(s,s.return,D)}if(s=p,c=s.updateQueue,c!==null){var _=s.stateNode;try{var C=c.shared.hiddenCallbacks;if(C!==null)for(c.shared.hiddenCallbacks=null,c=0;c<C.length;c++)cf(C[c],_)}catch(D){Ae(s,s.return,D)}}i&&T&64&&Ed(p),Li(p,p.return);break;case 27:xd(p);case 26:case 5:fn(c,p,i),i&&s===null&&T&4&&Cd(p),Li(p,p.return);break;case 12:fn(c,p,i);break;case 31:fn(c,p,i),i&&T&4&&Dd(c,p);break;case 13:fn(c,p,i),i&&T&4&&Id(c,p);break;case 22:p.memoizedState===null&&fn(c,p,i),Li(p,p.return);break;case 30:break;default:fn(c,p,i)}n=n.sibling}}function Au(e,n){var i=null;e!==null&&e.memoizedState!==null&&e.memoizedState.cachePool!==null&&(i=e.memoizedState.cachePool.pool),e=null,n.memoizedState!==null&&n.memoizedState.cachePool!==null&&(e=n.memoizedState.cachePool.pool),e!==i&&(e!=null&&e.refCount++,i!=null&&Ei(i))}function xu(e,n){e=null,n.alternate!==null&&(e=n.alternate.memoizedState.cache),n=n.memoizedState.cache,n!==e&&(n.refCount++,e!=null&&Ei(e))}function Bt(e,n,i,s){if(n.subtreeFlags&10256)for(n=n.child;n!==null;)kd(e,n,i,s),n=n.sibling}function kd(e,n,i,s){var c=n.flags;switch(n.tag){case 0:case 11:case 15:Bt(e,n,i,s),c&2048&&ki(9,n);break;case 1:Bt(e,n,i,s);break;case 3:Bt(e,n,i,s),c&2048&&(e=null,n.alternate!==null&&(e=n.alternate.memoizedState.cache),n=n.memoizedState.cache,n!==e&&(n.refCount++,e!=null&&Ei(e)));break;case 12:if(c&2048){Bt(e,n,i,s),e=n.stateNode;try{var p=n.memoizedProps,T=p.id,_=p.onPostCommit;typeof _=="function"&&_(T,n.alternate===null?"mount":"update",e.passiveEffectDuration,-0)}catch(C){Ae(n,n.return,C)}}else Bt(e,n,i,s);break;case 31:Bt(e,n,i,s);break;case 13:Bt(e,n,i,s);break;case 23:break;case 22:p=n.stateNode,T=n.alternate,n.memoizedState!==null?p._visibility&2?Bt(e,n,i,s):qi(e,n):p._visibility&2?Bt(e,n,i,s):(p._visibility|=2,Gl(e,n,i,s,(n.subtreeFlags&10256)!==0||!1)),c&2048&&Au(T,n);break;case 24:Bt(e,n,i,s),c&2048&&xu(n.alternate,n);break;default:Bt(e,n,i,s)}}function Gl(e,n,i,s,c){for(c=c&&((n.subtreeFlags&10256)!==0||!1),n=n.child;n!==null;){var p=e,T=n,_=i,C=s,D=T.flags;switch(T.tag){case 0:case 11:case 15:Gl(p,T,_,C,c),ki(8,T);break;case 23:break;case 22:var L=T.stateNode;T.memoizedState!==null?L._visibility&2?Gl(p,T,_,C,c):qi(p,T):(L._visibility|=2,Gl(p,T,_,C,c)),c&&D&2048&&Au(T.alternate,T);break;case 24:Gl(p,T,_,C,c),c&&D&2048&&xu(T.alternate,T);break;default:Gl(p,T,_,C,c)}n=n.sibling}}function qi(e,n){if(n.subtreeFlags&10256)for(n=n.child;n!==null;){var i=e,s=n,c=s.flags;switch(s.tag){case 22:qi(i,s),c&2048&&Au(s.alternate,s);break;case 24:qi(i,s),c&2048&&xu(s.alternate,s);break;default:qi(i,s)}n=n.sibling}}var zi=8192;function Hl(e,n,i){if(e.subtreeFlags&zi)for(e=e.child;e!==null;)Ld(e,n,i),e=e.sibling}function Ld(e,n,i){switch(e.tag){case 26:Hl(e,n,i),e.flags&zi&&e.memoizedState!==null&&D0(i,Vt,e.memoizedState,e.memoizedProps);break;case 5:Hl(e,n,i);break;case 3:case 4:var s=Vt;Vt=pa(e.stateNode.containerInfo),Hl(e,n,i),Vt=s;break;case 22:e.memoizedState===null&&(s=e.alternate,s!==null&&s.memoizedState!==null?(s=zi,zi=16777216,Hl(e,n,i),zi=s):Hl(e,n,i));break;default:Hl(e,n,i)}}function qd(e){var n=e.alternate;if(n!==null&&(e=n.child,e!==null)){n.child=null;do n=e.sibling,e.sibling=null,e=n;while(e!==null)}}function Gi(e){var n=e.deletions;if((e.flags&16)!==0){if(n!==null)for(var i=0;i<n.length;i++){var s=n[i];$e=s,Gd(s,e)}qd(e)}if(e.subtreeFlags&10256)for(e=e.child;e!==null;)zd(e),e=e.sibling}function zd(e){switch(e.tag){case 0:case 11:case 15:Gi(e),e.flags&2048&&Nn(9,e,e.return);break;case 3:Gi(e);break;case 12:Gi(e);break;case 22:var n=e.stateNode;e.memoizedState!==null&&n._visibility&2&&(e.return===null||e.return.tag!==13)?(n._visibility&=-3,ea(e)):Gi(e);break;default:Gi(e)}}function ea(e){var n=e.deletions;if((e.flags&16)!==0){if(n!==null)for(var i=0;i<n.length;i++){var s=n[i];$e=s,Gd(s,e)}qd(e)}for(e=e.child;e!==null;){switch(n=e,n.tag){case 0:case 11:case 15:Nn(8,n,n.return),ea(n);break;case 22:i=n.stateNode,i._visibility&2&&(i._visibility&=-3,ea(n));break;default:ea(n)}e=e.sibling}}function Gd(e,n){for(;$e!==null;){var i=$e;switch(i.tag){case 0:case 11:case 15:Nn(8,i,n);break;case 23:case 22:if(i.memoizedState!==null&&i.memoizedState.cachePool!==null){var s=i.memoizedState.cachePool.pool;s!=null&&s.refCount++}break;case 24:Ei(i.memoizedState.cache)}if(s=i.child,s!==null)s.return=i,$e=s;else e:for(i=e;$e!==null;){s=$e;var c=s.sibling,p=s.return;if(Nd(s),s===i){$e=null;break e}if(c!==null){c.return=p,$e=c;break e}$e=p}}}var Jy={getCacheForType:function(e){var n=et(Ye),i=n.data.get(e);return i===void 0&&(i=e(),n.data.set(e,i)),i},cacheSignal:function(){return et(Ye).controller.signal}},Fy=typeof WeakMap=="function"?WeakMap:Map,Ee=0,Ue=null,ce=null,pe=0,Ce=0,At=null,bn=!1,Vl=!1,Ru=!1,dn=0,Ve=0,Dn=0,sl=0,Mu=0,xt=0,Bl=0,Hi=null,mt=null,Nu=!1,ta=0,Hd=0,na=1/0,la=null,In=null,Qe=0,wn=null,Pl=null,pn=0,bu=0,Du=null,Vd=null,Vi=0,Iu=null;function Rt(){return(Ee&2)!==0&&pe!==0?pe&-pe:k.T!==null?zu():tc()}function Bd(){if(xt===0)if((pe&536870912)===0||me){var e=co;co<<=1,(co&3932160)===0&&(co=262144),xt=e}else xt=536870912;return e=_t.current,e!==null&&(e.flags|=32),xt}function gt(e,n,i){(e===Ue&&(Ce===2||Ce===9)||e.cancelPendingCommit!==null)&&(Ol(e,0),Un(e,pe,xt,!1)),si(e,i),((Ee&2)===0||e!==Ue)&&(e===Ue&&((Ee&2)===0&&(sl|=i),Ve===4&&Un(e,pe,xt,!1)),Qt(e))}function Pd(e,n,i){if((Ee&6)!==0)throw Error(a(327));var s=!i&&(n&127)===0&&(n&e.expiredLanes)===0||ai(e,n),c=s?Xy(e,n):Uu(e,n,!0),p=s;do{if(c===0){Vl&&!s&&Un(e,n,0,!1);break}else{if(i=e.current.alternate,p&&!Ky(i)){c=Uu(e,n,!1),p=!1;continue}if(c===2){if(p=n,e.errorRecoveryDisabledLanes&p)var T=0;else T=e.pendingLanes&-536870913,T=T!==0?T:T&536870912?536870912:0;if(T!==0){n=T;e:{var _=e;c=Hi;var C=_.current.memoizedState.isDehydrated;if(C&&(Ol(_,T).flags|=256),T=Uu(_,T,!1),T!==2){if(Ru&&!C){_.errorRecoveryDisabledLanes|=p,sl|=p,c=4;break e}p=mt,mt=c,p!==null&&(mt===null?mt=p:mt.push.apply(mt,p))}c=T}if(p=!1,c!==2)continue}}if(c===1){Ol(e,0),Un(e,n,0,!0);break}e:{switch(s=e,p=c,p){case 0:case 1:throw Error(a(345));case 4:if((n&4194048)!==n)break;case 6:Un(s,n,xt,!bn);break e;case 2:mt=null;break;case 3:case 5:break;default:throw Error(a(329))}if((n&62914560)===n&&(c=ta+300-yt(),10<c)){if(Un(s,n,xt,!bn),po(s,0,!0)!==0)break e;pn=n,s.timeoutHandle=Tp(Od.bind(null,s,i,mt,la,Nu,n,xt,sl,Bl,bn,p,"Throttled",-0,0),c);break e}Od(s,i,mt,la,Nu,n,xt,sl,Bl,bn,p,null,-0,0)}}break}while(!0);Qt(e)}function Od(e,n,i,s,c,p,T,_,C,D,L,G,I,U){if(e.timeoutHandle=-1,G=n.subtreeFlags,G&8192||(G&16785408)===16785408){G={stylesheets:null,count:0,imgCount:0,imgBytes:0,suspenseyImages:[],waitingForImages:!0,waitingForViewTransition:!1,unsuspend:$t},Ld(n,p,G);var X=(p&62914560)===p?ta-yt():(p&4194048)===p?Hd-yt():0;if(X=I0(G,X),X!==null){pn=p,e.cancelPendingCommit=X($d.bind(null,e,n,p,i,s,c,T,_,C,L,G,null,I,U)),Un(e,p,T,!D);return}}$d(e,n,p,i,s,c,T,_,C)}function Ky(e){for(var n=e;;){var i=n.tag;if((i===0||i===11||i===15)&&n.flags&16384&&(i=n.updateQueue,i!==null&&(i=i.stores,i!==null)))for(var s=0;s<i.length;s++){var c=i[s],p=c.getSnapshot;c=c.value;try{if(!St(p(),c))return!1}catch{return!1}}if(i=n.child,n.subtreeFlags&16384&&i!==null)i.return=n,n=i;else{if(n===e)break;for(;n.sibling===null;){if(n.return===null||n.return===e)return!0;n=n.return}n.sibling.return=n.return,n=n.sibling}}return!0}function Un(e,n,i,s){n&=~Mu,n&=~sl,e.suspendedLanes|=n,e.pingedLanes&=~n,s&&(e.warmLanes|=n),s=e.expirationTimes;for(var c=n;0<c;){var p=31-Tt(c),T=1<<p;s[p]=-1,c&=~T}i!==0&&Wr(e,i,n)}function ia(){return(Ee&6)===0?(Bi(0),!1):!0}function wu(){if(ce!==null){if(Ce===0)var e=ce.return;else e=ce,tn=Wn=null,Qs(e),Ul=null,Ci=0,e=ce;for(;e!==null;)Sd(e.alternate,e),e=e.return;ce=null}}function Ol(e,n){var i=e.timeoutHandle;i!==-1&&(e.timeoutHandle=-1,p0(i)),i=e.cancelPendingCommit,i!==null&&(e.cancelPendingCommit=null,i()),pn=0,wu(),Ue=e,ce=i=jt(e.current,null),pe=n,Ce=0,At=null,bn=!1,Vl=ai(e,n),Ru=!1,Bl=xt=Mu=sl=Dn=Ve=0,mt=Hi=null,Nu=!1,(n&8)!==0&&(n|=n&32);var s=e.entangledLanes;if(s!==0)for(e=e.entanglements,s&=n;0<s;){var c=31-Tt(s),p=1<<c;n|=e[c],s&=~p}return dn=n,xo(),i}function Yd(e,n){ae=null,k.H=Ii,n===wl||n===Uo?(n=af(),Ce=3):n===qs?(n=af(),Ce=4):Ce=n===cu?8:n!==null&&typeof n=="object"&&typeof n.then=="function"?6:1,At=n,ce===null&&(Ve=1,Ko(e,It(n,e.current)))}function Jd(){var e=_t.current;return e===null?!0:(pe&4194048)===pe?Lt===null:(pe&62914560)===pe||(pe&536870912)!==0?e===Lt:!1}function Fd(){var e=k.H;return k.H=Ii,e===null?Ii:e}function Kd(){var e=k.A;return k.A=Jy,e}function oa(){Ve=4,bn||(pe&4194048)!==pe&&_t.current!==null||(Vl=!0),(Dn&134217727)===0&&(sl&134217727)===0||Ue===null||Un(Ue,pe,xt,!1)}function Uu(e,n,i){var s=Ee;Ee|=2;var c=Fd(),p=Kd();(Ue!==e||pe!==n)&&(la=null,Ol(e,n)),n=!1;var T=Ve;e:do try{if(Ce!==0&&ce!==null){var _=ce,C=At;switch(Ce){case 8:wu(),T=6;break e;case 3:case 2:case 9:case 6:_t.current===null&&(n=!0);var D=Ce;if(Ce=0,At=null,Yl(e,_,C,D),i&&Vl){T=0;break e}break;default:D=Ce,Ce=0,At=null,Yl(e,_,C,D)}}Qy(),T=Ve;break}catch(L){Yd(e,L)}while(!0);return n&&e.shellSuspendCounter++,tn=Wn=null,Ee=s,k.H=c,k.A=p,ce===null&&(Ue=null,pe=0,xo()),T}function Qy(){for(;ce!==null;)Qd(ce)}function Xy(e,n){var i=Ee;Ee|=2;var s=Fd(),c=Kd();Ue!==e||pe!==n?(la=null,na=yt()+500,Ol(e,n)):Vl=ai(e,n);e:do try{if(Ce!==0&&ce!==null){n=ce;var p=At;t:switch(Ce){case 1:Ce=0,At=null,Yl(e,n,p,1);break;case 2:case 9:if(lf(p)){Ce=0,At=null,Xd(n);break}n=function(){Ce!==2&&Ce!==9||Ue!==e||(Ce=7),Qt(e)},p.then(n,n);break e;case 3:Ce=7;break e;case 4:Ce=5;break e;case 7:lf(p)?(Ce=0,At=null,Xd(n)):(Ce=0,At=null,Yl(e,n,p,7));break;case 5:var T=null;switch(ce.tag){case 26:T=ce.memoizedState;case 5:case 27:var _=ce;if(T?kp(T):_.stateNode.complete){Ce=0,At=null;var C=_.sibling;if(C!==null)ce=C;else{var D=_.return;D!==null?(ce=D,aa(D)):ce=null}break t}}Ce=0,At=null,Yl(e,n,p,5);break;case 6:Ce=0,At=null,Yl(e,n,p,6);break;case 8:wu(),Ve=6;break e;default:throw Error(a(462))}}Zy();break}catch(L){Yd(e,L)}while(!0);return tn=Wn=null,k.H=s,k.A=c,Ee=i,ce!==null?0:(Ue=null,pe=0,xo(),Ve)}function Zy(){for(;ce!==null&&!Tg();)Qd(ce)}function Qd(e){var n=vd(e.alternate,e,dn);e.memoizedProps=e.pendingProps,n===null?aa(e):ce=n}function Xd(e){var n=e,i=n.alternate;switch(n.tag){case 15:case 0:n=dd(i,n,n.pendingProps,n.type,void 0,pe);break;case 11:n=dd(i,n,n.pendingProps,n.type.render,n.ref,pe);break;case 5:Qs(n);default:Sd(i,n),n=ce=Fc(n,dn),n=vd(i,n,dn)}e.memoizedProps=e.pendingProps,n===null?aa(e):ce=n}function Yl(e,n,i,s){tn=Wn=null,Qs(n),Ul=null,Ci=0;var c=n.return;try{if(Gy(e,c,n,i,pe)){Ve=1,Ko(e,It(i,e.current)),ce=null;return}}catch(p){if(c!==null)throw ce=c,p;Ve=1,Ko(e,It(i,e.current)),ce=null;return}n.flags&32768?(me||s===1?e=!0:Vl||(pe&536870912)!==0?e=!1:(bn=e=!0,(s===2||s===9||s===3||s===6)&&(s=_t.current,s!==null&&s.tag===13&&(s.flags|=16384))),Zd(n,e)):aa(n)}function aa(e){var n=e;do{if((n.flags&32768)!==0){Zd(n,bn);return}e=n.return;var i=By(n.alternate,n,dn);if(i!==null){ce=i;return}if(n=n.sibling,n!==null){ce=n;return}ce=n=e}while(n!==null);Ve===0&&(Ve=5)}function Zd(e,n){do{var i=Py(e.alternate,e);if(i!==null){i.flags&=32767,ce=i;return}if(i=e.return,i!==null&&(i.flags|=32768,i.subtreeFlags=0,i.deletions=null),!n&&(e=e.sibling,e!==null)){ce=e;return}ce=e=i}while(e!==null);Ve=6,ce=null}function $d(e,n,i,s,c,p,T,_,C){e.cancelPendingCommit=null;do sa();while(Qe!==0);if((Ee&6)!==0)throw Error(a(327));if(n!==null){if(n===e.current)throw Error(a(177));if(p=n.lanes|n.childLanes,p|=Es,bg(e,i,p,T,_,C),e===Ue&&(ce=Ue=null,pe=0),Pl=n,wn=e,pn=i,bu=p,Du=c,Vd=s,(n.subtreeFlags&10256)!==0||(n.flags&10256)!==0?(e.callbackNode=null,e.callbackPriority=0,e0(uo,function(){return np(),null})):(e.callbackNode=null,e.callbackPriority=0),s=(n.flags&13878)!==0,(n.subtreeFlags&13878)!==0||s){s=k.T,k.T=null,c=Y.p,Y.p=2,T=Ee,Ee|=4;try{Oy(e,n,i)}finally{Ee=T,Y.p=c,k.T=s}}Qe=1,Wd(),jd(),ep()}}function Wd(){if(Qe===1){Qe=0;var e=wn,n=Pl,i=(n.flags&13878)!==0;if((n.subtreeFlags&13878)!==0||i){i=k.T,k.T=null;var s=Y.p;Y.p=2;var c=Ee;Ee|=4;try{wd(n,e);var p=Ju,T=zc(e.containerInfo),_=p.focusedElem,C=p.selectionRange;if(T!==_&&_&&_.ownerDocument&&qc(_.ownerDocument.documentElement,_)){if(C!==null&&gs(_)){var D=C.start,L=C.end;if(L===void 0&&(L=D),"selectionStart"in _)_.selectionStart=D,_.selectionEnd=Math.min(L,_.value.length);else{var G=_.ownerDocument||document,I=G&&G.defaultView||window;if(I.getSelection){var U=I.getSelection(),X=_.textContent.length,ne=Math.min(C.start,X),De=C.end===void 0?ne:Math.min(C.end,X);!U.extend&&ne>De&&(T=De,De=ne,ne=T);var M=Lc(_,ne),A=Lc(_,De);if(M&&A&&(U.rangeCount!==1||U.anchorNode!==M.node||U.anchorOffset!==M.offset||U.focusNode!==A.node||U.focusOffset!==A.offset)){var b=G.createRange();b.setStart(M.node,M.offset),U.removeAllRanges(),ne>De?(U.addRange(b),U.extend(A.node,A.offset)):(b.setEnd(A.node,A.offset),U.addRange(b))}}}}for(G=[],U=_;U=U.parentNode;)U.nodeType===1&&G.push({element:U,left:U.scrollLeft,top:U.scrollTop});for(typeof _.focus=="function"&&_.focus(),_=0;_<G.length;_++){var q=G[_];q.element.scrollLeft=q.left,q.element.scrollTop=q.top}}Ta=!!Yu,Ju=Yu=null}finally{Ee=c,Y.p=s,k.T=i}}e.current=n,Qe=2}}function jd(){if(Qe===2){Qe=0;var e=wn,n=Pl,i=(n.flags&8772)!==0;if((n.subtreeFlags&8772)!==0||i){i=k.T,k.T=null;var s=Y.p;Y.p=2;var c=Ee;Ee|=4;try{Md(e,n.alternate,n)}finally{Ee=c,Y.p=s,k.T=i}}Qe=3}}function ep(){if(Qe===4||Qe===3){Qe=0,Sg();var e=wn,n=Pl,i=pn,s=Vd;(n.subtreeFlags&10256)!==0||(n.flags&10256)!==0?Qe=5:(Qe=0,Pl=wn=null,tp(e,e.pendingLanes));var c=e.pendingLanes;if(c===0&&(In=null),$a(i),n=n.stateNode,vt&&typeof vt.onCommitFiberRoot=="function")try{vt.onCommitFiberRoot(oi,n,void 0,(n.current.flags&128)===128)}catch{}if(s!==null){n=k.T,c=Y.p,Y.p=2,k.T=null;try{for(var p=e.onRecoverableError,T=0;T<s.length;T++){var _=s[T];p(_.value,{componentStack:_.stack})}}finally{k.T=n,Y.p=c}}(pn&3)!==0&&sa(),Qt(e),c=e.pendingLanes,(i&261930)!==0&&(c&42)!==0?e===Iu?Vi++:(Vi=0,Iu=e):Vi=0,Bi(0)}}function tp(e,n){(e.pooledCacheLanes&=n)===0&&(n=e.pooledCache,n!=null&&(e.pooledCache=null,Ei(n)))}function sa(){return Wd(),jd(),ep(),np()}function np(){if(Qe!==5)return!1;var e=wn,n=bu;bu=0;var i=$a(pn),s=k.T,c=Y.p;try{Y.p=32>i?32:i,k.T=null,i=Du,Du=null;var p=wn,T=pn;if(Qe=0,Pl=wn=null,pn=0,(Ee&6)!==0)throw Error(a(331));var _=Ee;if(Ee|=4,zd(p.current),kd(p,p.current,T,i),Ee=_,Bi(0,!1),vt&&typeof vt.onPostCommitFiberRoot=="function")try{vt.onPostCommitFiberRoot(oi,p)}catch{}return!0}finally{Y.p=c,k.T=s,tp(e,n)}}function lp(e,n,i){n=It(i,n),n=ru(e.stateNode,n,2),e=xn(e,n,2),e!==null&&(si(e,2),Qt(e))}function Ae(e,n,i){if(e.tag===3)lp(e,e,i);else for(;n!==null;){if(n.tag===3){lp(n,e,i);break}else if(n.tag===1){var s=n.stateNode;if(typeof n.type.getDerivedStateFromError=="function"||typeof s.componentDidCatch=="function"&&(In===null||!In.has(s))){e=It(i,e),i=id(2),s=xn(n,i,2),s!==null&&(od(i,s,n,e),si(s,2),Qt(s));break}}n=n.return}}function ku(e,n,i){var s=e.pingCache;if(s===null){s=e.pingCache=new Fy;var c=new Set;s.set(n,c)}else c=s.get(n),c===void 0&&(c=new Set,s.set(n,c));c.has(i)||(Ru=!0,c.add(i),e=$y.bind(null,e,n,i),n.then(e,e))}function $y(e,n,i){var s=e.pingCache;s!==null&&s.delete(n),e.pingedLanes|=e.suspendedLanes&i,e.warmLanes&=~i,Ue===e&&(pe&i)===i&&(Ve===4||Ve===3&&(pe&62914560)===pe&&300>yt()-ta?(Ee&2)===0&&Ol(e,0):Mu|=i,Bl===pe&&(Bl=0)),Qt(e)}function ip(e,n){n===0&&(n=$r()),e=Xn(e,n),e!==null&&(si(e,n),Qt(e))}function Wy(e){var n=e.memoizedState,i=0;n!==null&&(i=n.retryLane),ip(e,i)}function jy(e,n){var i=0;switch(e.tag){case 31:case 13:var s=e.stateNode,c=e.memoizedState;c!==null&&(i=c.retryLane);break;case 19:s=e.stateNode;break;case 22:s=e.stateNode._retryCache;break;default:throw Error(a(314))}s!==null&&s.delete(n),ip(e,i)}function e0(e,n){return Ka(e,n)}var ua=null,Jl=null,Lu=!1,ra=!1,qu=!1,kn=0;function Qt(e){e!==Jl&&e.next===null&&(Jl===null?ua=Jl=e:Jl=Jl.next=e),ra=!0,Lu||(Lu=!0,n0())}function Bi(e,n){if(!qu&&ra){qu=!0;do for(var i=!1,s=ua;s!==null;){if(e!==0){var c=s.pendingLanes;if(c===0)var p=0;else{var T=s.suspendedLanes,_=s.pingedLanes;p=(1<<31-Tt(42|e)+1)-1,p&=c&~(T&~_),p=p&201326741?p&201326741|1:p?p|2:0}p!==0&&(i=!0,up(s,p))}else p=pe,p=po(s,s===Ue?p:0,s.cancelPendingCommit!==null||s.timeoutHandle!==-1),(p&3)===0||ai(s,p)||(i=!0,up(s,p));s=s.next}while(i);qu=!1}}function t0(){op()}function op(){ra=Lu=!1;var e=0;kn!==0&&d0()&&(e=kn);for(var n=yt(),i=null,s=ua;s!==null;){var c=s.next,p=ap(s,n);p===0?(s.next=null,i===null?ua=c:i.next=c,c===null&&(Jl=i)):(i=s,(e!==0||(p&3)!==0)&&(ra=!0)),s=c}Qe!==0&&Qe!==5||Bi(e),kn!==0&&(kn=0)}function ap(e,n){for(var i=e.suspendedLanes,s=e.pingedLanes,c=e.expirationTimes,p=e.pendingLanes&-62914561;0<p;){var T=31-Tt(p),_=1<<T,C=c[T];C===-1?((_&i)===0||(_&s)!==0)&&(c[T]=Ng(_,n)):C<=n&&(e.expiredLanes|=_),p&=~_}if(n=Ue,i=pe,i=po(e,e===n?i:0,e.cancelPendingCommit!==null||e.timeoutHandle!==-1),s=e.callbackNode,i===0||e===n&&(Ce===2||Ce===9)||e.cancelPendingCommit!==null)return s!==null&&s!==null&&Qa(s),e.callbackNode=null,e.callbackPriority=0;if((i&3)===0||ai(e,i)){if(n=i&-i,n===e.callbackPriority)return n;switch(s!==null&&Qa(s),$a(i)){case 2:case 8:i=Xr;break;case 32:i=uo;break;case 268435456:i=Zr;break;default:i=uo}return s=sp.bind(null,e),i=Ka(i,s),e.callbackPriority=n,e.callbackNode=i,n}return s!==null&&s!==null&&Qa(s),e.callbackPriority=2,e.callbackNode=null,2}function sp(e,n){if(Qe!==0&&Qe!==5)return e.callbackNode=null,e.callbackPriority=0,null;var i=e.callbackNode;if(sa()&&e.callbackNode!==i)return null;var s=pe;return s=po(e,e===Ue?s:0,e.cancelPendingCommit!==null||e.timeoutHandle!==-1),s===0?null:(Pd(e,s,n),ap(e,yt()),e.callbackNode!=null&&e.callbackNode===i?sp.bind(null,e):null)}function up(e,n){if(sa())return null;Pd(e,n,!0)}function n0(){h0(function(){(Ee&6)!==0?Ka(Qr,t0):op()})}function zu(){if(kn===0){var e=Dl;e===0&&(e=ro,ro<<=1,(ro&261888)===0&&(ro=256)),kn=e}return kn}function rp(e){return e==null||typeof e=="symbol"||typeof e=="boolean"?null:typeof e=="function"?e:yo(""+e)}function cp(e,n){var i=n.ownerDocument.createElement("input");return i.name=n.name,i.value=n.value,e.id&&i.setAttribute("form",e.id),n.parentNode.insertBefore(i,n),e=new FormData(e),i.parentNode.removeChild(i),e}function l0(e,n,i,s,c){if(n==="submit"&&i&&i.stateNode===c){var p=rp((c[ct]||null).action),T=s.submitter;T&&(n=(n=T[ct]||null)?rp(n.formAction):T.getAttribute("formAction"),n!==null&&(p=n,T=null));var _=new Eo("action","action",null,s,c);e.push({event:_,listeners:[{instance:null,listener:function(){if(s.defaultPrevented){if(kn!==0){var C=T?cp(c,T):new FormData(c);lu(i,{pending:!0,data:C,method:c.method,action:p},null,C)}}else typeof p=="function"&&(_.preventDefault(),C=T?cp(c,T):new FormData(c),lu(i,{pending:!0,data:C,method:c.method,action:p},p,C))},currentTarget:c}]})}}for(var Gu=0;Gu<Ss.length;Gu++){var Hu=Ss[Gu],i0=Hu.toLowerCase(),o0=Hu[0].toUpperCase()+Hu.slice(1);Ht(i0,"on"+o0)}Ht(Vc,"onAnimationEnd"),Ht(Bc,"onAnimationIteration"),Ht(Pc,"onAnimationStart"),Ht("dblclick","onDoubleClick"),Ht("focusin","onFocus"),Ht("focusout","onBlur"),Ht(Ey,"onTransitionRun"),Ht(_y,"onTransitionStart"),Ht(Cy,"onTransitionCancel"),Ht(Oc,"onTransitionEnd"),gl("onMouseEnter",["mouseout","mouseover"]),gl("onMouseLeave",["mouseout","mouseover"]),gl("onPointerEnter",["pointerout","pointerover"]),gl("onPointerLeave",["pointerout","pointerover"]),Jn("onChange","change click focusin focusout input keydown keyup selectionchange".split(" ")),Jn("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" ")),Jn("onBeforeInput",["compositionend","keypress","textInput","paste"]),Jn("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" ")),Jn("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" ")),Jn("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var Pi="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),a0=new Set("beforetoggle cancel close invalid load scroll scrollend toggle".split(" ").concat(Pi));function fp(e,n){n=(n&4)!==0;for(var i=0;i<e.length;i++){var s=e[i],c=s.event;s=s.listeners;e:{var p=void 0;if(n)for(var T=s.length-1;0<=T;T--){var _=s[T],C=_.instance,D=_.currentTarget;if(_=_.listener,C!==p&&c.isPropagationStopped())break e;p=_,c.currentTarget=D;try{p(c)}catch(L){Ao(L)}c.currentTarget=null,p=C}else for(T=0;T<s.length;T++){if(_=s[T],C=_.instance,D=_.currentTarget,_=_.listener,C!==p&&c.isPropagationStopped())break e;p=_,c.currentTarget=D;try{p(c)}catch(L){Ao(L)}c.currentTarget=null,p=C}}}}function fe(e,n){var i=n[Wa];i===void 0&&(i=n[Wa]=new Set);var s=e+"__bubble";i.has(s)||(dp(n,e,2,!1),i.add(s))}function Vu(e,n,i){var s=0;n&&(s|=4),dp(i,e,s,n)}var ca="_reactListening"+Math.random().toString(36).slice(2);function Bu(e){if(!e[ca]){e[ca]=!0,ic.forEach(function(i){i!=="selectionchange"&&(a0.has(i)||Vu(i,!1,e),Vu(i,!0,e))});var n=e.nodeType===9?e:e.ownerDocument;n===null||n[ca]||(n[ca]=!0,Vu("selectionchange",!1,n))}}function dp(e,n,i,s){switch(Bp(n)){case 2:var c=k0;break;case 8:c=L0;break;default:c=nr}i=c.bind(null,n,i,e),c=void 0,!ss||n!=="touchstart"&&n!=="touchmove"&&n!=="wheel"||(c=!0),s?c!==void 0?e.addEventListener(n,i,{capture:!0,passive:c}):e.addEventListener(n,i,!0):c!==void 0?e.addEventListener(n,i,{passive:c}):e.addEventListener(n,i,!1)}function Pu(e,n,i,s,c){var p=s;if((n&1)===0&&(n&2)===0&&s!==null)e:for(;;){if(s===null)return;var T=s.tag;if(T===3||T===4){var _=s.stateNode.containerInfo;if(_===c)break;if(T===4)for(T=s.return;T!==null;){var C=T.tag;if((C===3||C===4)&&T.stateNode.containerInfo===c)return;T=T.return}for(;_!==null;){if(T=pl(_),T===null)return;if(C=T.tag,C===5||C===6||C===26||C===27){s=p=T;continue e}_=_.parentNode}}s=s.return}gc(function(){var D=p,L=os(i),G=[];e:{var I=Yc.get(e);if(I!==void 0){var U=Eo,X=e;switch(e){case"keypress":if(To(i)===0)break e;case"keydown":case"keyup":U=jg;break;case"focusin":X="focus",U=fs;break;case"focusout":X="blur",U=fs;break;case"beforeblur":case"afterblur":U=fs;break;case"click":if(i.button===2)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":U=Tc;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":U=Bg;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":U=ny;break;case Vc:case Bc:case Pc:U=Yg;break;case Oc:U=iy;break;case"scroll":case"scrollend":U=Hg;break;case"wheel":U=ay;break;case"copy":case"cut":case"paste":U=Fg;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":U=Ec;break;case"toggle":case"beforetoggle":U=uy}var ne=(n&4)!==0,De=!ne&&(e==="scroll"||e==="scrollend"),M=ne?I!==null?I+"Capture":null:I;ne=[];for(var A=D,b;A!==null;){var q=A;if(b=q.stateNode,q=q.tag,q!==5&&q!==26&&q!==27||b===null||M===null||(q=ci(A,M),q!=null&&ne.push(Oi(A,q,b))),De)break;A=A.return}0<ne.length&&(I=new U(I,X,null,i,L),G.push({event:I,listeners:ne}))}}if((n&7)===0){e:{if(I=e==="mouseover"||e==="pointerover",U=e==="mouseout"||e==="pointerout",I&&i!==is&&(X=i.relatedTarget||i.fromElement)&&(pl(X)||X[dl]))break e;if((U||I)&&(I=L.window===L?L:(I=L.ownerDocument)?I.defaultView||I.parentWindow:window,U?(X=i.relatedTarget||i.toElement,U=D,X=X?pl(X):null,X!==null&&(De=d(X),ne=X.tag,X!==De||ne!==5&&ne!==27&&ne!==6)&&(X=null)):(U=null,X=D),U!==X)){if(ne=Tc,q="onMouseLeave",M="onMouseEnter",A="mouse",(e==="pointerout"||e==="pointerover")&&(ne=Ec,q="onPointerLeave",M="onPointerEnter",A="pointer"),De=U==null?I:ri(U),b=X==null?I:ri(X),I=new ne(q,A+"leave",U,i,L),I.target=De,I.relatedTarget=b,q=null,pl(L)===D&&(ne=new ne(M,A+"enter",X,i,L),ne.target=b,ne.relatedTarget=De,q=ne),De=q,U&&X)t:{for(ne=s0,M=U,A=X,b=0,q=M;q;q=ne(q))b++;q=0;for(var ee=A;ee;ee=ne(ee))q++;for(;0<b-q;)M=ne(M),b--;for(;0<q-b;)A=ne(A),q--;for(;b--;){if(M===A||A!==null&&M===A.alternate){ne=M;break t}M=ne(M),A=ne(A)}ne=null}else ne=null;U!==null&&pp(G,I,U,ne,!1),X!==null&&De!==null&&pp(G,De,X,ne,!0)}}e:{if(I=D?ri(D):window,U=I.nodeName&&I.nodeName.toLowerCase(),U==="select"||U==="input"&&I.type==="file")var ye=bc;else if(Mc(I))if(Dc)ye=vy;else{ye=gy;var W=my}else U=I.nodeName,!U||U.toLowerCase()!=="input"||I.type!=="checkbox"&&I.type!=="radio"?D&&ls(D.elementType)&&(ye=bc):ye=yy;if(ye&&(ye=ye(e,D))){Nc(G,ye,i,L);break e}W&&W(e,I,D),e==="focusout"&&D&&I.type==="number"&&D.memoizedProps.value!=null&&ns(I,"number",I.value)}switch(W=D?ri(D):window,e){case"focusin":(Mc(W)||W.contentEditable==="true")&&(_l=W,ys=D,vi=null);break;case"focusout":vi=ys=_l=null;break;case"mousedown":vs=!0;break;case"contextmenu":case"mouseup":case"dragend":vs=!1,Gc(G,i,L);break;case"selectionchange":if(Sy)break;case"keydown":case"keyup":Gc(G,i,L)}var se;if(ps)e:{switch(e){case"compositionstart":var he="onCompositionStart";break e;case"compositionend":he="onCompositionEnd";break e;case"compositionupdate":he="onCompositionUpdate";break e}he=void 0}else El?xc(e,i)&&(he="onCompositionEnd"):e==="keydown"&&i.keyCode===229&&(he="onCompositionStart");he&&(_c&&i.locale!=="ko"&&(El||he!=="onCompositionStart"?he==="onCompositionEnd"&&El&&(se=yc()):(vn=L,us="value"in vn?vn.value:vn.textContent,El=!0)),W=fa(D,he),0<W.length&&(he=new Sc(he,e,null,i,L),G.push({event:he,listeners:W}),se?he.data=se:(se=Rc(i),se!==null&&(he.data=se)))),(se=cy?fy(e,i):dy(e,i))&&(he=fa(D,"onBeforeInput"),0<he.length&&(W=new Sc("onBeforeInput","beforeinput",null,i,L),G.push({event:W,listeners:he}),W.data=se)),l0(G,e,D,i,L)}fp(G,n)})}function Oi(e,n,i){return{instance:e,listener:n,currentTarget:i}}function fa(e,n){for(var i=n+"Capture",s=[];e!==null;){var c=e,p=c.stateNode;if(c=c.tag,c!==5&&c!==26&&c!==27||p===null||(c=ci(e,i),c!=null&&s.unshift(Oi(e,c,p)),c=ci(e,n),c!=null&&s.push(Oi(e,c,p))),e.tag===3)return s;e=e.return}return[]}function s0(e){if(e===null)return null;do e=e.return;while(e&&e.tag!==5&&e.tag!==27);return e||null}function pp(e,n,i,s,c){for(var p=n._reactName,T=[];i!==null&&i!==s;){var _=i,C=_.alternate,D=_.stateNode;if(_=_.tag,C!==null&&C===s)break;_!==5&&_!==26&&_!==27||D===null||(C=D,c?(D=ci(i,p),D!=null&&T.unshift(Oi(i,D,C))):c||(D=ci(i,p),D!=null&&T.push(Oi(i,D,C)))),i=i.return}T.length!==0&&e.push({event:n,listeners:T})}var u0=/\r\n?/g,r0=/\u0000|\uFFFD/g;function hp(e){return(typeof e=="string"?e:""+e).replace(u0,`
`).replace(r0,"")}function mp(e,n){return n=hp(n),hp(e)===n}function be(e,n,i,s,c,p){switch(i){case"children":typeof s=="string"?n==="body"||n==="textarea"&&s===""||vl(e,s):(typeof s=="number"||typeof s=="bigint")&&n!=="body"&&vl(e,""+s);break;case"className":mo(e,"class",s);break;case"tabIndex":mo(e,"tabindex",s);break;case"dir":case"role":case"viewBox":case"width":case"height":mo(e,i,s);break;case"style":hc(e,s,p);break;case"data":if(n!=="object"){mo(e,"data",s);break}case"src":case"href":if(s===""&&(n!=="a"||i!=="href")){e.removeAttribute(i);break}if(s==null||typeof s=="function"||typeof s=="symbol"||typeof s=="boolean"){e.removeAttribute(i);break}s=yo(""+s),e.setAttribute(i,s);break;case"action":case"formAction":if(typeof s=="function"){e.setAttribute(i,"javascript:throw new Error('A React form was unexpectedly submitted. If you called form.submit() manually, consider using form.requestSubmit() instead. If you\\'re trying to use event.stopPropagation() in a submit event handler, consider also calling event.preventDefault().')");break}else typeof p=="function"&&(i==="formAction"?(n!=="input"&&be(e,n,"name",c.name,c,null),be(e,n,"formEncType",c.formEncType,c,null),be(e,n,"formMethod",c.formMethod,c,null),be(e,n,"formTarget",c.formTarget,c,null)):(be(e,n,"encType",c.encType,c,null),be(e,n,"method",c.method,c,null),be(e,n,"target",c.target,c,null)));if(s==null||typeof s=="symbol"||typeof s=="boolean"){e.removeAttribute(i);break}s=yo(""+s),e.setAttribute(i,s);break;case"onClick":s!=null&&(e.onclick=$t);break;case"onScroll":s!=null&&fe("scroll",e);break;case"onScrollEnd":s!=null&&fe("scrollend",e);break;case"dangerouslySetInnerHTML":if(s!=null){if(typeof s!="object"||!("__html"in s))throw Error(a(61));if(i=s.__html,i!=null){if(c.children!=null)throw Error(a(60));e.innerHTML=i}}break;case"multiple":e.multiple=s&&typeof s!="function"&&typeof s!="symbol";break;case"muted":e.muted=s&&typeof s!="function"&&typeof s!="symbol";break;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"defaultValue":case"defaultChecked":case"innerHTML":case"ref":break;case"autoFocus":break;case"xlinkHref":if(s==null||typeof s=="function"||typeof s=="boolean"||typeof s=="symbol"){e.removeAttribute("xlink:href");break}i=yo(""+s),e.setAttributeNS("http://www.w3.org/1999/xlink","xlink:href",i);break;case"contentEditable":case"spellCheck":case"draggable":case"value":case"autoReverse":case"externalResourcesRequired":case"focusable":case"preserveAlpha":s!=null&&typeof s!="function"&&typeof s!="symbol"?e.setAttribute(i,""+s):e.removeAttribute(i);break;case"inert":case"allowFullScreen":case"async":case"autoPlay":case"controls":case"default":case"defer":case"disabled":case"disablePictureInPicture":case"disableRemotePlayback":case"formNoValidate":case"hidden":case"loop":case"noModule":case"noValidate":case"open":case"playsInline":case"readOnly":case"required":case"reversed":case"scoped":case"seamless":case"itemScope":s&&typeof s!="function"&&typeof s!="symbol"?e.setAttribute(i,""):e.removeAttribute(i);break;case"capture":case"download":s===!0?e.setAttribute(i,""):s!==!1&&s!=null&&typeof s!="function"&&typeof s!="symbol"?e.setAttribute(i,s):e.removeAttribute(i);break;case"cols":case"rows":case"size":case"span":s!=null&&typeof s!="function"&&typeof s!="symbol"&&!isNaN(s)&&1<=s?e.setAttribute(i,s):e.removeAttribute(i);break;case"rowSpan":case"start":s==null||typeof s=="function"||typeof s=="symbol"||isNaN(s)?e.removeAttribute(i):e.setAttribute(i,s);break;case"popover":fe("beforetoggle",e),fe("toggle",e),ho(e,"popover",s);break;case"xlinkActuate":Zt(e,"http://www.w3.org/1999/xlink","xlink:actuate",s);break;case"xlinkArcrole":Zt(e,"http://www.w3.org/1999/xlink","xlink:arcrole",s);break;case"xlinkRole":Zt(e,"http://www.w3.org/1999/xlink","xlink:role",s);break;case"xlinkShow":Zt(e,"http://www.w3.org/1999/xlink","xlink:show",s);break;case"xlinkTitle":Zt(e,"http://www.w3.org/1999/xlink","xlink:title",s);break;case"xlinkType":Zt(e,"http://www.w3.org/1999/xlink","xlink:type",s);break;case"xmlBase":Zt(e,"http://www.w3.org/XML/1998/namespace","xml:base",s);break;case"xmlLang":Zt(e,"http://www.w3.org/XML/1998/namespace","xml:lang",s);break;case"xmlSpace":Zt(e,"http://www.w3.org/XML/1998/namespace","xml:space",s);break;case"is":ho(e,"is",s);break;case"innerText":case"textContent":break;default:(!(2<i.length)||i[0]!=="o"&&i[0]!=="O"||i[1]!=="n"&&i[1]!=="N")&&(i=zg.get(i)||i,ho(e,i,s))}}function Ou(e,n,i,s,c,p){switch(i){case"style":hc(e,s,p);break;case"dangerouslySetInnerHTML":if(s!=null){if(typeof s!="object"||!("__html"in s))throw Error(a(61));if(i=s.__html,i!=null){if(c.children!=null)throw Error(a(60));e.innerHTML=i}}break;case"children":typeof s=="string"?vl(e,s):(typeof s=="number"||typeof s=="bigint")&&vl(e,""+s);break;case"onScroll":s!=null&&fe("scroll",e);break;case"onScrollEnd":s!=null&&fe("scrollend",e);break;case"onClick":s!=null&&(e.onclick=$t);break;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"innerHTML":case"ref":break;case"innerText":case"textContent":break;default:if(!oc.hasOwnProperty(i))e:{if(i[0]==="o"&&i[1]==="n"&&(c=i.endsWith("Capture"),n=i.slice(2,c?i.length-7:void 0),p=e[ct]||null,p=p!=null?p[i]:null,typeof p=="function"&&e.removeEventListener(n,p,c),typeof s=="function")){typeof p!="function"&&p!==null&&(i in e?e[i]=null:e.hasAttribute(i)&&e.removeAttribute(i)),e.addEventListener(n,s,c);break e}i in e?e[i]=s:s===!0?e.setAttribute(i,""):ho(e,i,s)}}}function nt(e,n,i){switch(n){case"div":case"span":case"svg":case"path":case"a":case"g":case"p":case"li":break;case"img":fe("error",e),fe("load",e);var s=!1,c=!1,p;for(p in i)if(i.hasOwnProperty(p)){var T=i[p];if(T!=null)switch(p){case"src":s=!0;break;case"srcSet":c=!0;break;case"children":case"dangerouslySetInnerHTML":throw Error(a(137,n));default:be(e,n,p,T,i,null)}}c&&be(e,n,"srcSet",i.srcSet,i,null),s&&be(e,n,"src",i.src,i,null);return;case"input":fe("invalid",e);var _=p=T=c=null,C=null,D=null;for(s in i)if(i.hasOwnProperty(s)){var L=i[s];if(L!=null)switch(s){case"name":c=L;break;case"type":T=L;break;case"checked":C=L;break;case"defaultChecked":D=L;break;case"value":p=L;break;case"defaultValue":_=L;break;case"children":case"dangerouslySetInnerHTML":if(L!=null)throw Error(a(137,n));break;default:be(e,n,s,L,i,null)}}cc(e,p,_,C,D,T,c,!1);return;case"select":fe("invalid",e),s=T=p=null;for(c in i)if(i.hasOwnProperty(c)&&(_=i[c],_!=null))switch(c){case"value":p=_;break;case"defaultValue":T=_;break;case"multiple":s=_;default:be(e,n,c,_,i,null)}n=p,i=T,e.multiple=!!s,n!=null?yl(e,!!s,n,!1):i!=null&&yl(e,!!s,i,!0);return;case"textarea":fe("invalid",e),p=c=s=null;for(T in i)if(i.hasOwnProperty(T)&&(_=i[T],_!=null))switch(T){case"value":s=_;break;case"defaultValue":c=_;break;case"children":p=_;break;case"dangerouslySetInnerHTML":if(_!=null)throw Error(a(91));break;default:be(e,n,T,_,i,null)}dc(e,s,c,p);return;case"option":for(C in i)if(i.hasOwnProperty(C)&&(s=i[C],s!=null))switch(C){case"selected":e.selected=s&&typeof s!="function"&&typeof s!="symbol";break;default:be(e,n,C,s,i,null)}return;case"dialog":fe("beforetoggle",e),fe("toggle",e),fe("cancel",e),fe("close",e);break;case"iframe":case"object":fe("load",e);break;case"video":case"audio":for(s=0;s<Pi.length;s++)fe(Pi[s],e);break;case"image":fe("error",e),fe("load",e);break;case"details":fe("toggle",e);break;case"embed":case"source":case"link":fe("error",e),fe("load",e);case"area":case"base":case"br":case"col":case"hr":case"keygen":case"meta":case"param":case"track":case"wbr":case"menuitem":for(D in i)if(i.hasOwnProperty(D)&&(s=i[D],s!=null))switch(D){case"children":case"dangerouslySetInnerHTML":throw Error(a(137,n));default:be(e,n,D,s,i,null)}return;default:if(ls(n)){for(L in i)i.hasOwnProperty(L)&&(s=i[L],s!==void 0&&Ou(e,n,L,s,i,void 0));return}}for(_ in i)i.hasOwnProperty(_)&&(s=i[_],s!=null&&be(e,n,_,s,i,null))}function c0(e,n,i,s){switch(n){case"div":case"span":case"svg":case"path":case"a":case"g":case"p":case"li":break;case"input":var c=null,p=null,T=null,_=null,C=null,D=null,L=null;for(U in i){var G=i[U];if(i.hasOwnProperty(U)&&G!=null)switch(U){case"checked":break;case"value":break;case"defaultValue":C=G;default:s.hasOwnProperty(U)||be(e,n,U,null,s,G)}}for(var I in s){var U=s[I];if(G=i[I],s.hasOwnProperty(I)&&(U!=null||G!=null))switch(I){case"type":p=U;break;case"name":c=U;break;case"checked":D=U;break;case"defaultChecked":L=U;break;case"value":T=U;break;case"defaultValue":_=U;break;case"children":case"dangerouslySetInnerHTML":if(U!=null)throw Error(a(137,n));break;default:U!==G&&be(e,n,I,U,s,G)}}ts(e,T,_,C,D,L,p,c);return;case"select":U=T=_=I=null;for(p in i)if(C=i[p],i.hasOwnProperty(p)&&C!=null)switch(p){case"value":break;case"multiple":U=C;default:s.hasOwnProperty(p)||be(e,n,p,null,s,C)}for(c in s)if(p=s[c],C=i[c],s.hasOwnProperty(c)&&(p!=null||C!=null))switch(c){case"value":I=p;break;case"defaultValue":_=p;break;case"multiple":T=p;default:p!==C&&be(e,n,c,p,s,C)}n=_,i=T,s=U,I!=null?yl(e,!!i,I,!1):!!s!=!!i&&(n!=null?yl(e,!!i,n,!0):yl(e,!!i,i?[]:"",!1));return;case"textarea":U=I=null;for(_ in i)if(c=i[_],i.hasOwnProperty(_)&&c!=null&&!s.hasOwnProperty(_))switch(_){case"value":break;case"children":break;default:be(e,n,_,null,s,c)}for(T in s)if(c=s[T],p=i[T],s.hasOwnProperty(T)&&(c!=null||p!=null))switch(T){case"value":I=c;break;case"defaultValue":U=c;break;case"children":break;case"dangerouslySetInnerHTML":if(c!=null)throw Error(a(91));break;default:c!==p&&be(e,n,T,c,s,p)}fc(e,I,U);return;case"option":for(var X in i)if(I=i[X],i.hasOwnProperty(X)&&I!=null&&!s.hasOwnProperty(X))switch(X){case"selected":e.selected=!1;break;default:be(e,n,X,null,s,I)}for(C in s)if(I=s[C],U=i[C],s.hasOwnProperty(C)&&I!==U&&(I!=null||U!=null))switch(C){case"selected":e.selected=I&&typeof I!="function"&&typeof I!="symbol";break;default:be(e,n,C,I,s,U)}return;case"img":case"link":case"area":case"base":case"br":case"col":case"embed":case"hr":case"keygen":case"meta":case"param":case"source":case"track":case"wbr":case"menuitem":for(var ne in i)I=i[ne],i.hasOwnProperty(ne)&&I!=null&&!s.hasOwnProperty(ne)&&be(e,n,ne,null,s,I);for(D in s)if(I=s[D],U=i[D],s.hasOwnProperty(D)&&I!==U&&(I!=null||U!=null))switch(D){case"children":case"dangerouslySetInnerHTML":if(I!=null)throw Error(a(137,n));break;default:be(e,n,D,I,s,U)}return;default:if(ls(n)){for(var De in i)I=i[De],i.hasOwnProperty(De)&&I!==void 0&&!s.hasOwnProperty(De)&&Ou(e,n,De,void 0,s,I);for(L in s)I=s[L],U=i[L],!s.hasOwnProperty(L)||I===U||I===void 0&&U===void 0||Ou(e,n,L,I,s,U);return}}for(var M in i)I=i[M],i.hasOwnProperty(M)&&I!=null&&!s.hasOwnProperty(M)&&be(e,n,M,null,s,I);for(G in s)I=s[G],U=i[G],!s.hasOwnProperty(G)||I===U||I==null&&U==null||be(e,n,G,I,s,U)}function gp(e){switch(e){case"css":case"script":case"font":case"img":case"image":case"input":case"link":return!0;default:return!1}}function f0(){if(typeof performance.getEntriesByType=="function"){for(var e=0,n=0,i=performance.getEntriesByType("resource"),s=0;s<i.length;s++){var c=i[s],p=c.transferSize,T=c.initiatorType,_=c.duration;if(p&&_&&gp(T)){for(T=0,_=c.responseEnd,s+=1;s<i.length;s++){var C=i[s],D=C.startTime;if(D>_)break;var L=C.transferSize,G=C.initiatorType;L&&gp(G)&&(C=C.responseEnd,T+=L*(C<_?1:(_-D)/(C-D)))}if(--s,n+=8*(p+T)/(c.duration/1e3),e++,10<e)break}}if(0<e)return n/e/1e6}return navigator.connection&&(e=navigator.connection.downlink,typeof e=="number")?e:5}var Yu=null,Ju=null;function da(e){return e.nodeType===9?e:e.ownerDocument}function yp(e){switch(e){case"http://www.w3.org/2000/svg":return 1;case"http://www.w3.org/1998/Math/MathML":return 2;default:return 0}}function vp(e,n){if(e===0)switch(n){case"svg":return 1;case"math":return 2;default:return 0}return e===1&&n==="foreignObject"?0:e}function Fu(e,n){return e==="textarea"||e==="noscript"||typeof n.children=="string"||typeof n.children=="number"||typeof n.children=="bigint"||typeof n.dangerouslySetInnerHTML=="object"&&n.dangerouslySetInnerHTML!==null&&n.dangerouslySetInnerHTML.__html!=null}var Ku=null;function d0(){var e=window.event;return e&&e.type==="popstate"?e===Ku?!1:(Ku=e,!0):(Ku=null,!1)}var Tp=typeof setTimeout=="function"?setTimeout:void 0,p0=typeof clearTimeout=="function"?clearTimeout:void 0,Sp=typeof Promise=="function"?Promise:void 0,h0=typeof queueMicrotask=="function"?queueMicrotask:typeof Sp<"u"?function(e){return Sp.resolve(null).then(e).catch(m0)}:Tp;function m0(e){setTimeout(function(){throw e})}function Ln(e){return e==="head"}function Ep(e,n){var i=n,s=0;do{var c=i.nextSibling;if(e.removeChild(i),c&&c.nodeType===8)if(i=c.data,i==="/$"||i==="/&"){if(s===0){e.removeChild(c),Xl(n);return}s--}else if(i==="$"||i==="$?"||i==="$~"||i==="$!"||i==="&")s++;else if(i==="html")Yi(e.ownerDocument.documentElement);else if(i==="head"){i=e.ownerDocument.head,Yi(i);for(var p=i.firstChild;p;){var T=p.nextSibling,_=p.nodeName;p[ui]||_==="SCRIPT"||_==="STYLE"||_==="LINK"&&p.rel.toLowerCase()==="stylesheet"||i.removeChild(p),p=T}}else i==="body"&&Yi(e.ownerDocument.body);i=c}while(i);Xl(n)}function _p(e,n){var i=e;e=0;do{var s=i.nextSibling;if(i.nodeType===1?n?(i._stashedDisplay=i.style.display,i.style.display="none"):(i.style.display=i._stashedDisplay||"",i.getAttribute("style")===""&&i.removeAttribute("style")):i.nodeType===3&&(n?(i._stashedText=i.nodeValue,i.nodeValue=""):i.nodeValue=i._stashedText||""),s&&s.nodeType===8)if(i=s.data,i==="/$"){if(e===0)break;e--}else i!=="$"&&i!=="$?"&&i!=="$~"&&i!=="$!"||e++;i=s}while(i)}function Qu(e){var n=e.firstChild;for(n&&n.nodeType===10&&(n=n.nextSibling);n;){var i=n;switch(n=n.nextSibling,i.nodeName){case"HTML":case"HEAD":case"BODY":Qu(i),ja(i);continue;case"SCRIPT":case"STYLE":continue;case"LINK":if(i.rel.toLowerCase()==="stylesheet")continue}e.removeChild(i)}}function g0(e,n,i,s){for(;e.nodeType===1;){var c=i;if(e.nodeName.toLowerCase()!==n.toLowerCase()){if(!s&&(e.nodeName!=="INPUT"||e.type!=="hidden"))break}else if(s){if(!e[ui])switch(n){case"meta":if(!e.hasAttribute("itemprop"))break;return e;case"link":if(p=e.getAttribute("rel"),p==="stylesheet"&&e.hasAttribute("data-precedence"))break;if(p!==c.rel||e.getAttribute("href")!==(c.href==null||c.href===""?null:c.href)||e.getAttribute("crossorigin")!==(c.crossOrigin==null?null:c.crossOrigin)||e.getAttribute("title")!==(c.title==null?null:c.title))break;return e;case"style":if(e.hasAttribute("data-precedence"))break;return e;case"script":if(p=e.getAttribute("src"),(p!==(c.src==null?null:c.src)||e.getAttribute("type")!==(c.type==null?null:c.type)||e.getAttribute("crossorigin")!==(c.crossOrigin==null?null:c.crossOrigin))&&p&&e.hasAttribute("async")&&!e.hasAttribute("itemprop"))break;return e;default:return e}}else if(n==="input"&&e.type==="hidden"){var p=c.name==null?null:""+c.name;if(c.type==="hidden"&&e.getAttribute("name")===p)return e}else return e;if(e=qt(e.nextSibling),e===null)break}return null}function y0(e,n,i){if(n==="")return null;for(;e.nodeType!==3;)if((e.nodeType!==1||e.nodeName!=="INPUT"||e.type!=="hidden")&&!i||(e=qt(e.nextSibling),e===null))return null;return e}function Cp(e,n){for(;e.nodeType!==8;)if((e.nodeType!==1||e.nodeName!=="INPUT"||e.type!=="hidden")&&!n||(e=qt(e.nextSibling),e===null))return null;return e}function Xu(e){return e.data==="$?"||e.data==="$~"}function Zu(e){return e.data==="$!"||e.data==="$?"&&e.ownerDocument.readyState!=="loading"}function v0(e,n){var i=e.ownerDocument;if(e.data==="$~")e._reactRetry=n;else if(e.data!=="$?"||i.readyState!=="loading")n();else{var s=function(){n(),i.removeEventListener("DOMContentLoaded",s)};i.addEventListener("DOMContentLoaded",s),e._reactRetry=s}}function qt(e){for(;e!=null;e=e.nextSibling){var n=e.nodeType;if(n===1||n===3)break;if(n===8){if(n=e.data,n==="$"||n==="$!"||n==="$?"||n==="$~"||n==="&"||n==="F!"||n==="F")break;if(n==="/$"||n==="/&")return null}}return e}var $u=null;function Ap(e){e=e.nextSibling;for(var n=0;e;){if(e.nodeType===8){var i=e.data;if(i==="/$"||i==="/&"){if(n===0)return qt(e.nextSibling);n--}else i!=="$"&&i!=="$!"&&i!=="$?"&&i!=="$~"&&i!=="&"||n++}e=e.nextSibling}return null}function xp(e){e=e.previousSibling;for(var n=0;e;){if(e.nodeType===8){var i=e.data;if(i==="$"||i==="$!"||i==="$?"||i==="$~"||i==="&"){if(n===0)return e;n--}else i!=="/$"&&i!=="/&"||n++}e=e.previousSibling}return null}function Rp(e,n,i){switch(n=da(i),e){case"html":if(e=n.documentElement,!e)throw Error(a(452));return e;case"head":if(e=n.head,!e)throw Error(a(453));return e;case"body":if(e=n.body,!e)throw Error(a(454));return e;default:throw Error(a(451))}}function Yi(e){for(var n=e.attributes;n.length;)e.removeAttributeNode(n[0]);ja(e)}var zt=new Map,Mp=new Set;function pa(e){return typeof e.getRootNode=="function"?e.getRootNode():e.nodeType===9?e:e.ownerDocument}var hn=Y.d;Y.d={f:T0,r:S0,D:E0,C:_0,L:C0,m:A0,X:R0,S:x0,M:M0};function T0(){var e=hn.f(),n=ia();return e||n}function S0(e){var n=hl(e);n!==null&&n.tag===5&&n.type==="form"?Yf(n):hn.r(e)}var Fl=typeof document>"u"?null:document;function Np(e,n,i){var s=Fl;if(s&&typeof n=="string"&&n){var c=bt(n);c='link[rel="'+e+'"][href="'+c+'"]',typeof i=="string"&&(c+='[crossorigin="'+i+'"]'),Mp.has(c)||(Mp.add(c),e={rel:e,crossOrigin:i,href:n},s.querySelector(c)===null&&(n=s.createElement("link"),nt(n,"link",e),Ze(n),s.head.appendChild(n)))}}function E0(e){hn.D(e),Np("dns-prefetch",e,null)}function _0(e,n){hn.C(e,n),Np("preconnect",e,n)}function C0(e,n,i){hn.L(e,n,i);var s=Fl;if(s&&e&&n){var c='link[rel="preload"][as="'+bt(n)+'"]';n==="image"&&i&&i.imageSrcSet?(c+='[imagesrcset="'+bt(i.imageSrcSet)+'"]',typeof i.imageSizes=="string"&&(c+='[imagesizes="'+bt(i.imageSizes)+'"]')):c+='[href="'+bt(e)+'"]';var p=c;switch(n){case"style":p=Kl(e);break;case"script":p=Ql(e)}zt.has(p)||(e=S({rel:"preload",href:n==="image"&&i&&i.imageSrcSet?void 0:e,as:n},i),zt.set(p,e),s.querySelector(c)!==null||n==="style"&&s.querySelector(Ji(p))||n==="script"&&s.querySelector(Fi(p))||(n=s.createElement("link"),nt(n,"link",e),Ze(n),s.head.appendChild(n)))}}function A0(e,n){hn.m(e,n);var i=Fl;if(i&&e){var s=n&&typeof n.as=="string"?n.as:"script",c='link[rel="modulepreload"][as="'+bt(s)+'"][href="'+bt(e)+'"]',p=c;switch(s){case"audioworklet":case"paintworklet":case"serviceworker":case"sharedworker":case"worker":case"script":p=Ql(e)}if(!zt.has(p)&&(e=S({rel:"modulepreload",href:e},n),zt.set(p,e),i.querySelector(c)===null)){switch(s){case"audioworklet":case"paintworklet":case"serviceworker":case"sharedworker":case"worker":case"script":if(i.querySelector(Fi(p)))return}s=i.createElement("link"),nt(s,"link",e),Ze(s),i.head.appendChild(s)}}}function x0(e,n,i){hn.S(e,n,i);var s=Fl;if(s&&e){var c=ml(s).hoistableStyles,p=Kl(e);n=n||"default";var T=c.get(p);if(!T){var _={loading:0,preload:null};if(T=s.querySelector(Ji(p)))_.loading=5;else{e=S({rel:"stylesheet",href:e,"data-precedence":n},i),(i=zt.get(p))&&Wu(e,i);var C=T=s.createElement("link");Ze(C),nt(C,"link",e),C._p=new Promise(function(D,L){C.onload=D,C.onerror=L}),C.addEventListener("load",function(){_.loading|=1}),C.addEventListener("error",function(){_.loading|=2}),_.loading|=4,ha(T,n,s)}T={type:"stylesheet",instance:T,count:1,state:_},c.set(p,T)}}}function R0(e,n){hn.X(e,n);var i=Fl;if(i&&e){var s=ml(i).hoistableScripts,c=Ql(e),p=s.get(c);p||(p=i.querySelector(Fi(c)),p||(e=S({src:e,async:!0},n),(n=zt.get(c))&&ju(e,n),p=i.createElement("script"),Ze(p),nt(p,"link",e),i.head.appendChild(p)),p={type:"script",instance:p,count:1,state:null},s.set(c,p))}}function M0(e,n){hn.M(e,n);var i=Fl;if(i&&e){var s=ml(i).hoistableScripts,c=Ql(e),p=s.get(c);p||(p=i.querySelector(Fi(c)),p||(e=S({src:e,async:!0,type:"module"},n),(n=zt.get(c))&&ju(e,n),p=i.createElement("script"),Ze(p),nt(p,"link",e),i.head.appendChild(p)),p={type:"script",instance:p,count:1,state:null},s.set(c,p))}}function bp(e,n,i,s){var c=(c=re.current)?pa(c):null;if(!c)throw Error(a(446));switch(e){case"meta":case"title":return null;case"style":return typeof i.precedence=="string"&&typeof i.href=="string"?(n=Kl(i.href),i=ml(c).hoistableStyles,s=i.get(n),s||(s={type:"style",instance:null,count:0,state:null},i.set(n,s)),s):{type:"void",instance:null,count:0,state:null};case"link":if(i.rel==="stylesheet"&&typeof i.href=="string"&&typeof i.precedence=="string"){e=Kl(i.href);var p=ml(c).hoistableStyles,T=p.get(e);if(T||(c=c.ownerDocument||c,T={type:"stylesheet",instance:null,count:0,state:{loading:0,preload:null}},p.set(e,T),(p=c.querySelector(Ji(e)))&&!p._p&&(T.instance=p,T.state.loading=5),zt.has(e)||(i={rel:"preload",as:"style",href:i.href,crossOrigin:i.crossOrigin,integrity:i.integrity,media:i.media,hrefLang:i.hrefLang,referrerPolicy:i.referrerPolicy},zt.set(e,i),p||N0(c,e,i,T.state))),n&&s===null)throw Error(a(528,""));return T}if(n&&s!==null)throw Error(a(529,""));return null;case"script":return n=i.async,i=i.src,typeof i=="string"&&n&&typeof n!="function"&&typeof n!="symbol"?(n=Ql(i),i=ml(c).hoistableScripts,s=i.get(n),s||(s={type:"script",instance:null,count:0,state:null},i.set(n,s)),s):{type:"void",instance:null,count:0,state:null};default:throw Error(a(444,e))}}function Kl(e){return'href="'+bt(e)+'"'}function Ji(e){return'link[rel="stylesheet"]['+e+"]"}function Dp(e){return S({},e,{"data-precedence":e.precedence,precedence:null})}function N0(e,n,i,s){e.querySelector('link[rel="preload"][as="style"]['+n+"]")?s.loading=1:(n=e.createElement("link"),s.preload=n,n.addEventListener("load",function(){return s.loading|=1}),n.addEventListener("error",function(){return s.loading|=2}),nt(n,"link",i),Ze(n),e.head.appendChild(n))}function Ql(e){return'[src="'+bt(e)+'"]'}function Fi(e){return"script[async]"+e}function Ip(e,n,i){if(n.count++,n.instance===null)switch(n.type){case"style":var s=e.querySelector('style[data-href~="'+bt(i.href)+'"]');if(s)return n.instance=s,Ze(s),s;var c=S({},i,{"data-href":i.href,"data-precedence":i.precedence,href:null,precedence:null});return s=(e.ownerDocument||e).createElement("style"),Ze(s),nt(s,"style",c),ha(s,i.precedence,e),n.instance=s;case"stylesheet":c=Kl(i.href);var p=e.querySelector(Ji(c));if(p)return n.state.loading|=4,n.instance=p,Ze(p),p;s=Dp(i),(c=zt.get(c))&&Wu(s,c),p=(e.ownerDocument||e).createElement("link"),Ze(p);var T=p;return T._p=new Promise(function(_,C){T.onload=_,T.onerror=C}),nt(p,"link",s),n.state.loading|=4,ha(p,i.precedence,e),n.instance=p;case"script":return p=Ql(i.src),(c=e.querySelector(Fi(p)))?(n.instance=c,Ze(c),c):(s=i,(c=zt.get(p))&&(s=S({},i),ju(s,c)),e=e.ownerDocument||e,c=e.createElement("script"),Ze(c),nt(c,"link",s),e.head.appendChild(c),n.instance=c);case"void":return null;default:throw Error(a(443,n.type))}else n.type==="stylesheet"&&(n.state.loading&4)===0&&(s=n.instance,n.state.loading|=4,ha(s,i.precedence,e));return n.instance}function ha(e,n,i){for(var s=i.querySelectorAll('link[rel="stylesheet"][data-precedence],style[data-precedence]'),c=s.length?s[s.length-1]:null,p=c,T=0;T<s.length;T++){var _=s[T];if(_.dataset.precedence===n)p=_;else if(p!==c)break}p?p.parentNode.insertBefore(e,p.nextSibling):(n=i.nodeType===9?i.head:i,n.insertBefore(e,n.firstChild))}function Wu(e,n){e.crossOrigin==null&&(e.crossOrigin=n.crossOrigin),e.referrerPolicy==null&&(e.referrerPolicy=n.referrerPolicy),e.title==null&&(e.title=n.title)}function ju(e,n){e.crossOrigin==null&&(e.crossOrigin=n.crossOrigin),e.referrerPolicy==null&&(e.referrerPolicy=n.referrerPolicy),e.integrity==null&&(e.integrity=n.integrity)}var ma=null;function wp(e,n,i){if(ma===null){var s=new Map,c=ma=new Map;c.set(i,s)}else c=ma,s=c.get(i),s||(s=new Map,c.set(i,s));if(s.has(e))return s;for(s.set(e,null),i=i.getElementsByTagName(e),c=0;c<i.length;c++){var p=i[c];if(!(p[ui]||p[We]||e==="link"&&p.getAttribute("rel")==="stylesheet")&&p.namespaceURI!=="http://www.w3.org/2000/svg"){var T=p.getAttribute(n)||"";T=e+T;var _=s.get(T);_?_.push(p):s.set(T,[p])}}return s}function Up(e,n,i){e=e.ownerDocument||e,e.head.insertBefore(i,n==="title"?e.querySelector("head > title"):null)}function b0(e,n,i){if(i===1||n.itemProp!=null)return!1;switch(e){case"meta":case"title":return!0;case"style":if(typeof n.precedence!="string"||typeof n.href!="string"||n.href==="")break;return!0;case"link":if(typeof n.rel!="string"||typeof n.href!="string"||n.href===""||n.onLoad||n.onError)break;switch(n.rel){case"stylesheet":return e=n.disabled,typeof n.precedence=="string"&&e==null;default:return!0}case"script":if(n.async&&typeof n.async!="function"&&typeof n.async!="symbol"&&!n.onLoad&&!n.onError&&n.src&&typeof n.src=="string")return!0}return!1}function kp(e){return!(e.type==="stylesheet"&&(e.state.loading&3)===0)}function D0(e,n,i,s){if(i.type==="stylesheet"&&(typeof s.media!="string"||matchMedia(s.media).matches!==!1)&&(i.state.loading&4)===0){if(i.instance===null){var c=Kl(s.href),p=n.querySelector(Ji(c));if(p){n=p._p,n!==null&&typeof n=="object"&&typeof n.then=="function"&&(e.count++,e=ga.bind(e),n.then(e,e)),i.state.loading|=4,i.instance=p,Ze(p);return}p=n.ownerDocument||n,s=Dp(s),(c=zt.get(c))&&Wu(s,c),p=p.createElement("link"),Ze(p);var T=p;T._p=new Promise(function(_,C){T.onload=_,T.onerror=C}),nt(p,"link",s),i.instance=p}e.stylesheets===null&&(e.stylesheets=new Map),e.stylesheets.set(i,n),(n=i.state.preload)&&(i.state.loading&3)===0&&(e.count++,i=ga.bind(e),n.addEventListener("load",i),n.addEventListener("error",i))}}var er=0;function I0(e,n){return e.stylesheets&&e.count===0&&va(e,e.stylesheets),0<e.count||0<e.imgCount?function(i){var s=setTimeout(function(){if(e.stylesheets&&va(e,e.stylesheets),e.unsuspend){var p=e.unsuspend;e.unsuspend=null,p()}},6e4+n);0<e.imgBytes&&er===0&&(er=62500*f0());var c=setTimeout(function(){if(e.waitingForImages=!1,e.count===0&&(e.stylesheets&&va(e,e.stylesheets),e.unsuspend)){var p=e.unsuspend;e.unsuspend=null,p()}},(e.imgBytes>er?50:800)+n);return e.unsuspend=i,function(){e.unsuspend=null,clearTimeout(s),clearTimeout(c)}}:null}function ga(){if(this.count--,this.count===0&&(this.imgCount===0||!this.waitingForImages)){if(this.stylesheets)va(this,this.stylesheets);else if(this.unsuspend){var e=this.unsuspend;this.unsuspend=null,e()}}}var ya=null;function va(e,n){e.stylesheets=null,e.unsuspend!==null&&(e.count++,ya=new Map,n.forEach(w0,e),ya=null,ga.call(e))}function w0(e,n){if(!(n.state.loading&4)){var i=ya.get(e);if(i)var s=i.get(null);else{i=new Map,ya.set(e,i);for(var c=e.querySelectorAll("link[data-precedence],style[data-precedence]"),p=0;p<c.length;p++){var T=c[p];(T.nodeName==="LINK"||T.getAttribute("media")!=="not all")&&(i.set(T.dataset.precedence,T),s=T)}s&&i.set(null,s)}c=n.instance,T=c.getAttribute("data-precedence"),p=i.get(T)||s,p===s&&i.set(null,c),i.set(T,c),this.count++,s=ga.bind(this),c.addEventListener("load",s),c.addEventListener("error",s),p?p.parentNode.insertBefore(c,p.nextSibling):(e=e.nodeType===9?e.head:e,e.insertBefore(c,e.firstChild)),n.state.loading|=4}}var Ki={$$typeof:B,Provider:null,Consumer:null,_currentValue:le,_currentValue2:le,_threadCount:0};function U0(e,n,i,s,c,p,T,_,C){this.tag=1,this.containerInfo=e,this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.next=this.pendingContext=this.context=this.cancelPendingCommit=null,this.callbackPriority=0,this.expirationTimes=Xa(-1),this.entangledLanes=this.shellSuspendCounter=this.errorRecoveryDisabledLanes=this.expiredLanes=this.warmLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=Xa(0),this.hiddenUpdates=Xa(null),this.identifierPrefix=s,this.onUncaughtError=c,this.onCaughtError=p,this.onRecoverableError=T,this.pooledCache=null,this.pooledCacheLanes=0,this.formState=C,this.incompleteTransitions=new Map}function Lp(e,n,i,s,c,p,T,_,C,D,L,G){return e=new U0(e,n,i,T,C,D,L,G,_),n=1,p===!0&&(n|=24),p=Et(3,null,null,n),e.current=p,p.stateNode=e,n=Us(),n.refCount++,e.pooledCache=n,n.refCount++,p.memoizedState={element:s,isDehydrated:i,cache:n},zs(p),e}function qp(e){return e?(e=xl,e):xl}function zp(e,n,i,s,c,p){c=qp(c),s.context===null?s.context=c:s.pendingContext=c,s=An(n),s.payload={element:i},p=p===void 0?null:p,p!==null&&(s.callback=p),i=xn(e,s,n),i!==null&&(gt(i,e,n),xi(i,e,n))}function Gp(e,n){if(e=e.memoizedState,e!==null&&e.dehydrated!==null){var i=e.retryLane;e.retryLane=i!==0&&i<n?i:n}}function tr(e,n){Gp(e,n),(e=e.alternate)&&Gp(e,n)}function Hp(e){if(e.tag===13||e.tag===31){var n=Xn(e,67108864);n!==null&&gt(n,e,67108864),tr(e,67108864)}}function Vp(e){if(e.tag===13||e.tag===31){var n=Rt();n=Za(n);var i=Xn(e,n);i!==null&&gt(i,e,n),tr(e,n)}}var Ta=!0;function k0(e,n,i,s){var c=k.T;k.T=null;var p=Y.p;try{Y.p=2,nr(e,n,i,s)}finally{Y.p=p,k.T=c}}function L0(e,n,i,s){var c=k.T;k.T=null;var p=Y.p;try{Y.p=8,nr(e,n,i,s)}finally{Y.p=p,k.T=c}}function nr(e,n,i,s){if(Ta){var c=lr(s);if(c===null)Pu(e,n,s,Sa,i),Pp(e,s);else if(z0(c,e,n,i,s))s.stopPropagation();else if(Pp(e,s),n&4&&-1<q0.indexOf(e)){for(;c!==null;){var p=hl(c);if(p!==null)switch(p.tag){case 3:if(p=p.stateNode,p.current.memoizedState.isDehydrated){var T=Yn(p.pendingLanes);if(T!==0){var _=p;for(_.pendingLanes|=2,_.entangledLanes|=2;T;){var C=1<<31-Tt(T);_.entanglements[1]|=C,T&=~C}Qt(p),(Ee&6)===0&&(na=yt()+500,Bi(0))}}break;case 31:case 13:_=Xn(p,2),_!==null&&gt(_,p,2),ia(),tr(p,2)}if(p=lr(s),p===null&&Pu(e,n,s,Sa,i),p===c)break;c=p}c!==null&&s.stopPropagation()}else Pu(e,n,s,null,i)}}function lr(e){return e=os(e),ir(e)}var Sa=null;function ir(e){if(Sa=null,e=pl(e),e!==null){var n=d(e);if(n===null)e=null;else{var i=n.tag;if(i===13){if(e=m(n),e!==null)return e;e=null}else if(i===31){if(e=g(n),e!==null)return e;e=null}else if(i===3){if(n.stateNode.current.memoizedState.isDehydrated)return n.tag===3?n.stateNode.containerInfo:null;e=null}else n!==e&&(e=null)}}return Sa=e,null}function Bp(e){switch(e){case"beforetoggle":case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"toggle":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 2;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 8;case"message":switch(Eg()){case Qr:return 2;case Xr:return 8;case uo:case _g:return 32;case Zr:return 268435456;default:return 32}default:return 32}}var or=!1,qn=null,zn=null,Gn=null,Qi=new Map,Xi=new Map,Hn=[],q0="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset".split(" ");function Pp(e,n){switch(e){case"focusin":case"focusout":qn=null;break;case"dragenter":case"dragleave":zn=null;break;case"mouseover":case"mouseout":Gn=null;break;case"pointerover":case"pointerout":Qi.delete(n.pointerId);break;case"gotpointercapture":case"lostpointercapture":Xi.delete(n.pointerId)}}function Zi(e,n,i,s,c,p){return e===null||e.nativeEvent!==p?(e={blockedOn:n,domEventName:i,eventSystemFlags:s,nativeEvent:p,targetContainers:[c]},n!==null&&(n=hl(n),n!==null&&Hp(n)),e):(e.eventSystemFlags|=s,n=e.targetContainers,c!==null&&n.indexOf(c)===-1&&n.push(c),e)}function z0(e,n,i,s,c){switch(n){case"focusin":return qn=Zi(qn,e,n,i,s,c),!0;case"dragenter":return zn=Zi(zn,e,n,i,s,c),!0;case"mouseover":return Gn=Zi(Gn,e,n,i,s,c),!0;case"pointerover":var p=c.pointerId;return Qi.set(p,Zi(Qi.get(p)||null,e,n,i,s,c)),!0;case"gotpointercapture":return p=c.pointerId,Xi.set(p,Zi(Xi.get(p)||null,e,n,i,s,c)),!0}return!1}function Op(e){var n=pl(e.target);if(n!==null){var i=d(n);if(i!==null){if(n=i.tag,n===13){if(n=m(i),n!==null){e.blockedOn=n,nc(e.priority,function(){Vp(i)});return}}else if(n===31){if(n=g(i),n!==null){e.blockedOn=n,nc(e.priority,function(){Vp(i)});return}}else if(n===3&&i.stateNode.current.memoizedState.isDehydrated){e.blockedOn=i.tag===3?i.stateNode.containerInfo:null;return}}}e.blockedOn=null}function Ea(e){if(e.blockedOn!==null)return!1;for(var n=e.targetContainers;0<n.length;){var i=lr(e.nativeEvent);if(i===null){i=e.nativeEvent;var s=new i.constructor(i.type,i);is=s,i.target.dispatchEvent(s),is=null}else return n=hl(i),n!==null&&Hp(n),e.blockedOn=i,!1;n.shift()}return!0}function Yp(e,n,i){Ea(e)&&i.delete(n)}function G0(){or=!1,qn!==null&&Ea(qn)&&(qn=null),zn!==null&&Ea(zn)&&(zn=null),Gn!==null&&Ea(Gn)&&(Gn=null),Qi.forEach(Yp),Xi.forEach(Yp)}function _a(e,n){e.blockedOn===n&&(e.blockedOn=null,or||(or=!0,l.unstable_scheduleCallback(l.unstable_NormalPriority,G0)))}var Ca=null;function Jp(e){Ca!==e&&(Ca=e,l.unstable_scheduleCallback(l.unstable_NormalPriority,function(){Ca===e&&(Ca=null);for(var n=0;n<e.length;n+=3){var i=e[n],s=e[n+1],c=e[n+2];if(typeof s!="function"){if(ir(s||i)===null)continue;break}var p=hl(i);p!==null&&(e.splice(n,3),n-=3,lu(p,{pending:!0,data:c,method:i.method,action:s},s,c))}}))}function Xl(e){function n(C){return _a(C,e)}qn!==null&&_a(qn,e),zn!==null&&_a(zn,e),Gn!==null&&_a(Gn,e),Qi.forEach(n),Xi.forEach(n);for(var i=0;i<Hn.length;i++){var s=Hn[i];s.blockedOn===e&&(s.blockedOn=null)}for(;0<Hn.length&&(i=Hn[0],i.blockedOn===null);)Op(i),i.blockedOn===null&&Hn.shift();if(i=(e.ownerDocument||e).$$reactFormReplay,i!=null)for(s=0;s<i.length;s+=3){var c=i[s],p=i[s+1],T=c[ct]||null;if(typeof p=="function")T||Jp(i);else if(T){var _=null;if(p&&p.hasAttribute("formAction")){if(c=p,T=p[ct]||null)_=T.formAction;else if(ir(c)!==null)continue}else _=T.action;typeof _=="function"?i[s+1]=_:(i.splice(s,3),s-=3),Jp(i)}}}function Fp(){function e(p){p.canIntercept&&p.info==="react-transition"&&p.intercept({handler:function(){return new Promise(function(T){return c=T})},focusReset:"manual",scroll:"manual"})}function n(){c!==null&&(c(),c=null),s||setTimeout(i,20)}function i(){if(!s&&!navigation.transition){var p=navigation.currentEntry;p&&p.url!=null&&navigation.navigate(p.url,{state:p.getState(),info:"react-transition",history:"replace"})}}if(typeof navigation=="object"){var s=!1,c=null;return navigation.addEventListener("navigate",e),navigation.addEventListener("navigatesuccess",n),navigation.addEventListener("navigateerror",n),setTimeout(i,100),function(){s=!0,navigation.removeEventListener("navigate",e),navigation.removeEventListener("navigatesuccess",n),navigation.removeEventListener("navigateerror",n),c!==null&&(c(),c=null)}}}function ar(e){this._internalRoot=e}Aa.prototype.render=ar.prototype.render=function(e){var n=this._internalRoot;if(n===null)throw Error(a(409));var i=n.current,s=Rt();zp(i,s,e,n,null,null)},Aa.prototype.unmount=ar.prototype.unmount=function(){var e=this._internalRoot;if(e!==null){this._internalRoot=null;var n=e.containerInfo;zp(e.current,2,null,e,null,null),ia(),n[dl]=null}};function Aa(e){this._internalRoot=e}Aa.prototype.unstable_scheduleHydration=function(e){if(e){var n=tc();e={blockedOn:null,target:e,priority:n};for(var i=0;i<Hn.length&&n!==0&&n<Hn[i].priority;i++);Hn.splice(i,0,e),i===0&&Op(e)}};var Kp=t.version;if(Kp!=="19.2.0")throw Error(a(527,Kp,"19.2.0"));Y.findDOMNode=function(e){var n=e._reactInternals;if(n===void 0)throw typeof e.render=="function"?Error(a(188)):(e=Object.keys(e).join(","),Error(a(268,e)));return e=h(n),e=e!==null?v(e):null,e=e===null?null:e.stateNode,e};var H0={bundleType:0,version:"19.2.0",rendererPackageName:"react-dom",currentDispatcherRef:k,reconcilerVersion:"19.2.0"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var xa=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!xa.isDisabled&&xa.supportsFiber)try{oi=xa.inject(H0),vt=xa}catch{}}return Wi.createRoot=function(e,n){if(!u(e))throw Error(a(299));var i=!1,s="",c=ed,p=td,T=nd;return n!=null&&(n.unstable_strictMode===!0&&(i=!0),n.identifierPrefix!==void 0&&(s=n.identifierPrefix),n.onUncaughtError!==void 0&&(c=n.onUncaughtError),n.onCaughtError!==void 0&&(p=n.onCaughtError),n.onRecoverableError!==void 0&&(T=n.onRecoverableError)),n=Lp(e,1,!1,null,null,i,s,null,c,p,T,Fp),e[dl]=n.current,Bu(e),new ar(n)},Wi.hydrateRoot=function(e,n,i){if(!u(e))throw Error(a(299));var s=!1,c="",p=ed,T=td,_=nd,C=null;return i!=null&&(i.unstable_strictMode===!0&&(s=!0),i.identifierPrefix!==void 0&&(c=i.identifierPrefix),i.onUncaughtError!==void 0&&(p=i.onUncaughtError),i.onCaughtError!==void 0&&(T=i.onCaughtError),i.onRecoverableError!==void 0&&(_=i.onRecoverableError),i.formState!==void 0&&(C=i.formState)),n=Lp(e,1,!0,n,i??null,s,c,C,p,T,_,Fp),n.context=qp(null),i=n.current,s=Rt(),s=Za(s),c=An(s),c.callback=null,xn(i,c,s),i=s,n.current.lanes=i,si(n,i),Qt(n),e[dl]=n.current,Bu(e),new Aa(n)},Wi.version="19.2.0",Wi}var lh;function W0(){if(lh)return rr.exports;lh=1;function l(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(l)}catch(t){console.error(t)}}return l(),rr.exports=$0(),rr.exports}var j0=W0();const ev=wm(j0),Nr="focusflow_sessions",br="focusflow_chat_history",Dr=()=>{try{const l=localStorage.getItem(Nr);return l?JSON.parse(l):[]}catch(l){return console.error("Failed to parse sessions from localStorage",l),[]}},ih=l=>{const t=Dr(),o={...l,id:new Date().toISOString(),date:new Date().toISOString()};t.push(o),localStorage.setItem(Nr,JSON.stringify(t))},Um=()=>{try{const l=localStorage.getItem(br);return l?JSON.parse(l):[]}catch(l){return console.error("Failed to parse chat history from localStorage",l),[]}},tv=l=>{localStorage.setItem(br,JSON.stringify(l))},nv=()=>({sessions:Dr(),chatHistory:Um()}),lv=l=>{try{const t=JSON.parse(l);return t.sessions&&Array.isArray(t.sessions)&&localStorage.setItem(Nr,JSON.stringify(t.sessions)),t.chatHistory&&Array.isArray(t.chatHistory)&&localStorage.setItem(br,JSON.stringify(t.chatHistory)),{success:!0,message:"Dati importati con successo!"}}catch(t){return console.error("Errore nell'importazione dei dati",t),{success:!1,message:"File di dati non valido."}}},iv=({isOpen:l,onClose:t,onSubmit:o})=>{const[a,u]=xe.useState("");if(!l)return null;const d=m=>{m.preventDefault(),o(a||"Completata una sessione di studio."),u("")};return w.jsx("div",{className:"fixed inset-0 bg-black bg-opacity-75 flex items-center justify-center z-50 p-4",children:w.jsxs("div",{className:"bg-slate-800 rounded-2xl p-6 w-full max-w-md shadow-2xl shadow-black/30 animate-fade-in-up",children:[w.jsx("h2",{className:"text-2xl font-bold text-cyan-300 mb-4",children:"Sessione Completata!"}),w.jsx("p",{className:"text-slate-300 mb-6",children:"Ottimo lavoro! Prenditi un momento per riflettere. Com'è andata la sessione di studio?"}),w.jsxs("form",{onSubmit:d,children:[w.jsx("textarea",{value:a,onChange:m=>u(m.target.value),placeholder:"Es: 'Mi sentivo concentrato e ho capito bene l'argomento.' o 'Ho faticato a causa delle distrazioni.'",className:"w-full h-28 p-3 bg-slate-700 border border-slate-600 rounded-xl focus:outline-none focus:ring-2 focus:ring-cyan-500 text-slate-200 mb-6 transition-shadow"}),w.jsxs("div",{className:"flex justify-end space-x-4",children:[w.jsx("button",{type:"button",onClick:t,className:"px-6 py-2 rounded-lg bg-slate-600 hover:bg-slate-500 transition-colors text-white font-semibold",children:"Salta"}),w.jsx("button",{type:"submit",className:"px-6 py-2 rounded-lg bg-cyan-500 hover:bg-cyan-600 transition-colors text-white font-bold shadow-lg shadow-cyan-500/20",children:"Salva Nota"})]})]})]})})},Bn={className:"w-full h-full",fill:"none",viewBox:"0 0 24 24",strokeWidth:2,stroke:"currentColor"},ov=()=>w.jsx("svg",{...Bn,children:w.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M12 6v6h4.5m4.5 0a9 9 0 1 1-18 0 9 9 0 0 1 18 0Z"})}),av=()=>w.jsx("svg",{...Bn,children:w.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M3 13.125C3 12.504 3.504 12 4.125 12h2.25c.621 0 1.125.504 1.125 1.125v6.75C7.5 20.496 6.996 21 6.375 21h-2.25A1.125 1.125 0 0 1 3 19.875v-6.75ZM9.75 8.625c0-.621.504-1.125 1.125-1.125h2.25c.621 0 1.125.504 1.125 1.125v11.25c0 .621-.504 1.125-1.125 1.125h-2.25a1.125 1.125 0 0 1-1.125-1.125V8.625ZM16.5 4.125c0-.621.504-1.125 1.125-1.125h2.25C20.496 3 21 3.504 21 4.125v15.75c0 .621-.504 1.125-1.125 1.125h-2.25a1.125 1.125 0 0 1-1.125-1.125V4.125Z"})}),sv=()=>w.jsx("svg",{...Bn,children:w.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M20.25 8.511c.884.284 1.5 1.128 1.5 2.097v4.286c0 1.136-.847 2.1-1.98 2.193l-3.72-3.72a1.05 1.05 0 0 0-1.485 0L12 14.807l-1.565-1.565a1.05 1.05 0 0 0-1.485 0L6.22 15.97a2.1 2.1 0 0 1-1.98-2.193v-4.286c0-.97.616-1.813 1.5-2.097a6.012 6.012 0 0 1 11.028 0Z"})}),uv=()=>w.jsxs("svg",{...Bn,children:[w.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M9.594 3.94c.09-.542.56-1.003 1.11-1.226a9 9 0 0 1 2.592 0c.55.223 1.02.684 1.11 1.226.09.542-.14 1.12-.59 1.528a9 9 0 0 1-3.132 2.198c-.55.223-1.19.02-1.59-.44a9 9 0 0 1-3.132-2.198c-.45-.408-.68-.986-.59-1.528ZM12 12.75a3 3 0 1 0 0-6 3 3 0 0 0 0 6Z"}),w.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M12 21a9 9 0 1 0 0-18 9 9 0 0 0 0 18Z"})]}),rv=()=>w.jsx("svg",{...Bn,children:w.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M5.25 5.653c0-.856.917-1.398 1.667-.986l11.54 6.347a1.125 1.125 0 0 1 0 1.972l-11.54 6.347a1.125 1.125 0 0 1-1.667-.986V5.653Z"})}),cv=()=>w.jsx("svg",{...Bn,children:w.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M15.75 5.25v13.5m-7.5-13.5v13.5"})}),fv=()=>w.jsx("svg",{...Bn,children:w.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M12 4.5v15m7.5-7.5h-15"})}),dv=()=>w.jsx("svg",{...Bn,children:w.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M6 12 3.269 3.125A59.769 59.769 0 0 1 21.485 12 59.768 59.768 0 0 1 3.27 20.875L5.999 12Zm0 0h7.5"})}),pv=`
  let timerId;
  let remainingTime;

  self.onmessage = (e) => {
    const { command, seconds } = e.data;

    switch (command) {
      case 'start':
        if (timerId) return;
        timerId = self.setInterval(() => {
          if (remainingTime > 0) {
              remainingTime--;
              self.postMessage({ type: 'tick', time: remainingTime });
          }
          if (remainingTime <= 0) {
            clearInterval(timerId);
            timerId = undefined;
            self.postMessage({ type: 'finished' });
          }
        }, 1000);
        break;
      case 'pause':
        if (timerId) {
          clearInterval(timerId);
          timerId = undefined;
        }
        break;
      case 'setTime':
        if (timerId) {
          clearInterval(timerId);
          timerId = undefined;
        }
        remainingTime = seconds || 0;
        self.postMessage({ type: 'tick', time: remainingTime });
        break;
    }
  };
`,oh=()=>{const[l,t]=xe.useState(1500),[o,a]=xe.useState(l),[u,d]=xe.useState(!1),[m,g]=xe.useState(!1),[y,h]=xe.useState(null),v=xe.useRef(null),S=xe.useRef(null);xe.useEffect(()=>{try{const V=new Blob([pv],{type:"application/javascript"});S.current=URL.createObjectURL(V),v.current=new Worker(S.current),h(null),v.current.onmessage=Q=>{Q.data.type==="tick"?a(Q.data.time):Q.data.type==="finished"&&(d(!1),g(!0))},v.current.onerror=Q=>{console.error("Worker error:",Q),h("Impossibile avviare il timer. Questa funzione potrebbe non essere supportata in questo ambiente."),d(!1)},v.current.postMessage({command:"setTime",seconds:l})}catch(V){console.error("Failed to initialize worker:",V),h("Impossibile avviare il timer in background. Questo ambiente non supporta questa funzionalità.")}return()=>{var V;(V=v.current)==null||V.terminate(),S.current&&URL.revokeObjectURL(S.current)}},[]),xe.useEffect(()=>{var V;u||(a(l),(V=v.current)==null||V.postMessage({command:"setTime",seconds:l}))},[l,u]);const E=()=>{var V,Q;o<=0||y||(u?(V=v.current)==null||V.postMessage({command:"pause"}):(Q=v.current)==null||Q.postMessage({command:"start"}),d(!u))},R=()=>{var V;y||(d(!1),a(l),(V=v.current)==null||V.postMessage({command:"setTime",seconds:l}))},N=V=>{if(u||y)return;const Q=V*60;t(Q)},z=V=>{ih({duration:l,notes:V}),g(!1),R()},O=()=>{ih({duration:l,notes:"Completata una sessione di studio."}),g(!1),R()},P=V=>{const Q=Math.floor(V/60),j=V%60;return`${Q.toString().padStart(2,"0")}:${j.toString().padStart(2,"0")}`},K=l>0?o/l*100:0,B=[15,25,50];return w.jsxs("div",{className:"flex flex-col items-center justify-center space-y-8 animate-fade-in pt-4",children:[w.jsx("h1",{className:"text-3xl font-bold text-center text-cyan-300",children:"Focus Timer"}),y&&w.jsxs("div",{className:"bg-yellow-900/50 border border-yellow-700 text-yellow-300 px-4 py-3 rounded-lg text-center max-w-md",role:"alert",children:[w.jsx("strong",{className:"font-bold",children:"Attenzione: "}),w.jsx("span",{className:"block sm:inline",children:y})]}),w.jsx("div",{className:"flex space-x-2 bg-slate-800 p-2 rounded-full shadow-lg",children:B.map(V=>w.jsxs("button",{onClick:()=>N(V),className:`px-6 py-2 rounded-full font-semibold transition-colors ${l===V*60?"bg-cyan-500 text-white":"bg-transparent text-slate-400 hover:bg-slate-700/50"}`,disabled:u||!!y,children:[V," min"]},V))}),w.jsxs("div",{className:"relative w-64 h-64 md:w-80 md:h-80 flex items-center justify-center",children:[w.jsxs("svg",{className:"w-full h-full",viewBox:"0 0 100 100",children:[w.jsx("circle",{className:"text-slate-700",strokeWidth:"7",cx:"50",cy:"50",r:"45",fill:"transparent",stroke:"currentColor"}),w.jsx("circle",{className:"text-cyan-400",strokeWidth:"7",strokeLinecap:"round",cx:"50",cy:"50",r:"45",fill:"transparent",stroke:"currentColor",strokeDasharray:2*Math.PI*45,strokeDashoffset:2*Math.PI*45*(1-K/100),transform:"rotate(-90 50 50)",style:{transition:"stroke-dashoffset 1s linear"}})]}),w.jsx("div",{className:"absolute text-5xl md:text-6xl font-bold font-mono tracking-tighter",children:P(o)})]}),w.jsxs("div",{className:"flex items-center space-x-6",children:[w.jsx("button",{onClick:R,className:"p-4 rounded-full bg-slate-700 hover:bg-slate-600 text-slate-300 transition-colors disabled:opacity-50","aria-label":"Reset Timer",disabled:u&&o>0||!!y,children:w.jsxs("svg",{className:"w-6 h-6",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:[w.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"2",d:"M4 4v5h5m11 7v-5h-5"}),w.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"2",d:"M4 9a9 9 0 0114.13-5.22M20 15a9 9 0 01-14.13 5.22"})]})}),w.jsx("button",{onClick:E,className:"w-20 h-20 rounded-full bg-cyan-500 text-white flex items-center justify-center shadow-lg shadow-cyan-500/30 hover:bg-cyan-600 transition-colors disabled:opacity-50 disabled:cursor-not-allowed disabled:shadow-none","aria-label":u?"Pausa":"Avvia",disabled:!!y,children:w.jsx("div",{className:"w-10 h-10",children:u?w.jsx(cv,{}):w.jsx(rv,{})})}),w.jsx("button",{className:"p-4 rounded-full bg-slate-700 text-slate-300 transition-colors opacity-50 cursor-not-allowed","aria-label":"Aggiungi Tempo",disabled:!0,children:w.jsx("div",{className:"w-6 h-6",children:w.jsx(fv,{})})})]}),w.jsx(iv,{isOpen:m,onClose:O,onSubmit:z})]})};/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */let hv,mv;function gv(){return{geminiUrl:hv,vertexUrl:mv}}function yv(l,t,o,a){var u,d;if(!(l!=null&&l.baseUrl)){const m=gv();return t?(u=m.vertexUrl)!==null&&u!==void 0?u:o:(d=m.geminiUrl)!==null&&d!==void 0?d:a}return l.baseUrl}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */class cl{}function Z(l,t){const o=/\{([^}]+)\}/g;return l.replace(o,(a,u)=>{if(Object.prototype.hasOwnProperty.call(t,u)){const d=t[u];return d!=null?String(d):""}else throw new Error(`Key '${u}' not found in valueMap.`)})}function f(l,t,o){for(let d=0;d<t.length-1;d++){const m=t[d];if(m.endsWith("[]")){const g=m.slice(0,-2);if(!(g in l))if(Array.isArray(o))l[g]=Array.from({length:o.length},()=>({}));else throw new Error(`Value must be a list given an array path ${m}`);if(Array.isArray(l[g])){const y=l[g];if(Array.isArray(o))for(let h=0;h<y.length;h++){const v=y[h];f(v,t.slice(d+1),o[h])}else for(const h of y)f(h,t.slice(d+1),o)}return}else if(m.endsWith("[0]")){const g=m.slice(0,-3);g in l||(l[g]=[{}]);const y=l[g];f(y[0],t.slice(d+1),o);return}(!l[m]||typeof l[m]!="object")&&(l[m]={}),l=l[m]}const a=t[t.length-1],u=l[a];if(u!==void 0){if(!o||typeof o=="object"&&Object.keys(o).length===0||o===u)return;if(typeof u=="object"&&typeof o=="object"&&u!==null&&o!==null)Object.assign(u,o);else throw new Error(`Cannot set value for an existing key. Key: ${a}`)}else a==="_self"&&typeof o=="object"&&o!==null&&!Array.isArray(o)?Object.assign(l,o):l[a]=o}function r(l,t,o=void 0){try{if(t.length===1&&t[0]==="_self")return l;for(let a=0;a<t.length;a++){if(typeof l!="object"||l===null)return o;const u=t[a];if(u.endsWith("[]")){const d=u.slice(0,-2);if(d in l){const m=l[d];return Array.isArray(m)?m.map(g=>r(g,t.slice(a+1),o)):o}else return o}else l=l[u]}return l}catch(a){if(a instanceof TypeError)return o;throw a}}function vv(l,t){for(const[o,a]of Object.entries(t)){const u=o.split("."),d=a.split("."),m=new Set;let g=-1;for(let y=0;y<u.length;y++)if(u[y]==="*"){g=y;break}if(g!==-1&&d.length>g)for(let y=g;y<d.length;y++){const h=d[y];h!=="*"&&!h.endsWith("[]")&&!h.endsWith("[0]")&&m.add(h)}mr(l,u,d,0,m)}}function mr(l,t,o,a,u){if(a>=t.length||typeof l!="object"||l===null)return;const d=t[a];if(d.endsWith("[]")){const m=d.slice(0,-2),g=l;if(m in g&&Array.isArray(g[m]))for(const y of g[m])mr(y,t,o,a+1,u)}else if(d==="*"){if(typeof l=="object"&&l!==null&&!Array.isArray(l)){const m=l,g=Object.keys(m).filter(h=>!h.startsWith("_")&&!u.has(h)),y={};for(const h of g)y[h]=m[h];for(const[h,v]of Object.entries(y)){const S=[];for(const E of o.slice(a))E==="*"?S.push(h):S.push(E);f(m,S,v)}for(const h of g)delete m[h]}}else{const m=l;d in m&&mr(m[d],t,o,a+1,u)}}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */function Ir(l){if(typeof l!="string")throw new Error("fromImageBytes must be a string");return l}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */function Tv(l){const t={},o=r(l,["operationName"]);o!=null&&f(t,["operationName"],o);const a=r(l,["resourceName"]);return a!=null&&f(t,["_url","resourceName"],a),t}function Sv(l){const t={},o=r(l,["name"]);o!=null&&f(t,["name"],o);const a=r(l,["metadata"]);a!=null&&f(t,["metadata"],a);const u=r(l,["done"]);u!=null&&f(t,["done"],u);const d=r(l,["error"]);d!=null&&f(t,["error"],d);const m=r(l,["response","generateVideoResponse"]);return m!=null&&f(t,["response"],_v(m)),t}function Ev(l){const t={},o=r(l,["name"]);o!=null&&f(t,["name"],o);const a=r(l,["metadata"]);a!=null&&f(t,["metadata"],a);const u=r(l,["done"]);u!=null&&f(t,["done"],u);const d=r(l,["error"]);d!=null&&f(t,["error"],d);const m=r(l,["response"]);return m!=null&&f(t,["response"],Cv(m)),t}function _v(l){const t={},o=r(l,["generatedSamples"]);if(o!=null){let d=o;Array.isArray(d)&&(d=d.map(m=>Av(m))),f(t,["generatedVideos"],d)}const a=r(l,["raiMediaFilteredCount"]);a!=null&&f(t,["raiMediaFilteredCount"],a);const u=r(l,["raiMediaFilteredReasons"]);return u!=null&&f(t,["raiMediaFilteredReasons"],u),t}function Cv(l){const t={},o=r(l,["videos"]);if(o!=null){let d=o;Array.isArray(d)&&(d=d.map(m=>xv(m))),f(t,["generatedVideos"],d)}const a=r(l,["raiMediaFilteredCount"]);a!=null&&f(t,["raiMediaFilteredCount"],a);const u=r(l,["raiMediaFilteredReasons"]);return u!=null&&f(t,["raiMediaFilteredReasons"],u),t}function Av(l){const t={},o=r(l,["video"]);return o!=null&&f(t,["video"],Nv(o)),t}function xv(l){const t={},o=r(l,["_self"]);return o!=null&&f(t,["video"],bv(o)),t}function Rv(l){const t={},o=r(l,["operationName"]);return o!=null&&f(t,["_url","operationName"],o),t}function Mv(l){const t={},o=r(l,["operationName"]);return o!=null&&f(t,["_url","operationName"],o),t}function Nv(l){const t={},o=r(l,["uri"]);o!=null&&f(t,["uri"],o);const a=r(l,["encodedVideo"]);a!=null&&f(t,["videoBytes"],Ir(a));const u=r(l,["encoding"]);return u!=null&&f(t,["mimeType"],u),t}function bv(l){const t={},o=r(l,["gcsUri"]);o!=null&&f(t,["uri"],o);const a=r(l,["bytesBase64Encoded"]);a!=null&&f(t,["videoBytes"],Ir(a));const u=r(l,["mimeType"]);return u!=null&&f(t,["mimeType"],u),t}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */var ah;(function(l){l.OUTCOME_UNSPECIFIED="OUTCOME_UNSPECIFIED",l.OUTCOME_OK="OUTCOME_OK",l.OUTCOME_FAILED="OUTCOME_FAILED",l.OUTCOME_DEADLINE_EXCEEDED="OUTCOME_DEADLINE_EXCEEDED"})(ah||(ah={}));var sh;(function(l){l.LANGUAGE_UNSPECIFIED="LANGUAGE_UNSPECIFIED",l.PYTHON="PYTHON"})(sh||(sh={}));var uh;(function(l){l.SCHEDULING_UNSPECIFIED="SCHEDULING_UNSPECIFIED",l.SILENT="SILENT",l.WHEN_IDLE="WHEN_IDLE",l.INTERRUPT="INTERRUPT"})(uh||(uh={}));var it;(function(l){l.TYPE_UNSPECIFIED="TYPE_UNSPECIFIED",l.STRING="STRING",l.NUMBER="NUMBER",l.INTEGER="INTEGER",l.BOOLEAN="BOOLEAN",l.ARRAY="ARRAY",l.OBJECT="OBJECT",l.NULL="NULL"})(it||(it={}));var rh;(function(l){l.HARM_CATEGORY_UNSPECIFIED="HARM_CATEGORY_UNSPECIFIED",l.HARM_CATEGORY_HARASSMENT="HARM_CATEGORY_HARASSMENT",l.HARM_CATEGORY_HATE_SPEECH="HARM_CATEGORY_HATE_SPEECH",l.HARM_CATEGORY_SEXUALLY_EXPLICIT="HARM_CATEGORY_SEXUALLY_EXPLICIT",l.HARM_CATEGORY_DANGEROUS_CONTENT="HARM_CATEGORY_DANGEROUS_CONTENT",l.HARM_CATEGORY_CIVIC_INTEGRITY="HARM_CATEGORY_CIVIC_INTEGRITY",l.HARM_CATEGORY_IMAGE_HATE="HARM_CATEGORY_IMAGE_HATE",l.HARM_CATEGORY_IMAGE_DANGEROUS_CONTENT="HARM_CATEGORY_IMAGE_DANGEROUS_CONTENT",l.HARM_CATEGORY_IMAGE_HARASSMENT="HARM_CATEGORY_IMAGE_HARASSMENT",l.HARM_CATEGORY_IMAGE_SEXUALLY_EXPLICIT="HARM_CATEGORY_IMAGE_SEXUALLY_EXPLICIT",l.HARM_CATEGORY_JAILBREAK="HARM_CATEGORY_JAILBREAK"})(rh||(rh={}));var ch;(function(l){l.HARM_BLOCK_METHOD_UNSPECIFIED="HARM_BLOCK_METHOD_UNSPECIFIED",l.SEVERITY="SEVERITY",l.PROBABILITY="PROBABILITY"})(ch||(ch={}));var fh;(function(l){l.HARM_BLOCK_THRESHOLD_UNSPECIFIED="HARM_BLOCK_THRESHOLD_UNSPECIFIED",l.BLOCK_LOW_AND_ABOVE="BLOCK_LOW_AND_ABOVE",l.BLOCK_MEDIUM_AND_ABOVE="BLOCK_MEDIUM_AND_ABOVE",l.BLOCK_ONLY_HIGH="BLOCK_ONLY_HIGH",l.BLOCK_NONE="BLOCK_NONE",l.OFF="OFF"})(fh||(fh={}));var dh;(function(l){l.MODE_UNSPECIFIED="MODE_UNSPECIFIED",l.MODE_DYNAMIC="MODE_DYNAMIC"})(dh||(dh={}));var ph;(function(l){l.AUTH_TYPE_UNSPECIFIED="AUTH_TYPE_UNSPECIFIED",l.NO_AUTH="NO_AUTH",l.API_KEY_AUTH="API_KEY_AUTH",l.HTTP_BASIC_AUTH="HTTP_BASIC_AUTH",l.GOOGLE_SERVICE_ACCOUNT_AUTH="GOOGLE_SERVICE_ACCOUNT_AUTH",l.OAUTH="OAUTH",l.OIDC_AUTH="OIDC_AUTH"})(ph||(ph={}));var hh;(function(l){l.API_SPEC_UNSPECIFIED="API_SPEC_UNSPECIFIED",l.SIMPLE_SEARCH="SIMPLE_SEARCH",l.ELASTIC_SEARCH="ELASTIC_SEARCH"})(hh||(hh={}));var mh;(function(l){l.URL_RETRIEVAL_STATUS_UNSPECIFIED="URL_RETRIEVAL_STATUS_UNSPECIFIED",l.URL_RETRIEVAL_STATUS_SUCCESS="URL_RETRIEVAL_STATUS_SUCCESS",l.URL_RETRIEVAL_STATUS_ERROR="URL_RETRIEVAL_STATUS_ERROR",l.URL_RETRIEVAL_STATUS_PAYWALL="URL_RETRIEVAL_STATUS_PAYWALL",l.URL_RETRIEVAL_STATUS_UNSAFE="URL_RETRIEVAL_STATUS_UNSAFE"})(mh||(mh={}));var gh;(function(l){l.FINISH_REASON_UNSPECIFIED="FINISH_REASON_UNSPECIFIED",l.STOP="STOP",l.MAX_TOKENS="MAX_TOKENS",l.SAFETY="SAFETY",l.RECITATION="RECITATION",l.LANGUAGE="LANGUAGE",l.OTHER="OTHER",l.BLOCKLIST="BLOCKLIST",l.PROHIBITED_CONTENT="PROHIBITED_CONTENT",l.SPII="SPII",l.MALFORMED_FUNCTION_CALL="MALFORMED_FUNCTION_CALL",l.IMAGE_SAFETY="IMAGE_SAFETY",l.UNEXPECTED_TOOL_CALL="UNEXPECTED_TOOL_CALL",l.IMAGE_PROHIBITED_CONTENT="IMAGE_PROHIBITED_CONTENT",l.NO_IMAGE="NO_IMAGE"})(gh||(gh={}));var yh;(function(l){l.HARM_PROBABILITY_UNSPECIFIED="HARM_PROBABILITY_UNSPECIFIED",l.NEGLIGIBLE="NEGLIGIBLE",l.LOW="LOW",l.MEDIUM="MEDIUM",l.HIGH="HIGH"})(yh||(yh={}));var vh;(function(l){l.HARM_SEVERITY_UNSPECIFIED="HARM_SEVERITY_UNSPECIFIED",l.HARM_SEVERITY_NEGLIGIBLE="HARM_SEVERITY_NEGLIGIBLE",l.HARM_SEVERITY_LOW="HARM_SEVERITY_LOW",l.HARM_SEVERITY_MEDIUM="HARM_SEVERITY_MEDIUM",l.HARM_SEVERITY_HIGH="HARM_SEVERITY_HIGH"})(vh||(vh={}));var Th;(function(l){l.BLOCKED_REASON_UNSPECIFIED="BLOCKED_REASON_UNSPECIFIED",l.SAFETY="SAFETY",l.OTHER="OTHER",l.BLOCKLIST="BLOCKLIST",l.PROHIBITED_CONTENT="PROHIBITED_CONTENT",l.IMAGE_SAFETY="IMAGE_SAFETY",l.MODEL_ARMOR="MODEL_ARMOR",l.JAILBREAK="JAILBREAK"})(Th||(Th={}));var Sh;(function(l){l.TRAFFIC_TYPE_UNSPECIFIED="TRAFFIC_TYPE_UNSPECIFIED",l.ON_DEMAND="ON_DEMAND",l.PROVISIONED_THROUGHPUT="PROVISIONED_THROUGHPUT"})(Sh||(Sh={}));var Ia;(function(l){l.MODALITY_UNSPECIFIED="MODALITY_UNSPECIFIED",l.TEXT="TEXT",l.IMAGE="IMAGE",l.AUDIO="AUDIO"})(Ia||(Ia={}));var Eh;(function(l){l.MEDIA_RESOLUTION_UNSPECIFIED="MEDIA_RESOLUTION_UNSPECIFIED",l.MEDIA_RESOLUTION_LOW="MEDIA_RESOLUTION_LOW",l.MEDIA_RESOLUTION_MEDIUM="MEDIA_RESOLUTION_MEDIUM",l.MEDIA_RESOLUTION_HIGH="MEDIA_RESOLUTION_HIGH"})(Eh||(Eh={}));var gr;(function(l){l.JOB_STATE_UNSPECIFIED="JOB_STATE_UNSPECIFIED",l.JOB_STATE_QUEUED="JOB_STATE_QUEUED",l.JOB_STATE_PENDING="JOB_STATE_PENDING",l.JOB_STATE_RUNNING="JOB_STATE_RUNNING",l.JOB_STATE_SUCCEEDED="JOB_STATE_SUCCEEDED",l.JOB_STATE_FAILED="JOB_STATE_FAILED",l.JOB_STATE_CANCELLING="JOB_STATE_CANCELLING",l.JOB_STATE_CANCELLED="JOB_STATE_CANCELLED",l.JOB_STATE_PAUSED="JOB_STATE_PAUSED",l.JOB_STATE_EXPIRED="JOB_STATE_EXPIRED",l.JOB_STATE_UPDATING="JOB_STATE_UPDATING",l.JOB_STATE_PARTIALLY_SUCCEEDED="JOB_STATE_PARTIALLY_SUCCEEDED"})(gr||(gr={}));var _h;(function(l){l.TUNING_MODE_UNSPECIFIED="TUNING_MODE_UNSPECIFIED",l.TUNING_MODE_FULL="TUNING_MODE_FULL",l.TUNING_MODE_PEFT_ADAPTER="TUNING_MODE_PEFT_ADAPTER"})(_h||(_h={}));var Ch;(function(l){l.ADAPTER_SIZE_UNSPECIFIED="ADAPTER_SIZE_UNSPECIFIED",l.ADAPTER_SIZE_ONE="ADAPTER_SIZE_ONE",l.ADAPTER_SIZE_TWO="ADAPTER_SIZE_TWO",l.ADAPTER_SIZE_FOUR="ADAPTER_SIZE_FOUR",l.ADAPTER_SIZE_EIGHT="ADAPTER_SIZE_EIGHT",l.ADAPTER_SIZE_SIXTEEN="ADAPTER_SIZE_SIXTEEN",l.ADAPTER_SIZE_THIRTY_TWO="ADAPTER_SIZE_THIRTY_TWO"})(Ch||(Ch={}));var Ah;(function(l){l.TUNING_TASK_UNSPECIFIED="TUNING_TASK_UNSPECIFIED",l.TUNING_TASK_I2V="TUNING_TASK_I2V",l.TUNING_TASK_T2V="TUNING_TASK_T2V"})(Ah||(Ah={}));var xh;(function(l){l.FEATURE_SELECTION_PREFERENCE_UNSPECIFIED="FEATURE_SELECTION_PREFERENCE_UNSPECIFIED",l.PRIORITIZE_QUALITY="PRIORITIZE_QUALITY",l.BALANCED="BALANCED",l.PRIORITIZE_COST="PRIORITIZE_COST"})(xh||(xh={}));var Rh;(function(l){l.UNSPECIFIED="UNSPECIFIED",l.BLOCKING="BLOCKING",l.NON_BLOCKING="NON_BLOCKING"})(Rh||(Rh={}));var Mh;(function(l){l.MODE_UNSPECIFIED="MODE_UNSPECIFIED",l.MODE_DYNAMIC="MODE_DYNAMIC"})(Mh||(Mh={}));var Nh;(function(l){l.ENVIRONMENT_UNSPECIFIED="ENVIRONMENT_UNSPECIFIED",l.ENVIRONMENT_BROWSER="ENVIRONMENT_BROWSER"})(Nh||(Nh={}));var bh;(function(l){l.MODE_UNSPECIFIED="MODE_UNSPECIFIED",l.AUTO="AUTO",l.ANY="ANY",l.NONE="NONE",l.VALIDATED="VALIDATED"})(bh||(bh={}));var Dh;(function(l){l.BLOCK_LOW_AND_ABOVE="BLOCK_LOW_AND_ABOVE",l.BLOCK_MEDIUM_AND_ABOVE="BLOCK_MEDIUM_AND_ABOVE",l.BLOCK_ONLY_HIGH="BLOCK_ONLY_HIGH",l.BLOCK_NONE="BLOCK_NONE"})(Dh||(Dh={}));var Ih;(function(l){l.DONT_ALLOW="DONT_ALLOW",l.ALLOW_ADULT="ALLOW_ADULT",l.ALLOW_ALL="ALLOW_ALL"})(Ih||(Ih={}));var wh;(function(l){l.auto="auto",l.en="en",l.ja="ja",l.ko="ko",l.hi="hi",l.zh="zh",l.pt="pt",l.es="es"})(wh||(wh={}));var Uh;(function(l){l.MASK_MODE_DEFAULT="MASK_MODE_DEFAULT",l.MASK_MODE_USER_PROVIDED="MASK_MODE_USER_PROVIDED",l.MASK_MODE_BACKGROUND="MASK_MODE_BACKGROUND",l.MASK_MODE_FOREGROUND="MASK_MODE_FOREGROUND",l.MASK_MODE_SEMANTIC="MASK_MODE_SEMANTIC"})(Uh||(Uh={}));var kh;(function(l){l.CONTROL_TYPE_DEFAULT="CONTROL_TYPE_DEFAULT",l.CONTROL_TYPE_CANNY="CONTROL_TYPE_CANNY",l.CONTROL_TYPE_SCRIBBLE="CONTROL_TYPE_SCRIBBLE",l.CONTROL_TYPE_FACE_MESH="CONTROL_TYPE_FACE_MESH"})(kh||(kh={}));var Lh;(function(l){l.SUBJECT_TYPE_DEFAULT="SUBJECT_TYPE_DEFAULT",l.SUBJECT_TYPE_PERSON="SUBJECT_TYPE_PERSON",l.SUBJECT_TYPE_ANIMAL="SUBJECT_TYPE_ANIMAL",l.SUBJECT_TYPE_PRODUCT="SUBJECT_TYPE_PRODUCT"})(Lh||(Lh={}));var qh;(function(l){l.EDIT_MODE_DEFAULT="EDIT_MODE_DEFAULT",l.EDIT_MODE_INPAINT_REMOVAL="EDIT_MODE_INPAINT_REMOVAL",l.EDIT_MODE_INPAINT_INSERTION="EDIT_MODE_INPAINT_INSERTION",l.EDIT_MODE_OUTPAINT="EDIT_MODE_OUTPAINT",l.EDIT_MODE_CONTROLLED_EDITING="EDIT_MODE_CONTROLLED_EDITING",l.EDIT_MODE_STYLE="EDIT_MODE_STYLE",l.EDIT_MODE_BGSWAP="EDIT_MODE_BGSWAP",l.EDIT_MODE_PRODUCT_IMAGE="EDIT_MODE_PRODUCT_IMAGE"})(qh||(qh={}));var zh;(function(l){l.FOREGROUND="FOREGROUND",l.BACKGROUND="BACKGROUND",l.PROMPT="PROMPT",l.SEMANTIC="SEMANTIC",l.INTERACTIVE="INTERACTIVE"})(zh||(zh={}));var Gh;(function(l){l.ASSET="ASSET",l.STYLE="STYLE"})(Gh||(Gh={}));var Hh;(function(l){l.INSERT="INSERT",l.REMOVE="REMOVE",l.REMOVE_STATIC="REMOVE_STATIC",l.OUTPAINT="OUTPAINT"})(Hh||(Hh={}));var Vh;(function(l){l.OPTIMIZED="OPTIMIZED",l.LOSSLESS="LOSSLESS"})(Vh||(Vh={}));var Bh;(function(l){l.STATE_UNSPECIFIED="STATE_UNSPECIFIED",l.PROCESSING="PROCESSING",l.ACTIVE="ACTIVE",l.FAILED="FAILED"})(Bh||(Bh={}));var Ph;(function(l){l.SOURCE_UNSPECIFIED="SOURCE_UNSPECIFIED",l.UPLOADED="UPLOADED",l.GENERATED="GENERATED"})(Ph||(Ph={}));var Oh;(function(l){l.TURN_COMPLETE_REASON_UNSPECIFIED="TURN_COMPLETE_REASON_UNSPECIFIED",l.MALFORMED_FUNCTION_CALL="MALFORMED_FUNCTION_CALL",l.RESPONSE_REJECTED="RESPONSE_REJECTED",l.NEED_MORE_INPUT="NEED_MORE_INPUT"})(Oh||(Oh={}));var Yh;(function(l){l.MODALITY_UNSPECIFIED="MODALITY_UNSPECIFIED",l.TEXT="TEXT",l.IMAGE="IMAGE",l.VIDEO="VIDEO",l.AUDIO="AUDIO",l.DOCUMENT="DOCUMENT"})(Yh||(Yh={}));var Jh;(function(l){l.START_SENSITIVITY_UNSPECIFIED="START_SENSITIVITY_UNSPECIFIED",l.START_SENSITIVITY_HIGH="START_SENSITIVITY_HIGH",l.START_SENSITIVITY_LOW="START_SENSITIVITY_LOW"})(Jh||(Jh={}));var Fh;(function(l){l.END_SENSITIVITY_UNSPECIFIED="END_SENSITIVITY_UNSPECIFIED",l.END_SENSITIVITY_HIGH="END_SENSITIVITY_HIGH",l.END_SENSITIVITY_LOW="END_SENSITIVITY_LOW"})(Fh||(Fh={}));var Kh;(function(l){l.ACTIVITY_HANDLING_UNSPECIFIED="ACTIVITY_HANDLING_UNSPECIFIED",l.START_OF_ACTIVITY_INTERRUPTS="START_OF_ACTIVITY_INTERRUPTS",l.NO_INTERRUPTION="NO_INTERRUPTION"})(Kh||(Kh={}));var Qh;(function(l){l.TURN_COVERAGE_UNSPECIFIED="TURN_COVERAGE_UNSPECIFIED",l.TURN_INCLUDES_ONLY_ACTIVITY="TURN_INCLUDES_ONLY_ACTIVITY",l.TURN_INCLUDES_ALL_INPUT="TURN_INCLUDES_ALL_INPUT"})(Qh||(Qh={}));var Xh;(function(l){l.SCALE_UNSPECIFIED="SCALE_UNSPECIFIED",l.C_MAJOR_A_MINOR="C_MAJOR_A_MINOR",l.D_FLAT_MAJOR_B_FLAT_MINOR="D_FLAT_MAJOR_B_FLAT_MINOR",l.D_MAJOR_B_MINOR="D_MAJOR_B_MINOR",l.E_FLAT_MAJOR_C_MINOR="E_FLAT_MAJOR_C_MINOR",l.E_MAJOR_D_FLAT_MINOR="E_MAJOR_D_FLAT_MINOR",l.F_MAJOR_D_MINOR="F_MAJOR_D_MINOR",l.G_FLAT_MAJOR_E_FLAT_MINOR="G_FLAT_MAJOR_E_FLAT_MINOR",l.G_MAJOR_E_MINOR="G_MAJOR_E_MINOR",l.A_FLAT_MAJOR_F_MINOR="A_FLAT_MAJOR_F_MINOR",l.A_MAJOR_G_FLAT_MINOR="A_MAJOR_G_FLAT_MINOR",l.B_FLAT_MAJOR_G_MINOR="B_FLAT_MAJOR_G_MINOR",l.B_MAJOR_A_FLAT_MINOR="B_MAJOR_A_FLAT_MINOR"})(Xh||(Xh={}));var Zh;(function(l){l.MUSIC_GENERATION_MODE_UNSPECIFIED="MUSIC_GENERATION_MODE_UNSPECIFIED",l.QUALITY="QUALITY",l.DIVERSITY="DIVERSITY",l.VOCALIZATION="VOCALIZATION"})(Zh||(Zh={}));var Zl;(function(l){l.PLAYBACK_CONTROL_UNSPECIFIED="PLAYBACK_CONTROL_UNSPECIFIED",l.PLAY="PLAY",l.PAUSE="PAUSE",l.STOP="STOP",l.RESET_CONTEXT="RESET_CONTEXT"})(Zl||(Zl={}));class yr{constructor(t){const o={};for(const a of t.headers.entries())o[a[0]]=a[1];this.headers=o,this.responseInternal=t}json(){return this.responseInternal.json()}}class ji{get text(){var t,o,a,u,d,m,g,y;if(((u=(a=(o=(t=this.candidates)===null||t===void 0?void 0:t[0])===null||o===void 0?void 0:o.content)===null||a===void 0?void 0:a.parts)===null||u===void 0?void 0:u.length)===0)return;this.candidates&&this.candidates.length>1&&console.warn("there are multiple candidates in the response, returning text from the first one.");let h="",v=!1;const S=[];for(const E of(y=(g=(m=(d=this.candidates)===null||d===void 0?void 0:d[0])===null||m===void 0?void 0:m.content)===null||g===void 0?void 0:g.parts)!==null&&y!==void 0?y:[]){for(const[R,N]of Object.entries(E))R!=="text"&&R!=="thought"&&(N!==null||N!==void 0)&&S.push(R);if(typeof E.text=="string"){if(typeof E.thought=="boolean"&&E.thought)continue;v=!0,h+=E.text}}return S.length>0&&console.warn(`there are non-text parts ${S} in the response, returning concatenation of all text parts. Please refer to the non text parts for a full response from model.`),v?h:void 0}get data(){var t,o,a,u,d,m,g,y;if(((u=(a=(o=(t=this.candidates)===null||t===void 0?void 0:t[0])===null||o===void 0?void 0:o.content)===null||a===void 0?void 0:a.parts)===null||u===void 0?void 0:u.length)===0)return;this.candidates&&this.candidates.length>1&&console.warn("there are multiple candidates in the response, returning data from the first one.");let h="";const v=[];for(const S of(y=(g=(m=(d=this.candidates)===null||d===void 0?void 0:d[0])===null||m===void 0?void 0:m.content)===null||g===void 0?void 0:g.parts)!==null&&y!==void 0?y:[]){for(const[E,R]of Object.entries(S))E!=="inlineData"&&(R!==null||R!==void 0)&&v.push(E);S.inlineData&&typeof S.inlineData.data=="string"&&(h+=atob(S.inlineData.data))}return v.length>0&&console.warn(`there are non-data parts ${v} in the response, returning concatenation of all data parts. Please refer to the non data parts for a full response from model.`),h.length>0?btoa(h):void 0}get functionCalls(){var t,o,a,u,d,m,g,y;if(((u=(a=(o=(t=this.candidates)===null||t===void 0?void 0:t[0])===null||o===void 0?void 0:o.content)===null||a===void 0?void 0:a.parts)===null||u===void 0?void 0:u.length)===0)return;this.candidates&&this.candidates.length>1&&console.warn("there are multiple candidates in the response, returning function calls from the first one.");const h=(y=(g=(m=(d=this.candidates)===null||d===void 0?void 0:d[0])===null||m===void 0?void 0:m.content)===null||g===void 0?void 0:g.parts)===null||y===void 0?void 0:y.filter(v=>v.functionCall).map(v=>v.functionCall).filter(v=>v!==void 0);if((h==null?void 0:h.length)!==0)return h}get executableCode(){var t,o,a,u,d,m,g,y,h;if(((u=(a=(o=(t=this.candidates)===null||t===void 0?void 0:t[0])===null||o===void 0?void 0:o.content)===null||a===void 0?void 0:a.parts)===null||u===void 0?void 0:u.length)===0)return;this.candidates&&this.candidates.length>1&&console.warn("there are multiple candidates in the response, returning executable code from the first one.");const v=(y=(g=(m=(d=this.candidates)===null||d===void 0?void 0:d[0])===null||m===void 0?void 0:m.content)===null||g===void 0?void 0:g.parts)===null||y===void 0?void 0:y.filter(S=>S.executableCode).map(S=>S.executableCode).filter(S=>S!==void 0);if((v==null?void 0:v.length)!==0)return(h=v==null?void 0:v[0])===null||h===void 0?void 0:h.code}get codeExecutionResult(){var t,o,a,u,d,m,g,y,h;if(((u=(a=(o=(t=this.candidates)===null||t===void 0?void 0:t[0])===null||o===void 0?void 0:o.content)===null||a===void 0?void 0:a.parts)===null||u===void 0?void 0:u.length)===0)return;this.candidates&&this.candidates.length>1&&console.warn("there are multiple candidates in the response, returning code execution result from the first one.");const v=(y=(g=(m=(d=this.candidates)===null||d===void 0?void 0:d[0])===null||m===void 0?void 0:m.content)===null||g===void 0?void 0:g.parts)===null||y===void 0?void 0:y.filter(S=>S.codeExecutionResult).map(S=>S.codeExecutionResult).filter(S=>S!==void 0);if((v==null?void 0:v.length)!==0)return(h=v==null?void 0:v[0])===null||h===void 0?void 0:h.output}}class $h{}class Wh{}class Dv{}class Iv{}class wv{}class Uv{}class jh{}class em{}class tm{}class kv{}class wa{_fromAPIResponse({apiResponse:t,isVertexAI:o}){const a=new wa;let u;const d=t;return o?u=Ev(d):u=Sv(d),Object.assign(a,u),a}}class nm{}class lm{}class im{}class Lv{}class qv{}class zv{}class om{}class Gv{get text(){var t,o,a;let u="",d=!1;const m=[];for(const g of(a=(o=(t=this.serverContent)===null||t===void 0?void 0:t.modelTurn)===null||o===void 0?void 0:o.parts)!==null&&a!==void 0?a:[]){for(const[y,h]of Object.entries(g))y!=="text"&&y!=="thought"&&h!==null&&m.push(y);if(typeof g.text=="string"){if(typeof g.thought=="boolean"&&g.thought)continue;d=!0,u+=g.text}}return m.length>0&&console.warn(`there are non-text parts ${m} in the response, returning concatenation of all text parts. Please refer to the non text parts for a full response from model.`),d?u:void 0}get data(){var t,o,a;let u="";const d=[];for(const m of(a=(o=(t=this.serverContent)===null||t===void 0?void 0:t.modelTurn)===null||o===void 0?void 0:o.parts)!==null&&a!==void 0?a:[]){for(const[g,y]of Object.entries(m))g!=="inlineData"&&y!==null&&d.push(g);m.inlineData&&typeof m.inlineData.data=="string"&&(u+=atob(m.inlineData.data))}return d.length>0&&console.warn(`there are non-data parts ${d} in the response, returning concatenation of all data parts. Please refer to the non data parts for a full response from model.`),u.length>0?btoa(u):void 0}}class Hv{get audioChunk(){if(this.serverContent&&this.serverContent.audioChunks&&this.serverContent.audioChunks.length>0)return this.serverContent.audioChunks[0]}}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */function Te(l,t){if(!t||typeof t!="string")throw new Error("model is required and must be a string");if(l.isVertexAI()){if(t.startsWith("publishers/")||t.startsWith("projects/")||t.startsWith("models/"))return t;if(t.indexOf("/")>=0){const o=t.split("/",2);return`publishers/${o[0]}/models/${o[1]}`}else return`publishers/google/models/${t}`}else return t.startsWith("models/")||t.startsWith("tunedModels/")?t:`models/${t}`}function km(l,t){const o=Te(l,t);return o?o.startsWith("publishers/")&&l.isVertexAI()?`projects/${l.getProject()}/locations/${l.getLocation()}/${o}`:o.startsWith("models/")&&l.isVertexAI()?`projects/${l.getProject()}/locations/${l.getLocation()}/publishers/google/${o}`:o:""}function Lm(l){return Array.isArray(l)?l.map(t=>Ua(t)):[Ua(l)]}function Ua(l){if(typeof l=="object"&&l!==null)return l;throw new Error(`Could not parse input as Blob. Unsupported blob type: ${typeof l}`)}function qm(l){const t=Ua(l);if(t.mimeType&&t.mimeType.startsWith("image/"))return t;throw new Error(`Unsupported mime type: ${t.mimeType}`)}function zm(l){const t=Ua(l);if(t.mimeType&&t.mimeType.startsWith("audio/"))return t;throw new Error(`Unsupported mime type: ${t.mimeType}`)}function am(l){if(l==null)throw new Error("PartUnion is required");if(typeof l=="object")return l;if(typeof l=="string")return{text:l};throw new Error(`Unsupported part type: ${typeof l}`)}function Gm(l){if(l==null||Array.isArray(l)&&l.length===0)throw new Error("PartListUnion is required");return Array.isArray(l)?l.map(t=>am(t)):[am(l)]}function vr(l){return l!=null&&typeof l=="object"&&"parts"in l&&Array.isArray(l.parts)}function sm(l){return l!=null&&typeof l=="object"&&"functionCall"in l}function um(l){return l!=null&&typeof l=="object"&&"functionResponse"in l}function ot(l){if(l==null)throw new Error("ContentUnion is required");return vr(l)?l:{role:"user",parts:Gm(l)}}function wr(l,t){if(!t)return[];if(l.isVertexAI()&&Array.isArray(t))return t.flatMap(o=>{const a=ot(o);return a.parts&&a.parts.length>0&&a.parts[0].text!==void 0?[a.parts[0].text]:[]});if(l.isVertexAI()){const o=ot(t);return o.parts&&o.parts.length>0&&o.parts[0].text!==void 0?[o.parts[0].text]:[]}return Array.isArray(t)?t.map(o=>ot(o)):[ot(t)]}function Gt(l){if(l==null||Array.isArray(l)&&l.length===0)throw new Error("contents are required");if(!Array.isArray(l)){if(sm(l)||um(l))throw new Error("To specify functionCall or functionResponse parts, please wrap them in a Content object, specifying the role for them");return[ot(l)]}const t=[],o=[],a=vr(l[0]);for(const u of l){const d=vr(u);if(d!=a)throw new Error("Mixing Content and Parts is not supported, please group the parts into a the appropriate Content objects and specify the roles for them");if(d)t.push(u);else{if(sm(u)||um(u))throw new Error("To specify functionCall or functionResponse parts, please wrap them, and any other parts, in Content objects as appropriate, specifying the role for them");o.push(u)}}return a||t.push({role:"user",parts:Gm(o)}),t}function Vv(l,t){l.includes("null")&&(t.nullable=!0);const o=l.filter(a=>a!=="null");if(o.length===1)t.type=Object.values(it).includes(o[0].toUpperCase())?o[0].toUpperCase():it.TYPE_UNSPECIFIED;else{t.anyOf=[];for(const a of o)t.anyOf.push({type:Object.values(it).includes(a.toUpperCase())?a.toUpperCase():it.TYPE_UNSPECIFIED})}}function Wl(l){const t={},o=["items"],a=["anyOf"],u=["properties"];if(l.type&&l.anyOf)throw new Error("type and anyOf cannot be both populated.");const d=l.anyOf;d!=null&&d.length==2&&(d[0].type==="null"?(t.nullable=!0,l=d[1]):d[1].type==="null"&&(t.nullable=!0,l=d[0])),l.type instanceof Array&&Vv(l.type,t);for(const[m,g]of Object.entries(l))if(g!=null)if(m=="type"){if(g==="null")throw new Error("type: null can not be the only possible type for the field.");if(g instanceof Array)continue;t.type=Object.values(it).includes(g.toUpperCase())?g.toUpperCase():it.TYPE_UNSPECIFIED}else if(o.includes(m))t[m]=Wl(g);else if(a.includes(m)){const y=[];for(const h of g){if(h.type=="null"){t.nullable=!0;continue}y.push(Wl(h))}t[m]=y}else if(u.includes(m)){const y={};for(const[h,v]of Object.entries(g))y[h]=Wl(v);t[m]=y}else{if(m==="additionalProperties")continue;t[m]=g}return t}function Ur(l){return Wl(l)}function kr(l){if(typeof l=="object")return l;if(typeof l=="string")return{voiceConfig:{prebuiltVoiceConfig:{voiceName:l}}};throw new Error(`Unsupported speechConfig type: ${typeof l}`)}function Lr(l){if("multiSpeakerVoiceConfig"in l)throw new Error("multiSpeakerVoiceConfig is not supported in the live API.");return l}function ti(l){if(l.functionDeclarations)for(const t of l.functionDeclarations)t.parameters&&(Object.keys(t.parameters).includes("$schema")?t.parametersJsonSchema||(t.parametersJsonSchema=t.parameters,delete t.parameters):t.parameters=Wl(t.parameters)),t.response&&(Object.keys(t.response).includes("$schema")?t.responseJsonSchema||(t.responseJsonSchema=t.response,delete t.response):t.response=Wl(t.response));return l}function ni(l){if(l==null)throw new Error("tools is required");if(!Array.isArray(l))throw new Error("tools is required and must be an array of Tools");const t=[];for(const o of l)t.push(o);return t}function Bv(l,t,o,a=1){const u=!t.startsWith(`${o}/`)&&t.split("/").length===a;return l.isVertexAI()?t.startsWith("projects/")?t:t.startsWith("locations/")?`projects/${l.getProject()}/${t}`:t.startsWith(`${o}/`)?`projects/${l.getProject()}/locations/${l.getLocation()}/${t}`:u?`projects/${l.getProject()}/locations/${l.getLocation()}/${o}/${t}`:t:u?`${o}/${t}`:t}function mn(l,t){if(typeof t!="string")throw new Error("name must be a string");return Bv(l,t,"cachedContents")}function Hm(l){switch(l){case"STATE_UNSPECIFIED":return"JOB_STATE_UNSPECIFIED";case"CREATING":return"JOB_STATE_RUNNING";case"ACTIVE":return"JOB_STATE_SUCCEEDED";case"FAILED":return"JOB_STATE_FAILED";default:return l}}function Pn(l){return Ir(l)}function Pv(l){return l!=null&&typeof l=="object"&&"name"in l}function Ov(l){return l!=null&&typeof l=="object"&&"video"in l}function Yv(l){return l!=null&&typeof l=="object"&&"uri"in l}function Vm(l){var t;let o;if(Pv(l)&&(o=l.name),!(Yv(l)&&(o=l.uri,o===void 0))&&!(Ov(l)&&(o=(t=l.video)===null||t===void 0?void 0:t.uri,o===void 0))){if(typeof l=="string"&&(o=l),o===void 0)throw new Error("Could not extract file name from the provided input.");if(o.startsWith("https://")){const u=o.split("files/")[1].match(/[a-z0-9]+/);if(u===null)throw new Error(`Could not extract file name from URI ${o}`);o=u[0]}else o.startsWith("files/")&&(o=o.split("files/")[1]);return o}}function Bm(l,t){let o;return l.isVertexAI()?o=t?"publishers/google/models":"models":o=t?"models":"tunedModels",o}function Pm(l){for(const t of["models","tunedModels","publisherModels"])if(Jv(l,t))return l[t];return[]}function Jv(l,t){return l!==null&&typeof l=="object"&&t in l}function Fv(l,t={}){const o=l,a={name:o.name,description:o.description,parametersJsonSchema:o.inputSchema};return o.outputSchema&&(a.responseJsonSchema=o.outputSchema),t.behavior&&(a.behavior=t.behavior),{functionDeclarations:[a]}}function Kv(l,t={}){const o=[],a=new Set;for(const u of l){const d=u.name;if(a.has(d))throw new Error(`Duplicate function name ${d} found in MCP tools. Please ensure function names are unique.`);a.add(d);const m=Fv(u,t);m.functionDeclarations&&o.push(...m.functionDeclarations)}return{functionDeclarations:o}}function Om(l,t){let o;if(typeof t=="string")if(l.isVertexAI())if(t.startsWith("gs://"))o={format:"jsonl",gcsUri:[t]};else if(t.startsWith("bq://"))o={format:"bigquery",bigqueryUri:t};else throw new Error(`Unsupported string source for Vertex AI: ${t}`);else if(t.startsWith("files/"))o={fileName:t};else throw new Error(`Unsupported string source for Gemini API: ${t}`);else if(Array.isArray(t)){if(l.isVertexAI())throw new Error("InlinedRequest[] is not supported in Vertex AI.");o={inlinedRequests:t}}else o=t;const a=[o.gcsUri,o.bigqueryUri].filter(Boolean).length,u=[o.inlinedRequests,o.fileName].filter(Boolean).length;if(l.isVertexAI()){if(u>0||a!==1)throw new Error("Exactly one of `gcsUri` or `bigqueryUri` must be set for Vertex AI.")}else if(a>0||u!==1)throw new Error("Exactly one of `inlinedRequests`, `fileName`, must be set for Gemini API.");return o}function Qv(l){if(typeof l!="string")return l;const t=l;if(t.startsWith("gs://"))return{format:"jsonl",gcsUri:t};if(t.startsWith("bq://"))return{format:"bigquery",bigqueryUri:t};throw new Error(`Unsupported destination: ${t}`)}function Ym(l){if(typeof l!="object"||l===null)return{};const t=l,o=t.inlinedResponses;if(typeof o!="object"||o===null)return l;const u=o.inlinedResponses;if(!Array.isArray(u)||u.length===0)return l;let d=!1;for(const m of u){if(typeof m!="object"||m===null)continue;const y=m.response;if(typeof y!="object"||y===null)continue;if(y.embedding!==void 0){d=!0;break}}return d&&(t.inlinedEmbedContentResponses=t.inlinedResponses,delete t.inlinedResponses),l}function li(l,t){const o=t;if(!l.isVertexAI()){if(/batches\/[^/]+$/.test(o))return o.split("/").pop();throw new Error(`Invalid batch job name: ${o}.`)}if(/^projects\/[^/]+\/locations\/[^/]+\/batchPredictionJobs\/[^/]+$/.test(o))return o.split("/").pop();if(/^\d+$/.test(o))return o;throw new Error(`Invalid batch job name: ${o}.`)}function Jm(l){const t=l;return t==="BATCH_STATE_UNSPECIFIED"?"JOB_STATE_UNSPECIFIED":t==="BATCH_STATE_PENDING"?"JOB_STATE_PENDING":t==="BATCH_STATE_RUNNING"?"JOB_STATE_RUNNING":t==="BATCH_STATE_SUCCEEDED"?"JOB_STATE_SUCCEEDED":t==="BATCH_STATE_FAILED"?"JOB_STATE_FAILED":t==="BATCH_STATE_CANCELLED"?"JOB_STATE_CANCELLED":t==="BATCH_STATE_EXPIRED"?"JOB_STATE_EXPIRED":t}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */function Xv(l){const t={},o=r(l,["responsesFile"]);o!=null&&f(t,["fileName"],o);const a=r(l,["inlinedResponses","inlinedResponses"]);if(a!=null){let d=a;Array.isArray(d)&&(d=d.map(m=>RT(m))),f(t,["inlinedResponses"],d)}const u=r(l,["inlinedEmbedContentResponses","inlinedResponses"]);if(u!=null){let d=u;Array.isArray(d)&&(d=d.map(m=>m)),f(t,["inlinedEmbedContentResponses"],d)}return t}function Zv(l){const t={},o=r(l,["predictionsFormat"]);o!=null&&f(t,["format"],o);const a=r(l,["gcsDestination","outputUriPrefix"]);a!=null&&f(t,["gcsUri"],a);const u=r(l,["bigqueryDestination","outputUri"]);return u!=null&&f(t,["bigqueryUri"],u),t}function $v(l){const t={},o=r(l,["format"]);o!=null&&f(t,["predictionsFormat"],o);const a=r(l,["gcsUri"]);a!=null&&f(t,["gcsDestination","outputUriPrefix"],a);const u=r(l,["bigqueryUri"]);if(u!=null&&f(t,["bigqueryDestination","outputUri"],u),r(l,["fileName"])!==void 0)throw new Error("fileName parameter is not supported in Vertex AI.");if(r(l,["inlinedResponses"])!==void 0)throw new Error("inlinedResponses parameter is not supported in Vertex AI.");if(r(l,["inlinedEmbedContentResponses"])!==void 0)throw new Error("inlinedEmbedContentResponses parameter is not supported in Vertex AI.");return t}function ba(l){const t={},o=r(l,["name"]);o!=null&&f(t,["name"],o);const a=r(l,["metadata","displayName"]);a!=null&&f(t,["displayName"],a);const u=r(l,["metadata","state"]);u!=null&&f(t,["state"],Jm(u));const d=r(l,["metadata","createTime"]);d!=null&&f(t,["createTime"],d);const m=r(l,["metadata","endTime"]);m!=null&&f(t,["endTime"],m);const g=r(l,["metadata","updateTime"]);g!=null&&f(t,["updateTime"],g);const y=r(l,["metadata","model"]);y!=null&&f(t,["model"],y);const h=r(l,["metadata","output"]);return h!=null&&f(t,["dest"],Xv(Ym(h))),t}function Tr(l){const t={},o=r(l,["name"]);o!=null&&f(t,["name"],o);const a=r(l,["displayName"]);a!=null&&f(t,["displayName"],a);const u=r(l,["state"]);u!=null&&f(t,["state"],Jm(u));const d=r(l,["error"]);d!=null&&f(t,["error"],d);const m=r(l,["createTime"]);m!=null&&f(t,["createTime"],m);const g=r(l,["startTime"]);g!=null&&f(t,["startTime"],g);const y=r(l,["endTime"]);y!=null&&f(t,["endTime"],y);const h=r(l,["updateTime"]);h!=null&&f(t,["updateTime"],h);const v=r(l,["model"]);v!=null&&f(t,["model"],v);const S=r(l,["inputConfig"]);S!=null&&f(t,["src"],Wv(S));const E=r(l,["outputConfig"]);return E!=null&&f(t,["dest"],Zv(Ym(E))),t}function Wv(l){const t={},o=r(l,["instancesFormat"]);o!=null&&f(t,["format"],o);const a=r(l,["gcsSource","uris"]);a!=null&&f(t,["gcsUri"],a);const u=r(l,["bigquerySource","inputUri"]);return u!=null&&f(t,["bigqueryUri"],u),t}function jv(l,t){const o={};if(r(t,["format"])!==void 0)throw new Error("format parameter is not supported in Gemini API.");if(r(t,["gcsUri"])!==void 0)throw new Error("gcsUri parameter is not supported in Gemini API.");if(r(t,["bigqueryUri"])!==void 0)throw new Error("bigqueryUri parameter is not supported in Gemini API.");const a=r(t,["fileName"]);a!=null&&f(o,["fileName"],a);const u=r(t,["inlinedRequests"]);if(u!=null){let d=u;Array.isArray(d)&&(d=d.map(m=>xT(l,m))),f(o,["requests","requests"],d)}return o}function eT(l){const t={},o=r(l,["format"]);o!=null&&f(t,["instancesFormat"],o);const a=r(l,["gcsUri"]);a!=null&&f(t,["gcsSource","uris"],a);const u=r(l,["bigqueryUri"]);if(u!=null&&f(t,["bigquerySource","inputUri"],u),r(l,["fileName"])!==void 0)throw new Error("fileName parameter is not supported in Vertex AI.");if(r(l,["inlinedRequests"])!==void 0)throw new Error("inlinedRequests parameter is not supported in Vertex AI.");return t}function tT(l){const t={};if(r(l,["displayName"])!==void 0)throw new Error("displayName parameter is not supported in Gemini API.");const o=r(l,["data"]);o!=null&&f(t,["data"],o);const a=r(l,["mimeType"]);return a!=null&&f(t,["mimeType"],a),t}function nT(l,t){const o={},a=r(t,["name"]);return a!=null&&f(o,["_url","name"],li(l,a)),o}function lT(l,t){const o={},a=r(t,["name"]);return a!=null&&f(o,["_url","name"],li(l,a)),o}function iT(l){const t={},o=r(l,["content"]);o!=null&&f(t,["content"],o);const a=r(l,["citationMetadata"]);a!=null&&f(t,["citationMetadata"],oT(a));const u=r(l,["tokenCount"]);u!=null&&f(t,["tokenCount"],u);const d=r(l,["finishReason"]);d!=null&&f(t,["finishReason"],d);const m=r(l,["urlContextMetadata"]);m!=null&&f(t,["urlContextMetadata"],m);const g=r(l,["avgLogprobs"]);g!=null&&f(t,["avgLogprobs"],g);const y=r(l,["groundingMetadata"]);y!=null&&f(t,["groundingMetadata"],y);const h=r(l,["index"]);h!=null&&f(t,["index"],h);const v=r(l,["logprobsResult"]);v!=null&&f(t,["logprobsResult"],v);const S=r(l,["safetyRatings"]);if(S!=null){let E=S;Array.isArray(E)&&(E=E.map(R=>R)),f(t,["safetyRatings"],E)}return t}function oT(l){const t={},o=r(l,["citationSources"]);if(o!=null){let a=o;Array.isArray(a)&&(a=a.map(u=>u)),f(t,["citations"],a)}return t}function Fm(l){const t={},o=r(l,["parts"]);if(o!=null){let u=o;Array.isArray(u)&&(u=u.map(d=>UT(d))),f(t,["parts"],u)}const a=r(l,["role"]);return a!=null&&f(t,["role"],a),t}function aT(l,t){const o={},a=r(l,["displayName"]);if(t!==void 0&&a!=null&&f(t,["batch","displayName"],a),r(l,["dest"])!==void 0)throw new Error("dest parameter is not supported in Gemini API.");return o}function sT(l,t){const o={},a=r(l,["displayName"]);t!==void 0&&a!=null&&f(t,["displayName"],a);const u=r(l,["dest"]);return t!==void 0&&u!=null&&f(t,["outputConfig"],$v(Qv(u))),o}function rm(l,t){const o={},a=r(t,["model"]);a!=null&&f(o,["_url","model"],Te(l,a));const u=r(t,["src"]);u!=null&&f(o,["batch","inputConfig"],jv(l,Om(l,u)));const d=r(t,["config"]);return d!=null&&aT(d,o),o}function uT(l,t){const o={},a=r(t,["model"]);a!=null&&f(o,["model"],Te(l,a));const u=r(t,["src"]);u!=null&&f(o,["inputConfig"],eT(Om(l,u)));const d=r(t,["config"]);return d!=null&&sT(d,o),o}function rT(l,t){const o={},a=r(l,["displayName"]);return t!==void 0&&a!=null&&f(t,["batch","displayName"],a),o}function cT(l,t){const o={},a=r(t,["model"]);a!=null&&f(o,["_url","model"],Te(l,a));const u=r(t,["src"]);u!=null&&f(o,["batch","inputConfig"],yT(l,u));const d=r(t,["config"]);return d!=null&&rT(d,o),o}function fT(l,t){const o={},a=r(t,["name"]);return a!=null&&f(o,["_url","name"],li(l,a)),o}function dT(l,t){const o={},a=r(t,["name"]);return a!=null&&f(o,["_url","name"],li(l,a)),o}function pT(l){const t={},o=r(l,["sdkHttpResponse"]);o!=null&&f(t,["sdkHttpResponse"],o);const a=r(l,["name"]);a!=null&&f(t,["name"],a);const u=r(l,["done"]);u!=null&&f(t,["done"],u);const d=r(l,["error"]);return d!=null&&f(t,["error"],d),t}function hT(l){const t={},o=r(l,["sdkHttpResponse"]);o!=null&&f(t,["sdkHttpResponse"],o);const a=r(l,["name"]);a!=null&&f(t,["name"],a);const u=r(l,["done"]);u!=null&&f(t,["done"],u);const d=r(l,["error"]);return d!=null&&f(t,["error"],d),t}function mT(l,t){const o={},a=r(t,["contents"]);if(a!=null){let d=wr(l,a);Array.isArray(d)&&(d=d.map(m=>m)),f(o,["requests[]","request","content"],d)}const u=r(t,["config"]);return u!=null&&(f(o,["_self"],gT(u,o)),vv(o,{"requests[].*":"requests[].request.*"})),o}function gT(l,t){const o={},a=r(l,["taskType"]);t!==void 0&&a!=null&&f(t,["requests[]","taskType"],a);const u=r(l,["title"]);t!==void 0&&u!=null&&f(t,["requests[]","title"],u);const d=r(l,["outputDimensionality"]);if(t!==void 0&&d!=null&&f(t,["requests[]","outputDimensionality"],d),r(l,["mimeType"])!==void 0)throw new Error("mimeType parameter is not supported in Gemini API.");if(r(l,["autoTruncate"])!==void 0)throw new Error("autoTruncate parameter is not supported in Gemini API.");return o}function yT(l,t){const o={},a=r(t,["fileName"]);a!=null&&f(o,["file_name"],a);const u=r(t,["inlinedRequests"]);return u!=null&&f(o,["requests"],mT(l,u)),o}function vT(l){const t={};if(r(l,["displayName"])!==void 0)throw new Error("displayName parameter is not supported in Gemini API.");const o=r(l,["fileUri"]);o!=null&&f(t,["fileUri"],o);const a=r(l,["mimeType"]);return a!=null&&f(t,["mimeType"],a),t}function TT(l,t,o){const a={},u=r(t,["systemInstruction"]);o!==void 0&&u!=null&&f(o,["systemInstruction"],Fm(ot(u)));const d=r(t,["temperature"]);d!=null&&f(a,["temperature"],d);const m=r(t,["topP"]);m!=null&&f(a,["topP"],m);const g=r(t,["topK"]);g!=null&&f(a,["topK"],g);const y=r(t,["candidateCount"]);y!=null&&f(a,["candidateCount"],y);const h=r(t,["maxOutputTokens"]);h!=null&&f(a,["maxOutputTokens"],h);const v=r(t,["stopSequences"]);v!=null&&f(a,["stopSequences"],v);const S=r(t,["responseLogprobs"]);S!=null&&f(a,["responseLogprobs"],S);const E=r(t,["logprobs"]);E!=null&&f(a,["logprobs"],E);const R=r(t,["presencePenalty"]);R!=null&&f(a,["presencePenalty"],R);const N=r(t,["frequencyPenalty"]);N!=null&&f(a,["frequencyPenalty"],N);const z=r(t,["seed"]);z!=null&&f(a,["seed"],z);const O=r(t,["responseMimeType"]);O!=null&&f(a,["responseMimeType"],O);const P=r(t,["responseSchema"]);P!=null&&f(a,["responseSchema"],Ur(P));const K=r(t,["responseJsonSchema"]);if(K!=null&&f(a,["responseJsonSchema"],K),r(t,["routingConfig"])!==void 0)throw new Error("routingConfig parameter is not supported in Gemini API.");if(r(t,["modelSelectionConfig"])!==void 0)throw new Error("modelSelectionConfig parameter is not supported in Gemini API.");const B=r(t,["safetySettings"]);if(o!==void 0&&B!=null){let ue=B;Array.isArray(ue)&&(ue=ue.map(Xe=>kT(Xe))),f(o,["safetySettings"],ue)}const V=r(t,["tools"]);if(o!==void 0&&V!=null){let ue=ni(V);Array.isArray(ue)&&(ue=ue.map(Xe=>LT(ti(Xe)))),f(o,["tools"],ue)}const Q=r(t,["toolConfig"]);if(o!==void 0&&Q!=null&&f(o,["toolConfig"],Q),r(t,["labels"])!==void 0)throw new Error("labels parameter is not supported in Gemini API.");const j=r(t,["cachedContent"]);o!==void 0&&j!=null&&f(o,["cachedContent"],mn(l,j));const J=r(t,["responseModalities"]);J!=null&&f(a,["responseModalities"],J);const ge=r(t,["mediaResolution"]);ge!=null&&f(a,["mediaResolution"],ge);const te=r(t,["speechConfig"]);if(te!=null&&f(a,["speechConfig"],kr(te)),r(t,["audioTimestamp"])!==void 0)throw new Error("audioTimestamp parameter is not supported in Gemini API.");const de=r(t,["thinkingConfig"]);de!=null&&f(a,["thinkingConfig"],de);const ke=r(t,["imageConfig"]);return ke!=null&&f(a,["imageConfig"],ke),a}function ST(l){const t={},o=r(l,["sdkHttpResponse"]);o!=null&&f(t,["sdkHttpResponse"],o);const a=r(l,["candidates"]);if(a!=null){let y=a;Array.isArray(y)&&(y=y.map(h=>iT(h))),f(t,["candidates"],y)}const u=r(l,["modelVersion"]);u!=null&&f(t,["modelVersion"],u);const d=r(l,["promptFeedback"]);d!=null&&f(t,["promptFeedback"],d);const m=r(l,["responseId"]);m!=null&&f(t,["responseId"],m);const g=r(l,["usageMetadata"]);return g!=null&&f(t,["usageMetadata"],g),t}function ET(l,t){const o={},a=r(t,["name"]);return a!=null&&f(o,["_url","name"],li(l,a)),o}function _T(l,t){const o={},a=r(t,["name"]);return a!=null&&f(o,["_url","name"],li(l,a)),o}function CT(l){const t={};if(r(l,["authConfig"])!==void 0)throw new Error("authConfig parameter is not supported in Gemini API.");const o=r(l,["enableWidget"]);return o!=null&&f(t,["enableWidget"],o),t}function AT(l){const t={},o=r(l,["timeRangeFilter"]);if(o!=null&&f(t,["timeRangeFilter"],o),r(l,["excludeDomains"])!==void 0)throw new Error("excludeDomains parameter is not supported in Gemini API.");return t}function xT(l,t){const o={},a=r(t,["model"]);a!=null&&f(o,["request","model"],Te(l,a));const u=r(t,["contents"]);if(u!=null){let g=Gt(u);Array.isArray(g)&&(g=g.map(y=>Fm(y))),f(o,["request","contents"],g)}const d=r(t,["metadata"]);d!=null&&f(o,["metadata"],d);const m=r(t,["config"]);return m!=null&&f(o,["request","generationConfig"],TT(l,m,r(o,["request"],{}))),o}function RT(l){const t={},o=r(l,["response"]);o!=null&&f(t,["response"],ST(o));const a=r(l,["error"]);return a!=null&&f(t,["error"],a),t}function MT(l,t){const o={},a=r(l,["pageSize"]);t!==void 0&&a!=null&&f(t,["_query","pageSize"],a);const u=r(l,["pageToken"]);if(t!==void 0&&u!=null&&f(t,["_query","pageToken"],u),r(l,["filter"])!==void 0)throw new Error("filter parameter is not supported in Gemini API.");return o}function NT(l,t){const o={},a=r(l,["pageSize"]);t!==void 0&&a!=null&&f(t,["_query","pageSize"],a);const u=r(l,["pageToken"]);t!==void 0&&u!=null&&f(t,["_query","pageToken"],u);const d=r(l,["filter"]);return t!==void 0&&d!=null&&f(t,["_query","filter"],d),o}function bT(l){const t={},o=r(l,["config"]);return o!=null&&MT(o,t),t}function DT(l){const t={},o=r(l,["config"]);return o!=null&&NT(o,t),t}function IT(l){const t={},o=r(l,["sdkHttpResponse"]);o!=null&&f(t,["sdkHttpResponse"],o);const a=r(l,["nextPageToken"]);a!=null&&f(t,["nextPageToken"],a);const u=r(l,["operations"]);if(u!=null){let d=u;Array.isArray(d)&&(d=d.map(m=>ba(m))),f(t,["batchJobs"],d)}return t}function wT(l){const t={},o=r(l,["sdkHttpResponse"]);o!=null&&f(t,["sdkHttpResponse"],o);const a=r(l,["nextPageToken"]);a!=null&&f(t,["nextPageToken"],a);const u=r(l,["batchPredictionJobs"]);if(u!=null){let d=u;Array.isArray(d)&&(d=d.map(m=>Tr(m))),f(t,["batchJobs"],d)}return t}function UT(l){const t={},o=r(l,["videoMetadata"]);o!=null&&f(t,["videoMetadata"],o);const a=r(l,["thought"]);a!=null&&f(t,["thought"],a);const u=r(l,["inlineData"]);u!=null&&f(t,["inlineData"],tT(u));const d=r(l,["fileData"]);d!=null&&f(t,["fileData"],vT(d));const m=r(l,["thoughtSignature"]);m!=null&&f(t,["thoughtSignature"],m);const g=r(l,["functionCall"]);g!=null&&f(t,["functionCall"],g);const y=r(l,["codeExecutionResult"]);y!=null&&f(t,["codeExecutionResult"],y);const h=r(l,["executableCode"]);h!=null&&f(t,["executableCode"],h);const v=r(l,["functionResponse"]);v!=null&&f(t,["functionResponse"],v);const S=r(l,["text"]);return S!=null&&f(t,["text"],S),t}function kT(l){const t={};if(r(l,["method"])!==void 0)throw new Error("method parameter is not supported in Gemini API.");const o=r(l,["category"]);o!=null&&f(t,["category"],o);const a=r(l,["threshold"]);return a!=null&&f(t,["threshold"],a),t}function LT(l){const t={},o=r(l,["functionDeclarations"]);if(o!=null){let h=o;Array.isArray(h)&&(h=h.map(v=>v)),f(t,["functionDeclarations"],h)}if(r(l,["retrieval"])!==void 0)throw new Error("retrieval parameter is not supported in Gemini API.");const a=r(l,["googleSearch"]);a!=null&&f(t,["googleSearch"],AT(a));const u=r(l,["googleSearchRetrieval"]);if(u!=null&&f(t,["googleSearchRetrieval"],u),r(l,["enterpriseWebSearch"])!==void 0)throw new Error("enterpriseWebSearch parameter is not supported in Gemini API.");const d=r(l,["googleMaps"]);d!=null&&f(t,["googleMaps"],CT(d));const m=r(l,["urlContext"]);m!=null&&f(t,["urlContext"],m);const g=r(l,["computerUse"]);g!=null&&f(t,["computerUse"],g);const y=r(l,["codeExecution"]);return y!=null&&f(t,["codeExecution"],y),t}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */var ul;(function(l){l.PAGED_ITEM_BATCH_JOBS="batchJobs",l.PAGED_ITEM_MODELS="models",l.PAGED_ITEM_TUNING_JOBS="tuningJobs",l.PAGED_ITEM_FILES="files",l.PAGED_ITEM_CACHED_CONTENTS="cachedContents"})(ul||(ul={}));class oo{constructor(t,o,a,u){this.pageInternal=[],this.paramsInternal={},this.requestInternal=o,this.init(t,a,u)}init(t,o,a){var u,d;this.nameInternal=t,this.pageInternal=o[this.nameInternal]||[],this.sdkHttpResponseInternal=o==null?void 0:o.sdkHttpResponse,this.idxInternal=0;let m={config:{}};!a||Object.keys(a).length===0?m={config:{}}:typeof a=="object"?m=Object.assign({},a):m=a,m.config&&(m.config.pageToken=o.nextPageToken),this.paramsInternal=m,this.pageInternalSize=(d=(u=m.config)===null||u===void 0?void 0:u.pageSize)!==null&&d!==void 0?d:this.pageInternal.length}initNextPage(t){this.init(this.nameInternal,t,this.paramsInternal)}get page(){return this.pageInternal}get name(){return this.nameInternal}get pageSize(){return this.pageInternalSize}get sdkHttpResponse(){return this.sdkHttpResponseInternal}get params(){return this.paramsInternal}get pageLength(){return this.pageInternal.length}getItem(t){return this.pageInternal[t]}[Symbol.asyncIterator](){return{next:async()=>{if(this.idxInternal>=this.pageLength)if(this.hasNextPage())await this.nextPage();else return{value:void 0,done:!0};const t=this.getItem(this.idxInternal);return this.idxInternal+=1,{value:t,done:!1}},return:async()=>({value:void 0,done:!0})}}async nextPage(){if(!this.hasNextPage())throw new Error("No more pages to fetch.");const t=await this.requestInternal(this.params);return this.initNextPage(t),this.page}hasNextPage(){var t;return((t=this.params.config)===null||t===void 0?void 0:t.pageToken)!==void 0}}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */class qT extends cl{constructor(t){super(),this.apiClient=t,this.create=async o=>(this.apiClient.isVertexAI()&&(o.config=this.formatDestination(o.src,o.config)),this.createInternal(o)),this.createEmbeddings=async o=>{if(console.warn("batches.createEmbeddings() is experimental and may change without notice."),this.apiClient.isVertexAI())throw new Error("Vertex AI does not support batches.createEmbeddings.");return this.createEmbeddingsInternal(o)},this.list=async(o={})=>new oo(ul.PAGED_ITEM_BATCH_JOBS,a=>this.listInternal(a),await this.listInternal(o),o)}createInlinedGenerateContentRequest(t){const o=rm(this.apiClient,t),a=o._url,u=Z("{model}:batchGenerateContent",a),g=o.batch.inputConfig.requests,y=g.requests,h=[];for(const v of y){const S=Object.assign({},v);if(S.systemInstruction){const E=S.systemInstruction;delete S.systemInstruction;const R=S.request;R.systemInstruction=E,S.request=R}h.push(S)}return g.requests=h,delete o.config,delete o._url,delete o._query,{path:u,body:o}}getGcsUri(t){if(typeof t=="string")return t.startsWith("gs://")?t:void 0;if(!Array.isArray(t)&&t.gcsUri&&t.gcsUri.length>0)return t.gcsUri[0]}getBigqueryUri(t){if(typeof t=="string")return t.startsWith("bq://")?t:void 0;if(!Array.isArray(t))return t.bigqueryUri}formatDestination(t,o){const a=o?Object.assign({},o):{},u=Date.now().toString();if(a.displayName||(a.displayName=`genaiBatchJob_${u}`),a.dest===void 0){const d=this.getGcsUri(t),m=this.getBigqueryUri(t);if(d)d.endsWith(".jsonl")?a.dest=`${d.slice(0,-6)}/dest`:a.dest=`${d}_dest_${u}`;else if(m)a.dest=`${m}_dest_${u}`;else throw new Error("Unsupported source for Vertex AI: No GCS or BigQuery URI found.")}return a}async createInternal(t){var o,a,u,d;let m,g="",y={};if(this.apiClient.isVertexAI()){const h=uT(this.apiClient,t);return g=Z("batchPredictionJobs",h._url),y=h._query,delete h._url,delete h._query,m=this.apiClient.request({path:g,queryParams:y,body:JSON.stringify(h),httpMethod:"POST",httpOptions:(o=t.config)===null||o===void 0?void 0:o.httpOptions,abortSignal:(a=t.config)===null||a===void 0?void 0:a.abortSignal}).then(v=>v.json()),m.then(v=>Tr(v))}else{const h=rm(this.apiClient,t);return g=Z("{model}:batchGenerateContent",h._url),y=h._query,delete h._url,delete h._query,m=this.apiClient.request({path:g,queryParams:y,body:JSON.stringify(h),httpMethod:"POST",httpOptions:(u=t.config)===null||u===void 0?void 0:u.httpOptions,abortSignal:(d=t.config)===null||d===void 0?void 0:d.abortSignal}).then(v=>v.json()),m.then(v=>ba(v))}}async createEmbeddingsInternal(t){var o,a;let u,d="",m={};if(this.apiClient.isVertexAI())throw new Error("This method is only supported by the Gemini Developer API.");{const g=cT(this.apiClient,t);return d=Z("{model}:asyncBatchEmbedContent",g._url),m=g._query,delete g._url,delete g._query,u=this.apiClient.request({path:d,queryParams:m,body:JSON.stringify(g),httpMethod:"POST",httpOptions:(o=t.config)===null||o===void 0?void 0:o.httpOptions,abortSignal:(a=t.config)===null||a===void 0?void 0:a.abortSignal}).then(y=>y.json()),u.then(y=>ba(y))}}async get(t){var o,a,u,d;let m,g="",y={};if(this.apiClient.isVertexAI()){const h=_T(this.apiClient,t);return g=Z("batchPredictionJobs/{name}",h._url),y=h._query,delete h._url,delete h._query,m=this.apiClient.request({path:g,queryParams:y,body:JSON.stringify(h),httpMethod:"GET",httpOptions:(o=t.config)===null||o===void 0?void 0:o.httpOptions,abortSignal:(a=t.config)===null||a===void 0?void 0:a.abortSignal}).then(v=>v.json()),m.then(v=>Tr(v))}else{const h=ET(this.apiClient,t);return g=Z("batches/{name}",h._url),y=h._query,delete h._url,delete h._query,m=this.apiClient.request({path:g,queryParams:y,body:JSON.stringify(h),httpMethod:"GET",httpOptions:(u=t.config)===null||u===void 0?void 0:u.httpOptions,abortSignal:(d=t.config)===null||d===void 0?void 0:d.abortSignal}).then(v=>v.json()),m.then(v=>ba(v))}}async cancel(t){var o,a,u,d;let m="",g={};if(this.apiClient.isVertexAI()){const y=lT(this.apiClient,t);m=Z("batchPredictionJobs/{name}:cancel",y._url),g=y._query,delete y._url,delete y._query,await this.apiClient.request({path:m,queryParams:g,body:JSON.stringify(y),httpMethod:"POST",httpOptions:(o=t.config)===null||o===void 0?void 0:o.httpOptions,abortSignal:(a=t.config)===null||a===void 0?void 0:a.abortSignal})}else{const y=nT(this.apiClient,t);m=Z("batches/{name}:cancel",y._url),g=y._query,delete y._url,delete y._query,await this.apiClient.request({path:m,queryParams:g,body:JSON.stringify(y),httpMethod:"POST",httpOptions:(u=t.config)===null||u===void 0?void 0:u.httpOptions,abortSignal:(d=t.config)===null||d===void 0?void 0:d.abortSignal})}}async listInternal(t){var o,a,u,d;let m,g="",y={};if(this.apiClient.isVertexAI()){const h=DT(t);return g=Z("batchPredictionJobs",h._url),y=h._query,delete h._url,delete h._query,m=this.apiClient.request({path:g,queryParams:y,body:JSON.stringify(h),httpMethod:"GET",httpOptions:(o=t.config)===null||o===void 0?void 0:o.httpOptions,abortSignal:(a=t.config)===null||a===void 0?void 0:a.abortSignal}).then(v=>v.json().then(S=>{const E=S;return E.sdkHttpResponse={headers:v.headers},E})),m.then(v=>{const S=wT(v),E=new om;return Object.assign(E,S),E})}else{const h=bT(t);return g=Z("batches",h._url),y=h._query,delete h._url,delete h._query,m=this.apiClient.request({path:g,queryParams:y,body:JSON.stringify(h),httpMethod:"GET",httpOptions:(u=t.config)===null||u===void 0?void 0:u.httpOptions,abortSignal:(d=t.config)===null||d===void 0?void 0:d.abortSignal}).then(v=>v.json().then(S=>{const E=S;return E.sdkHttpResponse={headers:v.headers},E})),m.then(v=>{const S=IT(v),E=new om;return Object.assign(E,S),E})}}async delete(t){var o,a,u,d;let m,g="",y={};if(this.apiClient.isVertexAI()){const h=dT(this.apiClient,t);return g=Z("batchPredictionJobs/{name}",h._url),y=h._query,delete h._url,delete h._query,m=this.apiClient.request({path:g,queryParams:y,body:JSON.stringify(h),httpMethod:"DELETE",httpOptions:(o=t.config)===null||o===void 0?void 0:o.httpOptions,abortSignal:(a=t.config)===null||a===void 0?void 0:a.abortSignal}).then(v=>v.json().then(S=>{const E=S;return E.sdkHttpResponse={headers:v.headers},E})),m.then(v=>hT(v))}else{const h=fT(this.apiClient,t);return g=Z("batches/{name}",h._url),y=h._query,delete h._url,delete h._query,m=this.apiClient.request({path:g,queryParams:y,body:JSON.stringify(h),httpMethod:"DELETE",httpOptions:(u=t.config)===null||u===void 0?void 0:u.httpOptions,abortSignal:(d=t.config)===null||d===void 0?void 0:d.abortSignal}).then(v=>v.json().then(S=>{const E=S;return E.sdkHttpResponse={headers:v.headers},E})),m.then(v=>pT(v))}}}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */function zT(l){const t={};if(r(l,["displayName"])!==void 0)throw new Error("displayName parameter is not supported in Gemini API.");const o=r(l,["data"]);o!=null&&f(t,["data"],o);const a=r(l,["mimeType"]);return a!=null&&f(t,["mimeType"],a),t}function cm(l){const t={},o=r(l,["parts"]);if(o!=null){let u=o;Array.isArray(u)&&(u=u.map(d=>iS(d))),f(t,["parts"],u)}const a=r(l,["role"]);return a!=null&&f(t,["role"],a),t}function GT(l,t){const o={},a=r(l,["ttl"]);t!==void 0&&a!=null&&f(t,["ttl"],a);const u=r(l,["expireTime"]);t!==void 0&&u!=null&&f(t,["expireTime"],u);const d=r(l,["displayName"]);t!==void 0&&d!=null&&f(t,["displayName"],d);const m=r(l,["contents"]);if(t!==void 0&&m!=null){let v=Gt(m);Array.isArray(v)&&(v=v.map(S=>cm(S))),f(t,["contents"],v)}const g=r(l,["systemInstruction"]);t!==void 0&&g!=null&&f(t,["systemInstruction"],cm(ot(g)));const y=r(l,["tools"]);if(t!==void 0&&y!=null){let v=y;Array.isArray(v)&&(v=v.map(S=>oS(S))),f(t,["tools"],v)}const h=r(l,["toolConfig"]);if(t!==void 0&&h!=null&&f(t,["toolConfig"],h),r(l,["kmsKeyName"])!==void 0)throw new Error("kmsKeyName parameter is not supported in Gemini API.");return o}function HT(l,t){const o={},a=r(l,["ttl"]);t!==void 0&&a!=null&&f(t,["ttl"],a);const u=r(l,["expireTime"]);t!==void 0&&u!=null&&f(t,["expireTime"],u);const d=r(l,["displayName"]);t!==void 0&&d!=null&&f(t,["displayName"],d);const m=r(l,["contents"]);if(t!==void 0&&m!=null){let S=Gt(m);Array.isArray(S)&&(S=S.map(E=>E)),f(t,["contents"],S)}const g=r(l,["systemInstruction"]);t!==void 0&&g!=null&&f(t,["systemInstruction"],ot(g));const y=r(l,["tools"]);if(t!==void 0&&y!=null){let S=y;Array.isArray(S)&&(S=S.map(E=>aS(E))),f(t,["tools"],S)}const h=r(l,["toolConfig"]);t!==void 0&&h!=null&&f(t,["toolConfig"],h);const v=r(l,["kmsKeyName"]);return t!==void 0&&v!=null&&f(t,["encryption_spec","kmsKeyName"],v),o}function VT(l,t){const o={},a=r(t,["model"]);a!=null&&f(o,["model"],km(l,a));const u=r(t,["config"]);return u!=null&&GT(u,o),o}function BT(l,t){const o={},a=r(t,["model"]);a!=null&&f(o,["model"],km(l,a));const u=r(t,["config"]);return u!=null&&HT(u,o),o}function PT(l,t){const o={},a=r(t,["name"]);return a!=null&&f(o,["_url","name"],mn(l,a)),o}function OT(l,t){const o={},a=r(t,["name"]);return a!=null&&f(o,["_url","name"],mn(l,a)),o}function YT(l){const t={},o=r(l,["sdkHttpResponse"]);return o!=null&&f(t,["sdkHttpResponse"],o),t}function JT(l){const t={},o=r(l,["sdkHttpResponse"]);return o!=null&&f(t,["sdkHttpResponse"],o),t}function FT(l){const t={};if(r(l,["displayName"])!==void 0)throw new Error("displayName parameter is not supported in Gemini API.");const o=r(l,["fileUri"]);o!=null&&f(t,["fileUri"],o);const a=r(l,["mimeType"]);return a!=null&&f(t,["mimeType"],a),t}function KT(l){const t={};if(r(l,["behavior"])!==void 0)throw new Error("behavior parameter is not supported in Vertex AI.");const o=r(l,["description"]);o!=null&&f(t,["description"],o);const a=r(l,["name"]);a!=null&&f(t,["name"],a);const u=r(l,["parameters"]);u!=null&&f(t,["parameters"],u);const d=r(l,["parametersJsonSchema"]);d!=null&&f(t,["parametersJsonSchema"],d);const m=r(l,["response"]);m!=null&&f(t,["response"],m);const g=r(l,["responseJsonSchema"]);return g!=null&&f(t,["responseJsonSchema"],g),t}function QT(l,t){const o={},a=r(t,["name"]);return a!=null&&f(o,["_url","name"],mn(l,a)),o}function XT(l,t){const o={},a=r(t,["name"]);return a!=null&&f(o,["_url","name"],mn(l,a)),o}function ZT(l){const t={};if(r(l,["authConfig"])!==void 0)throw new Error("authConfig parameter is not supported in Gemini API.");const o=r(l,["enableWidget"]);return o!=null&&f(t,["enableWidget"],o),t}function $T(l){const t={},o=r(l,["timeRangeFilter"]);if(o!=null&&f(t,["timeRangeFilter"],o),r(l,["excludeDomains"])!==void 0)throw new Error("excludeDomains parameter is not supported in Gemini API.");return t}function WT(l,t){const o={},a=r(l,["pageSize"]);t!==void 0&&a!=null&&f(t,["_query","pageSize"],a);const u=r(l,["pageToken"]);return t!==void 0&&u!=null&&f(t,["_query","pageToken"],u),o}function jT(l,t){const o={},a=r(l,["pageSize"]);t!==void 0&&a!=null&&f(t,["_query","pageSize"],a);const u=r(l,["pageToken"]);return t!==void 0&&u!=null&&f(t,["_query","pageToken"],u),o}function eS(l){const t={},o=r(l,["config"]);return o!=null&&WT(o,t),t}function tS(l){const t={},o=r(l,["config"]);return o!=null&&jT(o,t),t}function nS(l){const t={},o=r(l,["sdkHttpResponse"]);o!=null&&f(t,["sdkHttpResponse"],o);const a=r(l,["nextPageToken"]);a!=null&&f(t,["nextPageToken"],a);const u=r(l,["cachedContents"]);if(u!=null){let d=u;Array.isArray(d)&&(d=d.map(m=>m)),f(t,["cachedContents"],d)}return t}function lS(l){const t={},o=r(l,["sdkHttpResponse"]);o!=null&&f(t,["sdkHttpResponse"],o);const a=r(l,["nextPageToken"]);a!=null&&f(t,["nextPageToken"],a);const u=r(l,["cachedContents"]);if(u!=null){let d=u;Array.isArray(d)&&(d=d.map(m=>m)),f(t,["cachedContents"],d)}return t}function iS(l){const t={},o=r(l,["videoMetadata"]);o!=null&&f(t,["videoMetadata"],o);const a=r(l,["thought"]);a!=null&&f(t,["thought"],a);const u=r(l,["inlineData"]);u!=null&&f(t,["inlineData"],zT(u));const d=r(l,["fileData"]);d!=null&&f(t,["fileData"],FT(d));const m=r(l,["thoughtSignature"]);m!=null&&f(t,["thoughtSignature"],m);const g=r(l,["functionCall"]);g!=null&&f(t,["functionCall"],g);const y=r(l,["codeExecutionResult"]);y!=null&&f(t,["codeExecutionResult"],y);const h=r(l,["executableCode"]);h!=null&&f(t,["executableCode"],h);const v=r(l,["functionResponse"]);v!=null&&f(t,["functionResponse"],v);const S=r(l,["text"]);return S!=null&&f(t,["text"],S),t}function oS(l){const t={},o=r(l,["functionDeclarations"]);if(o!=null){let h=o;Array.isArray(h)&&(h=h.map(v=>v)),f(t,["functionDeclarations"],h)}if(r(l,["retrieval"])!==void 0)throw new Error("retrieval parameter is not supported in Gemini API.");const a=r(l,["googleSearch"]);a!=null&&f(t,["googleSearch"],$T(a));const u=r(l,["googleSearchRetrieval"]);if(u!=null&&f(t,["googleSearchRetrieval"],u),r(l,["enterpriseWebSearch"])!==void 0)throw new Error("enterpriseWebSearch parameter is not supported in Gemini API.");const d=r(l,["googleMaps"]);d!=null&&f(t,["googleMaps"],ZT(d));const m=r(l,["urlContext"]);m!=null&&f(t,["urlContext"],m);const g=r(l,["computerUse"]);g!=null&&f(t,["computerUse"],g);const y=r(l,["codeExecution"]);return y!=null&&f(t,["codeExecution"],y),t}function aS(l){const t={},o=r(l,["functionDeclarations"]);if(o!=null){let S=o;Array.isArray(S)&&(S=S.map(E=>KT(E))),f(t,["functionDeclarations"],S)}const a=r(l,["retrieval"]);a!=null&&f(t,["retrieval"],a);const u=r(l,["googleSearch"]);u!=null&&f(t,["googleSearch"],u);const d=r(l,["googleSearchRetrieval"]);d!=null&&f(t,["googleSearchRetrieval"],d);const m=r(l,["enterpriseWebSearch"]);m!=null&&f(t,["enterpriseWebSearch"],m);const g=r(l,["googleMaps"]);g!=null&&f(t,["googleMaps"],g);const y=r(l,["urlContext"]);y!=null&&f(t,["urlContext"],y);const h=r(l,["computerUse"]);h!=null&&f(t,["computerUse"],h);const v=r(l,["codeExecution"]);return v!=null&&f(t,["codeExecution"],v),t}function sS(l,t){const o={},a=r(l,["ttl"]);t!==void 0&&a!=null&&f(t,["ttl"],a);const u=r(l,["expireTime"]);return t!==void 0&&u!=null&&f(t,["expireTime"],u),o}function uS(l,t){const o={},a=r(l,["ttl"]);t!==void 0&&a!=null&&f(t,["ttl"],a);const u=r(l,["expireTime"]);return t!==void 0&&u!=null&&f(t,["expireTime"],u),o}function rS(l,t){const o={},a=r(t,["name"]);a!=null&&f(o,["_url","name"],mn(l,a));const u=r(t,["config"]);return u!=null&&sS(u,o),o}function cS(l,t){const o={},a=r(t,["name"]);a!=null&&f(o,["_url","name"],mn(l,a));const u=r(t,["config"]);return u!=null&&uS(u,o),o}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */class fS extends cl{constructor(t){super(),this.apiClient=t,this.list=async(o={})=>new oo(ul.PAGED_ITEM_CACHED_CONTENTS,a=>this.listInternal(a),await this.listInternal(o),o)}async create(t){var o,a,u,d;let m,g="",y={};if(this.apiClient.isVertexAI()){const h=BT(this.apiClient,t);return g=Z("cachedContents",h._url),y=h._query,delete h._url,delete h._query,m=this.apiClient.request({path:g,queryParams:y,body:JSON.stringify(h),httpMethod:"POST",httpOptions:(o=t.config)===null||o===void 0?void 0:o.httpOptions,abortSignal:(a=t.config)===null||a===void 0?void 0:a.abortSignal}).then(v=>v.json()),m.then(v=>v)}else{const h=VT(this.apiClient,t);return g=Z("cachedContents",h._url),y=h._query,delete h._url,delete h._query,m=this.apiClient.request({path:g,queryParams:y,body:JSON.stringify(h),httpMethod:"POST",httpOptions:(u=t.config)===null||u===void 0?void 0:u.httpOptions,abortSignal:(d=t.config)===null||d===void 0?void 0:d.abortSignal}).then(v=>v.json()),m.then(v=>v)}}async get(t){var o,a,u,d;let m,g="",y={};if(this.apiClient.isVertexAI()){const h=XT(this.apiClient,t);return g=Z("{name}",h._url),y=h._query,delete h._url,delete h._query,m=this.apiClient.request({path:g,queryParams:y,body:JSON.stringify(h),httpMethod:"GET",httpOptions:(o=t.config)===null||o===void 0?void 0:o.httpOptions,abortSignal:(a=t.config)===null||a===void 0?void 0:a.abortSignal}).then(v=>v.json()),m.then(v=>v)}else{const h=QT(this.apiClient,t);return g=Z("{name}",h._url),y=h._query,delete h._url,delete h._query,m=this.apiClient.request({path:g,queryParams:y,body:JSON.stringify(h),httpMethod:"GET",httpOptions:(u=t.config)===null||u===void 0?void 0:u.httpOptions,abortSignal:(d=t.config)===null||d===void 0?void 0:d.abortSignal}).then(v=>v.json()),m.then(v=>v)}}async delete(t){var o,a,u,d;let m,g="",y={};if(this.apiClient.isVertexAI()){const h=OT(this.apiClient,t);return g=Z("{name}",h._url),y=h._query,delete h._url,delete h._query,m=this.apiClient.request({path:g,queryParams:y,body:JSON.stringify(h),httpMethod:"DELETE",httpOptions:(o=t.config)===null||o===void 0?void 0:o.httpOptions,abortSignal:(a=t.config)===null||a===void 0?void 0:a.abortSignal}).then(v=>v.json().then(S=>{const E=S;return E.sdkHttpResponse={headers:v.headers},E})),m.then(v=>{const S=JT(v),E=new lm;return Object.assign(E,S),E})}else{const h=PT(this.apiClient,t);return g=Z("{name}",h._url),y=h._query,delete h._url,delete h._query,m=this.apiClient.request({path:g,queryParams:y,body:JSON.stringify(h),httpMethod:"DELETE",httpOptions:(u=t.config)===null||u===void 0?void 0:u.httpOptions,abortSignal:(d=t.config)===null||d===void 0?void 0:d.abortSignal}).then(v=>v.json().then(S=>{const E=S;return E.sdkHttpResponse={headers:v.headers},E})),m.then(v=>{const S=YT(v),E=new lm;return Object.assign(E,S),E})}}async update(t){var o,a,u,d;let m,g="",y={};if(this.apiClient.isVertexAI()){const h=cS(this.apiClient,t);return g=Z("{name}",h._url),y=h._query,delete h._url,delete h._query,m=this.apiClient.request({path:g,queryParams:y,body:JSON.stringify(h),httpMethod:"PATCH",httpOptions:(o=t.config)===null||o===void 0?void 0:o.httpOptions,abortSignal:(a=t.config)===null||a===void 0?void 0:a.abortSignal}).then(v=>v.json()),m.then(v=>v)}else{const h=rS(this.apiClient,t);return g=Z("{name}",h._url),y=h._query,delete h._url,delete h._query,m=this.apiClient.request({path:g,queryParams:y,body:JSON.stringify(h),httpMethod:"PATCH",httpOptions:(u=t.config)===null||u===void 0?void 0:u.httpOptions,abortSignal:(d=t.config)===null||d===void 0?void 0:d.abortSignal}).then(v=>v.json()),m.then(v=>v)}}async listInternal(t){var o,a,u,d;let m,g="",y={};if(this.apiClient.isVertexAI()){const h=tS(t);return g=Z("cachedContents",h._url),y=h._query,delete h._url,delete h._query,m=this.apiClient.request({path:g,queryParams:y,body:JSON.stringify(h),httpMethod:"GET",httpOptions:(o=t.config)===null||o===void 0?void 0:o.httpOptions,abortSignal:(a=t.config)===null||a===void 0?void 0:a.abortSignal}).then(v=>v.json().then(S=>{const E=S;return E.sdkHttpResponse={headers:v.headers},E})),m.then(v=>{const S=lS(v),E=new im;return Object.assign(E,S),E})}else{const h=eS(t);return g=Z("cachedContents",h._url),y=h._query,delete h._url,delete h._query,m=this.apiClient.request({path:g,queryParams:y,body:JSON.stringify(h),httpMethod:"GET",httpOptions:(u=t.config)===null||u===void 0?void 0:u.httpOptions,abortSignal:(d=t.config)===null||d===void 0?void 0:d.abortSignal}).then(v=>v.json().then(S=>{const E=S;return E.sdkHttpResponse={headers:v.headers},E})),m.then(v=>{const S=nS(v),E=new im;return Object.assign(E,S),E})}}}function fm(l){var t=typeof Symbol=="function"&&Symbol.iterator,o=t&&l[t],a=0;if(o)return o.call(l);if(l&&typeof l.length=="number")return{next:function(){return l&&a>=l.length&&(l=void 0),{value:l&&l[a++],done:!l}}};throw new TypeError(t?"Object is not iterable.":"Symbol.iterator is not defined.")}function ze(l){return this instanceof ze?(this.v=l,this):new ze(l)}function jl(l,t,o){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var a=o.apply(l,t||[]),u,d=[];return u=Object.create((typeof AsyncIterator=="function"?AsyncIterator:Object).prototype),g("next"),g("throw"),g("return",m),u[Symbol.asyncIterator]=function(){return this},u;function m(R){return function(N){return Promise.resolve(N).then(R,S)}}function g(R,N){a[R]&&(u[R]=function(z){return new Promise(function(O,P){d.push([R,z,O,P])>1||y(R,z)})},N&&(u[R]=N(u[R])))}function y(R,N){try{h(a[R](N))}catch(z){E(d[0][3],z)}}function h(R){R.value instanceof ze?Promise.resolve(R.value.v).then(v,S):E(d[0][2],R)}function v(R){y("next",R)}function S(R){y("throw",R)}function E(R,N){R(N),d.shift(),d.length&&y(d[0][0],d[0][1])}}function lo(l){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var t=l[Symbol.asyncIterator],o;return t?t.call(l):(l=typeof fm=="function"?fm(l):l[Symbol.iterator](),o={},a("next"),a("throw"),a("return"),o[Symbol.asyncIterator]=function(){return this},o);function a(d){o[d]=l[d]&&function(m){return new Promise(function(g,y){m=l[d](m),u(g,y,m.done,m.value)})}}function u(d,m,g,y){Promise.resolve(y).then(function(h){d({value:h,done:g})},m)}}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */function dS(l){var t;if(l.candidates==null||l.candidates.length===0)return!1;const o=(t=l.candidates[0])===null||t===void 0?void 0:t.content;return o===void 0?!1:Km(o)}function Km(l){if(l.parts===void 0||l.parts.length===0)return!1;for(const t of l.parts)if(t===void 0||Object.keys(t).length===0)return!1;return!0}function pS(l){if(l.length!==0){for(const t of l)if(t.role!=="user"&&t.role!=="model")throw new Error(`Role must be user or model, but got ${t.role}.`)}}function dm(l){if(l===void 0||l.length===0)return[];const t=[],o=l.length;let a=0;for(;a<o;)if(l[a].role==="user")t.push(l[a]),a++;else{const u=[];let d=!0;for(;a<o&&l[a].role==="model";)u.push(l[a]),d&&!Km(l[a])&&(d=!1),a++;d?t.push(...u):t.pop()}return t}class hS{constructor(t,o){this.modelsModule=t,this.apiClient=o}create(t){return new mS(this.apiClient,this.modelsModule,t.model,t.config,structuredClone(t.history))}}class mS{constructor(t,o,a,u={},d=[]){this.apiClient=t,this.modelsModule=o,this.model=a,this.config=u,this.history=d,this.sendPromise=Promise.resolve(),pS(d)}async sendMessage(t){var o;await this.sendPromise;const a=ot(t.message),u=this.modelsModule.generateContent({model:this.model,contents:this.getHistory(!0).concat(a),config:(o=t.config)!==null&&o!==void 0?o:this.config});return this.sendPromise=(async()=>{var d,m,g;const y=await u,h=(m=(d=y.candidates)===null||d===void 0?void 0:d[0])===null||m===void 0?void 0:m.content,v=y.automaticFunctionCallingHistory,S=this.getHistory(!0).length;let E=[];v!=null&&(E=(g=v.slice(S))!==null&&g!==void 0?g:[]);const R=h?[h]:[];this.recordHistory(a,R,E)})(),await this.sendPromise.catch(()=>{this.sendPromise=Promise.resolve()}),u}async sendMessageStream(t){var o;await this.sendPromise;const a=ot(t.message),u=this.modelsModule.generateContentStream({model:this.model,contents:this.getHistory(!0).concat(a),config:(o=t.config)!==null&&o!==void 0?o:this.config});this.sendPromise=u.then(()=>{}).catch(()=>{});const d=await u;return this.processStreamResponse(d,a)}getHistory(t=!1){const o=t?dm(this.history):this.history;return structuredClone(o)}processStreamResponse(t,o){var a,u;return jl(this,arguments,function*(){var m,g,y,h;const v=[];try{for(var S=!0,E=lo(t),R;R=yield ze(E.next()),m=R.done,!m;S=!0){h=R.value,S=!1;const N=h;if(dS(N)){const z=(u=(a=N.candidates)===null||a===void 0?void 0:a[0])===null||u===void 0?void 0:u.content;z!==void 0&&v.push(z)}yield yield ze(N)}}catch(N){g={error:N}}finally{try{!S&&!m&&(y=E.return)&&(yield ze(y.call(E)))}finally{if(g)throw g.error}}this.recordHistory(o,v)})}recordHistory(t,o,a){let u=[];o.length>0&&o.every(d=>d.role!==void 0)?u=o:u.push({role:"model",parts:[]}),a&&a.length>0?this.history.push(...dm(a)):this.history.push(t),this.history.push(...u)}}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */class za extends Error{constructor(t){super(t.message),this.name="ApiError",this.status=t.status,Object.setPrototypeOf(this,za.prototype)}}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */function gS(l){const t={},o=r(l,["file"]);return o!=null&&f(t,["file"],o),t}function yS(l){const t={},o=r(l,["sdkHttpResponse"]);return o!=null&&f(t,["sdkHttpResponse"],o),t}function vS(l){const t={},o=r(l,["name"]);return o!=null&&f(t,["_url","file"],Vm(o)),t}function TS(l){const t={},o=r(l,["sdkHttpResponse"]);return o!=null&&f(t,["sdkHttpResponse"],o),t}function SS(l){const t={},o=r(l,["name"]);return o!=null&&f(t,["_url","file"],Vm(o)),t}function ES(l,t){const o={},a=r(l,["pageSize"]);t!==void 0&&a!=null&&f(t,["_query","pageSize"],a);const u=r(l,["pageToken"]);return t!==void 0&&u!=null&&f(t,["_query","pageToken"],u),o}function _S(l){const t={},o=r(l,["config"]);return o!=null&&ES(o,t),t}function CS(l){const t={},o=r(l,["sdkHttpResponse"]);o!=null&&f(t,["sdkHttpResponse"],o);const a=r(l,["nextPageToken"]);a!=null&&f(t,["nextPageToken"],a);const u=r(l,["files"]);if(u!=null){let d=u;Array.isArray(d)&&(d=d.map(m=>m)),f(t,["files"],d)}return t}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */class AS extends cl{constructor(t){super(),this.apiClient=t,this.list=async(o={})=>new oo(ul.PAGED_ITEM_FILES,a=>this.listInternal(a),await this.listInternal(o),o)}async upload(t){if(this.apiClient.isVertexAI())throw new Error("Vertex AI does not support uploading files. You can share files through a GCS bucket.");return this.apiClient.uploadFile(t.file,t.config).then(o=>o)}async download(t){await this.apiClient.downloadFile(t)}async listInternal(t){var o,a;let u,d="",m={};if(this.apiClient.isVertexAI())throw new Error("This method is only supported by the Gemini Developer API.");{const g=_S(t);return d=Z("files",g._url),m=g._query,delete g._url,delete g._query,u=this.apiClient.request({path:d,queryParams:m,body:JSON.stringify(g),httpMethod:"GET",httpOptions:(o=t.config)===null||o===void 0?void 0:o.httpOptions,abortSignal:(a=t.config)===null||a===void 0?void 0:a.abortSignal}).then(y=>y.json().then(h=>{const v=h;return v.sdkHttpResponse={headers:y.headers},v})),u.then(y=>{const h=CS(y),v=new Lv;return Object.assign(v,h),v})}}async createInternal(t){var o,a;let u,d="",m={};if(this.apiClient.isVertexAI())throw new Error("This method is only supported by the Gemini Developer API.");{const g=gS(t);return d=Z("upload/v1beta/files",g._url),m=g._query,delete g._url,delete g._query,u=this.apiClient.request({path:d,queryParams:m,body:JSON.stringify(g),httpMethod:"POST",httpOptions:(o=t.config)===null||o===void 0?void 0:o.httpOptions,abortSignal:(a=t.config)===null||a===void 0?void 0:a.abortSignal}).then(y=>y.json()),u.then(y=>{const h=yS(y),v=new qv;return Object.assign(v,h),v})}}async get(t){var o,a;let u,d="",m={};if(this.apiClient.isVertexAI())throw new Error("This method is only supported by the Gemini Developer API.");{const g=SS(t);return d=Z("files/{file}",g._url),m=g._query,delete g._url,delete g._query,u=this.apiClient.request({path:d,queryParams:m,body:JSON.stringify(g),httpMethod:"GET",httpOptions:(o=t.config)===null||o===void 0?void 0:o.httpOptions,abortSignal:(a=t.config)===null||a===void 0?void 0:a.abortSignal}).then(y=>y.json()),u.then(y=>y)}}async delete(t){var o,a;let u,d="",m={};if(this.apiClient.isVertexAI())throw new Error("This method is only supported by the Gemini Developer API.");{const g=vS(t);return d=Z("files/{file}",g._url),m=g._query,delete g._url,delete g._query,u=this.apiClient.request({path:d,queryParams:m,body:JSON.stringify(g),httpMethod:"DELETE",httpOptions:(o=t.config)===null||o===void 0?void 0:o.httpOptions,abortSignal:(a=t.config)===null||a===void 0?void 0:a.abortSignal}).then(y=>y.json().then(h=>{const v=h;return v.sdkHttpResponse={headers:y.headers},v})),u.then(y=>{const h=TS(y),v=new zv;return Object.assign(v,h),v})}}}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */function Da(l){const t={};if(r(l,["displayName"])!==void 0)throw new Error("displayName parameter is not supported in Gemini API.");const o=r(l,["data"]);o!=null&&f(t,["data"],o);const a=r(l,["mimeType"]);return a!=null&&f(t,["mimeType"],a),t}function xS(l){const t={},o=r(l,["parts"]);if(o!=null){let u=o;Array.isArray(u)&&(u=u.map(d=>VS(d))),f(t,["parts"],u)}const a=r(l,["role"]);return a!=null&&f(t,["role"],a),t}function RS(l){const t={};if(r(l,["displayName"])!==void 0)throw new Error("displayName parameter is not supported in Gemini API.");const o=r(l,["fileUri"]);o!=null&&f(t,["fileUri"],o);const a=r(l,["mimeType"]);return a!=null&&f(t,["mimeType"],a),t}function MS(l){const t={};if(r(l,["behavior"])!==void 0)throw new Error("behavior parameter is not supported in Vertex AI.");const o=r(l,["description"]);o!=null&&f(t,["description"],o);const a=r(l,["name"]);a!=null&&f(t,["name"],a);const u=r(l,["parameters"]);u!=null&&f(t,["parameters"],u);const d=r(l,["parametersJsonSchema"]);d!=null&&f(t,["parametersJsonSchema"],d);const m=r(l,["response"]);m!=null&&f(t,["response"],m);const g=r(l,["responseJsonSchema"]);return g!=null&&f(t,["responseJsonSchema"],g),t}function NS(l){const t={},o=r(l,["modelSelectionConfig"]);o!=null&&f(t,["modelConfig"],o);const a=r(l,["audioTimestamp"]);a!=null&&f(t,["audioTimestamp"],a);const u=r(l,["candidateCount"]);u!=null&&f(t,["candidateCount"],u);const d=r(l,["enableAffectiveDialog"]);d!=null&&f(t,["enableAffectiveDialog"],d);const m=r(l,["frequencyPenalty"]);m!=null&&f(t,["frequencyPenalty"],m);const g=r(l,["logprobs"]);g!=null&&f(t,["logprobs"],g);const y=r(l,["maxOutputTokens"]);y!=null&&f(t,["maxOutputTokens"],y);const h=r(l,["mediaResolution"]);h!=null&&f(t,["mediaResolution"],h);const v=r(l,["presencePenalty"]);v!=null&&f(t,["presencePenalty"],v);const S=r(l,["responseJsonSchema"]);S!=null&&f(t,["responseJsonSchema"],S);const E=r(l,["responseLogprobs"]);E!=null&&f(t,["responseLogprobs"],E);const R=r(l,["responseMimeType"]);R!=null&&f(t,["responseMimeType"],R);const N=r(l,["responseModalities"]);N!=null&&f(t,["responseModalities"],N);const z=r(l,["responseSchema"]);z!=null&&f(t,["responseSchema"],z);const O=r(l,["routingConfig"]);O!=null&&f(t,["routingConfig"],O);const P=r(l,["seed"]);P!=null&&f(t,["seed"],P);const K=r(l,["speechConfig"]);K!=null&&f(t,["speechConfig"],Qm(K));const B=r(l,["stopSequences"]);B!=null&&f(t,["stopSequences"],B);const V=r(l,["temperature"]);V!=null&&f(t,["temperature"],V);const Q=r(l,["thinkingConfig"]);Q!=null&&f(t,["thinkingConfig"],Q);const j=r(l,["topK"]);j!=null&&f(t,["topK"],j);const J=r(l,["topP"]);if(J!=null&&f(t,["topP"],J),r(l,["enableEnhancedCivicAnswers"])!==void 0)throw new Error("enableEnhancedCivicAnswers parameter is not supported in Vertex AI.");return t}function bS(l){const t={};if(r(l,["authConfig"])!==void 0)throw new Error("authConfig parameter is not supported in Gemini API.");const o=r(l,["enableWidget"]);return o!=null&&f(t,["enableWidget"],o),t}function DS(l){const t={},o=r(l,["timeRangeFilter"]);if(o!=null&&f(t,["timeRangeFilter"],o),r(l,["excludeDomains"])!==void 0)throw new Error("excludeDomains parameter is not supported in Gemini API.");return t}function IS(l,t){const o={},a=r(l,["generationConfig"]);t!==void 0&&a!=null&&f(t,["setup","generationConfig"],a);const u=r(l,["responseModalities"]);t!==void 0&&u!=null&&f(t,["setup","generationConfig","responseModalities"],u);const d=r(l,["temperature"]);t!==void 0&&d!=null&&f(t,["setup","generationConfig","temperature"],d);const m=r(l,["topP"]);t!==void 0&&m!=null&&f(t,["setup","generationConfig","topP"],m);const g=r(l,["topK"]);t!==void 0&&g!=null&&f(t,["setup","generationConfig","topK"],g);const y=r(l,["maxOutputTokens"]);t!==void 0&&y!=null&&f(t,["setup","generationConfig","maxOutputTokens"],y);const h=r(l,["mediaResolution"]);t!==void 0&&h!=null&&f(t,["setup","generationConfig","mediaResolution"],h);const v=r(l,["seed"]);t!==void 0&&v!=null&&f(t,["setup","generationConfig","seed"],v);const S=r(l,["speechConfig"]);t!==void 0&&S!=null&&f(t,["setup","generationConfig","speechConfig"],Lr(S));const E=r(l,["thinkingConfig"]);t!==void 0&&E!=null&&f(t,["setup","generationConfig","thinkingConfig"],E);const R=r(l,["enableAffectiveDialog"]);t!==void 0&&R!=null&&f(t,["setup","generationConfig","enableAffectiveDialog"],R);const N=r(l,["systemInstruction"]);t!==void 0&&N!=null&&f(t,["setup","systemInstruction"],xS(ot(N)));const z=r(l,["tools"]);if(t!==void 0&&z!=null){let j=ni(z);Array.isArray(j)&&(j=j.map(J=>PS(ti(J)))),f(t,["setup","tools"],j)}const O=r(l,["sessionResumption"]);t!==void 0&&O!=null&&f(t,["setup","sessionResumption"],BS(O));const P=r(l,["inputAudioTranscription"]);t!==void 0&&P!=null&&f(t,["setup","inputAudioTranscription"],P);const K=r(l,["outputAudioTranscription"]);t!==void 0&&K!=null&&f(t,["setup","outputAudioTranscription"],K);const B=r(l,["realtimeInputConfig"]);t!==void 0&&B!=null&&f(t,["setup","realtimeInputConfig"],B);const V=r(l,["contextWindowCompression"]);t!==void 0&&V!=null&&f(t,["setup","contextWindowCompression"],V);const Q=r(l,["proactivity"]);return t!==void 0&&Q!=null&&f(t,["setup","proactivity"],Q),o}function wS(l,t){const o={},a=r(l,["generationConfig"]);t!==void 0&&a!=null&&f(t,["setup","generationConfig"],NS(a));const u=r(l,["responseModalities"]);t!==void 0&&u!=null&&f(t,["setup","generationConfig","responseModalities"],u);const d=r(l,["temperature"]);t!==void 0&&d!=null&&f(t,["setup","generationConfig","temperature"],d);const m=r(l,["topP"]);t!==void 0&&m!=null&&f(t,["setup","generationConfig","topP"],m);const g=r(l,["topK"]);t!==void 0&&g!=null&&f(t,["setup","generationConfig","topK"],g);const y=r(l,["maxOutputTokens"]);t!==void 0&&y!=null&&f(t,["setup","generationConfig","maxOutputTokens"],y);const h=r(l,["mediaResolution"]);t!==void 0&&h!=null&&f(t,["setup","generationConfig","mediaResolution"],h);const v=r(l,["seed"]);t!==void 0&&v!=null&&f(t,["setup","generationConfig","seed"],v);const S=r(l,["speechConfig"]);t!==void 0&&S!=null&&f(t,["setup","generationConfig","speechConfig"],Qm(Lr(S)));const E=r(l,["thinkingConfig"]);t!==void 0&&E!=null&&f(t,["setup","generationConfig","thinkingConfig"],E);const R=r(l,["enableAffectiveDialog"]);t!==void 0&&R!=null&&f(t,["setup","generationConfig","enableAffectiveDialog"],R);const N=r(l,["systemInstruction"]);t!==void 0&&N!=null&&f(t,["setup","systemInstruction"],ot(N));const z=r(l,["tools"]);if(t!==void 0&&z!=null){let j=ni(z);Array.isArray(j)&&(j=j.map(J=>OS(ti(J)))),f(t,["setup","tools"],j)}const O=r(l,["sessionResumption"]);t!==void 0&&O!=null&&f(t,["setup","sessionResumption"],O);const P=r(l,["inputAudioTranscription"]);t!==void 0&&P!=null&&f(t,["setup","inputAudioTranscription"],P);const K=r(l,["outputAudioTranscription"]);t!==void 0&&K!=null&&f(t,["setup","outputAudioTranscription"],K);const B=r(l,["realtimeInputConfig"]);t!==void 0&&B!=null&&f(t,["setup","realtimeInputConfig"],B);const V=r(l,["contextWindowCompression"]);t!==void 0&&V!=null&&f(t,["setup","contextWindowCompression"],V);const Q=r(l,["proactivity"]);return t!==void 0&&Q!=null&&f(t,["setup","proactivity"],Q),o}function US(l,t){const o={},a=r(t,["model"]);a!=null&&f(o,["setup","model"],Te(l,a));const u=r(t,["config"]);return u!=null&&f(o,["config"],IS(u,o)),o}function kS(l,t){const o={},a=r(t,["model"]);a!=null&&f(o,["setup","model"],Te(l,a));const u=r(t,["config"]);return u!=null&&f(o,["config"],wS(u,o)),o}function LS(l){const t={},o=r(l,["musicGenerationConfig"]);return o!=null&&f(t,["musicGenerationConfig"],o),t}function qS(l){const t={},o=r(l,["weightedPrompts"]);if(o!=null){let a=o;Array.isArray(a)&&(a=a.map(u=>u)),f(t,["weightedPrompts"],a)}return t}function zS(l){const t={},o=r(l,["media"]);if(o!=null){let h=Lm(o);Array.isArray(h)&&(h=h.map(v=>Da(v))),f(t,["mediaChunks"],h)}const a=r(l,["audio"]);a!=null&&f(t,["audio"],Da(zm(a)));const u=r(l,["audioStreamEnd"]);u!=null&&f(t,["audioStreamEnd"],u);const d=r(l,["video"]);d!=null&&f(t,["video"],Da(qm(d)));const m=r(l,["text"]);m!=null&&f(t,["text"],m);const g=r(l,["activityStart"]);g!=null&&f(t,["activityStart"],g);const y=r(l,["activityEnd"]);return y!=null&&f(t,["activityEnd"],y),t}function GS(l){const t={},o=r(l,["media"]);if(o!=null){let h=Lm(o);Array.isArray(h)&&(h=h.map(v=>v)),f(t,["mediaChunks"],h)}const a=r(l,["audio"]);a!=null&&f(t,["audio"],zm(a));const u=r(l,["audioStreamEnd"]);u!=null&&f(t,["audioStreamEnd"],u);const d=r(l,["video"]);d!=null&&f(t,["video"],qm(d));const m=r(l,["text"]);m!=null&&f(t,["text"],m);const g=r(l,["activityStart"]);g!=null&&f(t,["activityStart"],g);const y=r(l,["activityEnd"]);return y!=null&&f(t,["activityEnd"],y),t}function HS(l){const t={},o=r(l,["setupComplete"]);o!=null&&f(t,["setupComplete"],o);const a=r(l,["serverContent"]);a!=null&&f(t,["serverContent"],a);const u=r(l,["toolCall"]);u!=null&&f(t,["toolCall"],u);const d=r(l,["toolCallCancellation"]);d!=null&&f(t,["toolCallCancellation"],d);const m=r(l,["usageMetadata"]);m!=null&&f(t,["usageMetadata"],YS(m));const g=r(l,["goAway"]);g!=null&&f(t,["goAway"],g);const y=r(l,["sessionResumptionUpdate"]);return y!=null&&f(t,["sessionResumptionUpdate"],y),t}function VS(l){const t={},o=r(l,["videoMetadata"]);o!=null&&f(t,["videoMetadata"],o);const a=r(l,["thought"]);a!=null&&f(t,["thought"],a);const u=r(l,["inlineData"]);u!=null&&f(t,["inlineData"],Da(u));const d=r(l,["fileData"]);d!=null&&f(t,["fileData"],RS(d));const m=r(l,["thoughtSignature"]);m!=null&&f(t,["thoughtSignature"],m);const g=r(l,["functionCall"]);g!=null&&f(t,["functionCall"],g);const y=r(l,["codeExecutionResult"]);y!=null&&f(t,["codeExecutionResult"],y);const h=r(l,["executableCode"]);h!=null&&f(t,["executableCode"],h);const v=r(l,["functionResponse"]);v!=null&&f(t,["functionResponse"],v);const S=r(l,["text"]);return S!=null&&f(t,["text"],S),t}function BS(l){const t={},o=r(l,["handle"]);if(o!=null&&f(t,["handle"],o),r(l,["transparent"])!==void 0)throw new Error("transparent parameter is not supported in Gemini API.");return t}function Qm(l){const t={},o=r(l,["voiceConfig"]);if(o!=null&&f(t,["voiceConfig"],o),r(l,["multiSpeakerVoiceConfig"])!==void 0)throw new Error("multiSpeakerVoiceConfig parameter is not supported in Vertex AI.");const a=r(l,["languageCode"]);return a!=null&&f(t,["languageCode"],a),t}function PS(l){const t={},o=r(l,["functionDeclarations"]);if(o!=null){let h=o;Array.isArray(h)&&(h=h.map(v=>v)),f(t,["functionDeclarations"],h)}if(r(l,["retrieval"])!==void 0)throw new Error("retrieval parameter is not supported in Gemini API.");const a=r(l,["googleSearch"]);a!=null&&f(t,["googleSearch"],DS(a));const u=r(l,["googleSearchRetrieval"]);if(u!=null&&f(t,["googleSearchRetrieval"],u),r(l,["enterpriseWebSearch"])!==void 0)throw new Error("enterpriseWebSearch parameter is not supported in Gemini API.");const d=r(l,["googleMaps"]);d!=null&&f(t,["googleMaps"],bS(d));const m=r(l,["urlContext"]);m!=null&&f(t,["urlContext"],m);const g=r(l,["computerUse"]);g!=null&&f(t,["computerUse"],g);const y=r(l,["codeExecution"]);return y!=null&&f(t,["codeExecution"],y),t}function OS(l){const t={},o=r(l,["functionDeclarations"]);if(o!=null){let S=o;Array.isArray(S)&&(S=S.map(E=>MS(E))),f(t,["functionDeclarations"],S)}const a=r(l,["retrieval"]);a!=null&&f(t,["retrieval"],a);const u=r(l,["googleSearch"]);u!=null&&f(t,["googleSearch"],u);const d=r(l,["googleSearchRetrieval"]);d!=null&&f(t,["googleSearchRetrieval"],d);const m=r(l,["enterpriseWebSearch"]);m!=null&&f(t,["enterpriseWebSearch"],m);const g=r(l,["googleMaps"]);g!=null&&f(t,["googleMaps"],g);const y=r(l,["urlContext"]);y!=null&&f(t,["urlContext"],y);const h=r(l,["computerUse"]);h!=null&&f(t,["computerUse"],h);const v=r(l,["codeExecution"]);return v!=null&&f(t,["codeExecution"],v),t}function YS(l){const t={},o=r(l,["promptTokenCount"]);o!=null&&f(t,["promptTokenCount"],o);const a=r(l,["cachedContentTokenCount"]);a!=null&&f(t,["cachedContentTokenCount"],a);const u=r(l,["candidatesTokenCount"]);u!=null&&f(t,["responseTokenCount"],u);const d=r(l,["toolUsePromptTokenCount"]);d!=null&&f(t,["toolUsePromptTokenCount"],d);const m=r(l,["thoughtsTokenCount"]);m!=null&&f(t,["thoughtsTokenCount"],m);const g=r(l,["totalTokenCount"]);g!=null&&f(t,["totalTokenCount"],g);const y=r(l,["promptTokensDetails"]);if(y!=null){let R=y;Array.isArray(R)&&(R=R.map(N=>N)),f(t,["promptTokensDetails"],R)}const h=r(l,["cacheTokensDetails"]);if(h!=null){let R=h;Array.isArray(R)&&(R=R.map(N=>N)),f(t,["cacheTokensDetails"],R)}const v=r(l,["candidatesTokensDetails"]);if(v!=null){let R=v;Array.isArray(R)&&(R=R.map(N=>N)),f(t,["responseTokensDetails"],R)}const S=r(l,["toolUsePromptTokensDetails"]);if(S!=null){let R=S;Array.isArray(R)&&(R=R.map(N=>N)),f(t,["toolUsePromptTokensDetails"],R)}const E=r(l,["trafficType"]);return E!=null&&f(t,["trafficType"],E),t}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */function JS(l){const t={};if(r(l,["displayName"])!==void 0)throw new Error("displayName parameter is not supported in Gemini API.");const o=r(l,["data"]);o!=null&&f(t,["data"],o);const a=r(l,["mimeType"]);return a!=null&&f(t,["mimeType"],a),t}function FS(l){const t={},o=r(l,["content"]);o!=null&&f(t,["content"],o);const a=r(l,["citationMetadata"]);a!=null&&f(t,["citationMetadata"],KS(a));const u=r(l,["tokenCount"]);u!=null&&f(t,["tokenCount"],u);const d=r(l,["finishReason"]);d!=null&&f(t,["finishReason"],d);const m=r(l,["urlContextMetadata"]);m!=null&&f(t,["urlContextMetadata"],m);const g=r(l,["avgLogprobs"]);g!=null&&f(t,["avgLogprobs"],g);const y=r(l,["groundingMetadata"]);y!=null&&f(t,["groundingMetadata"],y);const h=r(l,["index"]);h!=null&&f(t,["index"],h);const v=r(l,["logprobsResult"]);v!=null&&f(t,["logprobsResult"],v);const S=r(l,["safetyRatings"]);if(S!=null){let E=S;Array.isArray(E)&&(E=E.map(R=>R)),f(t,["safetyRatings"],E)}return t}function KS(l){const t={},o=r(l,["citationSources"]);if(o!=null){let a=o;Array.isArray(a)&&(a=a.map(u=>u)),f(t,["citations"],a)}return t}function QS(l,t){const o={},a=r(t,["model"]);a!=null&&f(o,["_url","model"],Te(l,a));const u=r(t,["contents"]);if(u!=null){let d=Gt(u);Array.isArray(d)&&(d=d.map(m=>m)),f(o,["contents"],d)}return o}function XS(l){const t={},o=r(l,["sdkHttpResponse"]);o!=null&&f(t,["sdkHttpResponse"],o);const a=r(l,["tokensInfo"]);if(a!=null){let u=a;Array.isArray(u)&&(u=u.map(d=>d)),f(t,["tokensInfo"],u)}return t}function ZS(l){const t={},o=r(l,["values"]);o!=null&&f(t,["values"],o);const a=r(l,["statistics"]);return a!=null&&f(t,["statistics"],$S(a)),t}function $S(l){const t={},o=r(l,["truncated"]);o!=null&&f(t,["truncated"],o);const a=r(l,["token_count"]);return a!=null&&f(t,["tokenCount"],a),t}function Ga(l){const t={},o=r(l,["parts"]);if(o!=null){let u=o;Array.isArray(u)&&(u=u.map(d=>n_(d))),f(t,["parts"],u)}const a=r(l,["role"]);return a!=null&&f(t,["role"],a),t}function WS(l){const t={},o=r(l,["controlType"]);o!=null&&f(t,["controlType"],o);const a=r(l,["enableControlImageComputation"]);return a!=null&&f(t,["computeControl"],a),t}function jS(l){const t={};if(r(l,["systemInstruction"])!==void 0)throw new Error("systemInstruction parameter is not supported in Gemini API.");if(r(l,["tools"])!==void 0)throw new Error("tools parameter is not supported in Gemini API.");if(r(l,["generationConfig"])!==void 0)throw new Error("generationConfig parameter is not supported in Gemini API.");return t}function eE(l,t){const o={},a=r(l,["systemInstruction"]);t!==void 0&&a!=null&&f(t,["systemInstruction"],ot(a));const u=r(l,["tools"]);if(t!==void 0&&u!=null){let m=u;Array.isArray(m)&&(m=m.map(g=>jm(g))),f(t,["tools"],m)}const d=r(l,["generationConfig"]);return t!==void 0&&d!=null&&f(t,["generationConfig"],OE(d)),o}function tE(l,t){const o={},a=r(t,["model"]);a!=null&&f(o,["_url","model"],Te(l,a));const u=r(t,["contents"]);if(u!=null){let m=Gt(u);Array.isArray(m)&&(m=m.map(g=>Ga(g))),f(o,["contents"],m)}const d=r(t,["config"]);return d!=null&&jS(d),o}function nE(l,t){const o={},a=r(t,["model"]);a!=null&&f(o,["_url","model"],Te(l,a));const u=r(t,["contents"]);if(u!=null){let m=Gt(u);Array.isArray(m)&&(m=m.map(g=>g)),f(o,["contents"],m)}const d=r(t,["config"]);return d!=null&&eE(d,o),o}function lE(l){const t={},o=r(l,["sdkHttpResponse"]);o!=null&&f(t,["sdkHttpResponse"],o);const a=r(l,["totalTokens"]);a!=null&&f(t,["totalTokens"],a);const u=r(l,["cachedContentTokenCount"]);return u!=null&&f(t,["cachedContentTokenCount"],u),t}function iE(l){const t={},o=r(l,["sdkHttpResponse"]);o!=null&&f(t,["sdkHttpResponse"],o);const a=r(l,["totalTokens"]);return a!=null&&f(t,["totalTokens"],a),t}function oE(l,t){const o={},a=r(t,["model"]);return a!=null&&f(o,["_url","name"],Te(l,a)),o}function aE(l,t){const o={},a=r(t,["model"]);return a!=null&&f(o,["_url","name"],Te(l,a)),o}function sE(l){const t={},o=r(l,["sdkHttpResponse"]);return o!=null&&f(t,["sdkHttpResponse"],o),t}function uE(l){const t={},o=r(l,["sdkHttpResponse"]);return o!=null&&f(t,["sdkHttpResponse"],o),t}function rE(l,t){const o={},a=r(l,["outputGcsUri"]);t!==void 0&&a!=null&&f(t,["parameters","storageUri"],a);const u=r(l,["negativePrompt"]);t!==void 0&&u!=null&&f(t,["parameters","negativePrompt"],u);const d=r(l,["numberOfImages"]);t!==void 0&&d!=null&&f(t,["parameters","sampleCount"],d);const m=r(l,["aspectRatio"]);t!==void 0&&m!=null&&f(t,["parameters","aspectRatio"],m);const g=r(l,["guidanceScale"]);t!==void 0&&g!=null&&f(t,["parameters","guidanceScale"],g);const y=r(l,["seed"]);t!==void 0&&y!=null&&f(t,["parameters","seed"],y);const h=r(l,["safetyFilterLevel"]);t!==void 0&&h!=null&&f(t,["parameters","safetySetting"],h);const v=r(l,["personGeneration"]);t!==void 0&&v!=null&&f(t,["parameters","personGeneration"],v);const S=r(l,["includeSafetyAttributes"]);t!==void 0&&S!=null&&f(t,["parameters","includeSafetyAttributes"],S);const E=r(l,["includeRaiReason"]);t!==void 0&&E!=null&&f(t,["parameters","includeRaiReason"],E);const R=r(l,["language"]);t!==void 0&&R!=null&&f(t,["parameters","language"],R);const N=r(l,["outputMimeType"]);t!==void 0&&N!=null&&f(t,["parameters","outputOptions","mimeType"],N);const z=r(l,["outputCompressionQuality"]);t!==void 0&&z!=null&&f(t,["parameters","outputOptions","compressionQuality"],z);const O=r(l,["addWatermark"]);t!==void 0&&O!=null&&f(t,["parameters","addWatermark"],O);const P=r(l,["labels"]);t!==void 0&&P!=null&&f(t,["labels"],P);const K=r(l,["editMode"]);t!==void 0&&K!=null&&f(t,["parameters","editMode"],K);const B=r(l,["baseSteps"]);return t!==void 0&&B!=null&&f(t,["parameters","editConfig","baseSteps"],B),o}function cE(l,t){const o={},a=r(t,["model"]);a!=null&&f(o,["_url","model"],Te(l,a));const u=r(t,["prompt"]);u!=null&&f(o,["instances[0]","prompt"],u);const d=r(t,["referenceImages"]);if(d!=null){let g=d;Array.isArray(g)&&(g=g.map(y=>u_(y))),f(o,["instances[0]","referenceImages"],g)}const m=r(t,["config"]);return m!=null&&rE(m,o),o}function fE(l){const t={},o=r(l,["sdkHttpResponse"]);o!=null&&f(t,["sdkHttpResponse"],o);const a=r(l,["predictions"]);if(a!=null){let u=a;Array.isArray(u)&&(u=u.map(d=>Ha(d))),f(t,["generatedImages"],u)}return t}function dE(l,t){const o={},a=r(l,["taskType"]);t!==void 0&&a!=null&&f(t,["requests[]","taskType"],a);const u=r(l,["title"]);t!==void 0&&u!=null&&f(t,["requests[]","title"],u);const d=r(l,["outputDimensionality"]);if(t!==void 0&&d!=null&&f(t,["requests[]","outputDimensionality"],d),r(l,["mimeType"])!==void 0)throw new Error("mimeType parameter is not supported in Gemini API.");if(r(l,["autoTruncate"])!==void 0)throw new Error("autoTruncate parameter is not supported in Gemini API.");return o}function pE(l,t){const o={},a=r(l,["taskType"]);t!==void 0&&a!=null&&f(t,["instances[]","task_type"],a);const u=r(l,["title"]);t!==void 0&&u!=null&&f(t,["instances[]","title"],u);const d=r(l,["outputDimensionality"]);t!==void 0&&d!=null&&f(t,["parameters","outputDimensionality"],d);const m=r(l,["mimeType"]);t!==void 0&&m!=null&&f(t,["instances[]","mimeType"],m);const g=r(l,["autoTruncate"]);return t!==void 0&&g!=null&&f(t,["parameters","autoTruncate"],g),o}function hE(l,t){const o={},a=r(t,["model"]);a!=null&&f(o,["_url","model"],Te(l,a));const u=r(t,["contents"]);if(u!=null){let g=wr(l,u);Array.isArray(g)&&(g=g.map(y=>y)),f(o,["requests[]","content"],g)}const d=r(t,["config"]);d!=null&&dE(d,o);const m=r(t,["model"]);return m!==void 0&&f(o,["requests[]","model"],Te(l,m)),o}function mE(l,t){const o={},a=r(t,["model"]);a!=null&&f(o,["_url","model"],Te(l,a));const u=r(t,["contents"]);if(u!=null){let m=wr(l,u);Array.isArray(m)&&(m=m.map(g=>g)),f(o,["instances[]","content"],m)}const d=r(t,["config"]);return d!=null&&pE(d,o),o}function gE(l){const t={},o=r(l,["sdkHttpResponse"]);o!=null&&f(t,["sdkHttpResponse"],o);const a=r(l,["embeddings"]);if(a!=null){let d=a;Array.isArray(d)&&(d=d.map(m=>m)),f(t,["embeddings"],d)}const u=r(l,["metadata"]);return u!=null&&f(t,["metadata"],u),t}function yE(l){const t={},o=r(l,["sdkHttpResponse"]);o!=null&&f(t,["sdkHttpResponse"],o);const a=r(l,["predictions[]","embeddings"]);if(a!=null){let d=a;Array.isArray(d)&&(d=d.map(m=>ZS(m))),f(t,["embeddings"],d)}const u=r(l,["metadata"]);return u!=null&&f(t,["metadata"],u),t}function vE(l){const t={},o=r(l,["endpoint"]);o!=null&&f(t,["name"],o);const a=r(l,["deployedModelId"]);return a!=null&&f(t,["deployedModelId"],a),t}function TE(l){const t={};if(r(l,["displayName"])!==void 0)throw new Error("displayName parameter is not supported in Gemini API.");const o=r(l,["fileUri"]);o!=null&&f(t,["fileUri"],o);const a=r(l,["mimeType"]);return a!=null&&f(t,["mimeType"],a),t}function SE(l){const t={};if(r(l,["behavior"])!==void 0)throw new Error("behavior parameter is not supported in Vertex AI.");const o=r(l,["description"]);o!=null&&f(t,["description"],o);const a=r(l,["name"]);a!=null&&f(t,["name"],a);const u=r(l,["parameters"]);u!=null&&f(t,["parameters"],u);const d=r(l,["parametersJsonSchema"]);d!=null&&f(t,["parametersJsonSchema"],d);const m=r(l,["response"]);m!=null&&f(t,["response"],m);const g=r(l,["responseJsonSchema"]);return g!=null&&f(t,["responseJsonSchema"],g),t}function EE(l,t,o){const a={},u=r(t,["systemInstruction"]);o!==void 0&&u!=null&&f(o,["systemInstruction"],Ga(ot(u)));const d=r(t,["temperature"]);d!=null&&f(a,["temperature"],d);const m=r(t,["topP"]);m!=null&&f(a,["topP"],m);const g=r(t,["topK"]);g!=null&&f(a,["topK"],g);const y=r(t,["candidateCount"]);y!=null&&f(a,["candidateCount"],y);const h=r(t,["maxOutputTokens"]);h!=null&&f(a,["maxOutputTokens"],h);const v=r(t,["stopSequences"]);v!=null&&f(a,["stopSequences"],v);const S=r(t,["responseLogprobs"]);S!=null&&f(a,["responseLogprobs"],S);const E=r(t,["logprobs"]);E!=null&&f(a,["logprobs"],E);const R=r(t,["presencePenalty"]);R!=null&&f(a,["presencePenalty"],R);const N=r(t,["frequencyPenalty"]);N!=null&&f(a,["frequencyPenalty"],N);const z=r(t,["seed"]);z!=null&&f(a,["seed"],z);const O=r(t,["responseMimeType"]);O!=null&&f(a,["responseMimeType"],O);const P=r(t,["responseSchema"]);P!=null&&f(a,["responseSchema"],Ur(P));const K=r(t,["responseJsonSchema"]);if(K!=null&&f(a,["responseJsonSchema"],K),r(t,["routingConfig"])!==void 0)throw new Error("routingConfig parameter is not supported in Gemini API.");if(r(t,["modelSelectionConfig"])!==void 0)throw new Error("modelSelectionConfig parameter is not supported in Gemini API.");const B=r(t,["safetySettings"]);if(o!==void 0&&B!=null){let ue=B;Array.isArray(ue)&&(ue=ue.map(Xe=>r_(Xe))),f(o,["safetySettings"],ue)}const V=r(t,["tools"]);if(o!==void 0&&V!=null){let ue=ni(V);Array.isArray(ue)&&(ue=ue.map(Xe=>m_(ti(Xe)))),f(o,["tools"],ue)}const Q=r(t,["toolConfig"]);if(o!==void 0&&Q!=null&&f(o,["toolConfig"],Q),r(t,["labels"])!==void 0)throw new Error("labels parameter is not supported in Gemini API.");const j=r(t,["cachedContent"]);o!==void 0&&j!=null&&f(o,["cachedContent"],mn(l,j));const J=r(t,["responseModalities"]);J!=null&&f(a,["responseModalities"],J);const ge=r(t,["mediaResolution"]);ge!=null&&f(a,["mediaResolution"],ge);const te=r(t,["speechConfig"]);if(te!=null&&f(a,["speechConfig"],kr(te)),r(t,["audioTimestamp"])!==void 0)throw new Error("audioTimestamp parameter is not supported in Gemini API.");const de=r(t,["thinkingConfig"]);de!=null&&f(a,["thinkingConfig"],de);const ke=r(t,["imageConfig"]);return ke!=null&&f(a,["imageConfig"],ke),a}function _E(l,t,o){const a={},u=r(t,["systemInstruction"]);o!==void 0&&u!=null&&f(o,["systemInstruction"],ot(u));const d=r(t,["temperature"]);d!=null&&f(a,["temperature"],d);const m=r(t,["topP"]);m!=null&&f(a,["topP"],m);const g=r(t,["topK"]);g!=null&&f(a,["topK"],g);const y=r(t,["candidateCount"]);y!=null&&f(a,["candidateCount"],y);const h=r(t,["maxOutputTokens"]);h!=null&&f(a,["maxOutputTokens"],h);const v=r(t,["stopSequences"]);v!=null&&f(a,["stopSequences"],v);const S=r(t,["responseLogprobs"]);S!=null&&f(a,["responseLogprobs"],S);const E=r(t,["logprobs"]);E!=null&&f(a,["logprobs"],E);const R=r(t,["presencePenalty"]);R!=null&&f(a,["presencePenalty"],R);const N=r(t,["frequencyPenalty"]);N!=null&&f(a,["frequencyPenalty"],N);const z=r(t,["seed"]);z!=null&&f(a,["seed"],z);const O=r(t,["responseMimeType"]);O!=null&&f(a,["responseMimeType"],O);const P=r(t,["responseSchema"]);P!=null&&f(a,["responseSchema"],Ur(P));const K=r(t,["responseJsonSchema"]);K!=null&&f(a,["responseJsonSchema"],K);const B=r(t,["routingConfig"]);B!=null&&f(a,["routingConfig"],B);const V=r(t,["modelSelectionConfig"]);V!=null&&f(a,["modelConfig"],V);const Q=r(t,["safetySettings"]);if(o!==void 0&&Q!=null){let k=Q;Array.isArray(k)&&(k=k.map(Y=>Y)),f(o,["safetySettings"],k)}const j=r(t,["tools"]);if(o!==void 0&&j!=null){let k=ni(j);Array.isArray(k)&&(k=k.map(Y=>jm(ti(Y)))),f(o,["tools"],k)}const J=r(t,["toolConfig"]);o!==void 0&&J!=null&&f(o,["toolConfig"],J);const ge=r(t,["labels"]);o!==void 0&&ge!=null&&f(o,["labels"],ge);const te=r(t,["cachedContent"]);o!==void 0&&te!=null&&f(o,["cachedContent"],mn(l,te));const de=r(t,["responseModalities"]);de!=null&&f(a,["responseModalities"],de);const ke=r(t,["mediaResolution"]);ke!=null&&f(a,["mediaResolution"],ke);const ue=r(t,["speechConfig"]);ue!=null&&f(a,["speechConfig"],Wm(kr(ue)));const Xe=r(t,["audioTimestamp"]);Xe!=null&&f(a,["audioTimestamp"],Xe);const Mt=r(t,["thinkingConfig"]);Mt!=null&&f(a,["thinkingConfig"],Mt);const rt=r(t,["imageConfig"]);return rt!=null&&f(a,["imageConfig"],rt),a}function pm(l,t){const o={},a=r(t,["model"]);a!=null&&f(o,["_url","model"],Te(l,a));const u=r(t,["contents"]);if(u!=null){let m=Gt(u);Array.isArray(m)&&(m=m.map(g=>Ga(g))),f(o,["contents"],m)}const d=r(t,["config"]);return d!=null&&f(o,["generationConfig"],EE(l,d,o)),o}function hm(l,t){const o={},a=r(t,["model"]);a!=null&&f(o,["_url","model"],Te(l,a));const u=r(t,["contents"]);if(u!=null){let m=Gt(u);Array.isArray(m)&&(m=m.map(g=>g)),f(o,["contents"],m)}const d=r(t,["config"]);return d!=null&&f(o,["generationConfig"],_E(l,d,o)),o}function mm(l){const t={},o=r(l,["sdkHttpResponse"]);o!=null&&f(t,["sdkHttpResponse"],o);const a=r(l,["candidates"]);if(a!=null){let y=a;Array.isArray(y)&&(y=y.map(h=>FS(h))),f(t,["candidates"],y)}const u=r(l,["modelVersion"]);u!=null&&f(t,["modelVersion"],u);const d=r(l,["promptFeedback"]);d!=null&&f(t,["promptFeedback"],d);const m=r(l,["responseId"]);m!=null&&f(t,["responseId"],m);const g=r(l,["usageMetadata"]);return g!=null&&f(t,["usageMetadata"],g),t}function gm(l){const t={},o=r(l,["sdkHttpResponse"]);o!=null&&f(t,["sdkHttpResponse"],o);const a=r(l,["candidates"]);if(a!=null){let h=a;Array.isArray(h)&&(h=h.map(v=>v)),f(t,["candidates"],h)}const u=r(l,["createTime"]);u!=null&&f(t,["createTime"],u);const d=r(l,["modelVersion"]);d!=null&&f(t,["modelVersion"],d);const m=r(l,["promptFeedback"]);m!=null&&f(t,["promptFeedback"],m);const g=r(l,["responseId"]);g!=null&&f(t,["responseId"],g);const y=r(l,["usageMetadata"]);return y!=null&&f(t,["usageMetadata"],y),t}function CE(l,t){const o={};if(r(l,["outputGcsUri"])!==void 0)throw new Error("outputGcsUri parameter is not supported in Gemini API.");if(r(l,["negativePrompt"])!==void 0)throw new Error("negativePrompt parameter is not supported in Gemini API.");const a=r(l,["numberOfImages"]);t!==void 0&&a!=null&&f(t,["parameters","sampleCount"],a);const u=r(l,["aspectRatio"]);t!==void 0&&u!=null&&f(t,["parameters","aspectRatio"],u);const d=r(l,["guidanceScale"]);if(t!==void 0&&d!=null&&f(t,["parameters","guidanceScale"],d),r(l,["seed"])!==void 0)throw new Error("seed parameter is not supported in Gemini API.");const m=r(l,["safetyFilterLevel"]);t!==void 0&&m!=null&&f(t,["parameters","safetySetting"],m);const g=r(l,["personGeneration"]);t!==void 0&&g!=null&&f(t,["parameters","personGeneration"],g);const y=r(l,["includeSafetyAttributes"]);t!==void 0&&y!=null&&f(t,["parameters","includeSafetyAttributes"],y);const h=r(l,["includeRaiReason"]);t!==void 0&&h!=null&&f(t,["parameters","includeRaiReason"],h);const v=r(l,["language"]);t!==void 0&&v!=null&&f(t,["parameters","language"],v);const S=r(l,["outputMimeType"]);t!==void 0&&S!=null&&f(t,["parameters","outputOptions","mimeType"],S);const E=r(l,["outputCompressionQuality"]);if(t!==void 0&&E!=null&&f(t,["parameters","outputOptions","compressionQuality"],E),r(l,["addWatermark"])!==void 0)throw new Error("addWatermark parameter is not supported in Gemini API.");if(r(l,["labels"])!==void 0)throw new Error("labels parameter is not supported in Gemini API.");const R=r(l,["imageSize"]);if(t!==void 0&&R!=null&&f(t,["parameters","sampleImageSize"],R),r(l,["enhancePrompt"])!==void 0)throw new Error("enhancePrompt parameter is not supported in Gemini API.");return o}function AE(l,t){const o={},a=r(l,["outputGcsUri"]);t!==void 0&&a!=null&&f(t,["parameters","storageUri"],a);const u=r(l,["negativePrompt"]);t!==void 0&&u!=null&&f(t,["parameters","negativePrompt"],u);const d=r(l,["numberOfImages"]);t!==void 0&&d!=null&&f(t,["parameters","sampleCount"],d);const m=r(l,["aspectRatio"]);t!==void 0&&m!=null&&f(t,["parameters","aspectRatio"],m);const g=r(l,["guidanceScale"]);t!==void 0&&g!=null&&f(t,["parameters","guidanceScale"],g);const y=r(l,["seed"]);t!==void 0&&y!=null&&f(t,["parameters","seed"],y);const h=r(l,["safetyFilterLevel"]);t!==void 0&&h!=null&&f(t,["parameters","safetySetting"],h);const v=r(l,["personGeneration"]);t!==void 0&&v!=null&&f(t,["parameters","personGeneration"],v);const S=r(l,["includeSafetyAttributes"]);t!==void 0&&S!=null&&f(t,["parameters","includeSafetyAttributes"],S);const E=r(l,["includeRaiReason"]);t!==void 0&&E!=null&&f(t,["parameters","includeRaiReason"],E);const R=r(l,["language"]);t!==void 0&&R!=null&&f(t,["parameters","language"],R);const N=r(l,["outputMimeType"]);t!==void 0&&N!=null&&f(t,["parameters","outputOptions","mimeType"],N);const z=r(l,["outputCompressionQuality"]);t!==void 0&&z!=null&&f(t,["parameters","outputOptions","compressionQuality"],z);const O=r(l,["addWatermark"]);t!==void 0&&O!=null&&f(t,["parameters","addWatermark"],O);const P=r(l,["labels"]);t!==void 0&&P!=null&&f(t,["labels"],P);const K=r(l,["imageSize"]);t!==void 0&&K!=null&&f(t,["parameters","sampleImageSize"],K);const B=r(l,["enhancePrompt"]);return t!==void 0&&B!=null&&f(t,["parameters","enhancePrompt"],B),o}function xE(l,t){const o={},a=r(t,["model"]);a!=null&&f(o,["_url","model"],Te(l,a));const u=r(t,["prompt"]);u!=null&&f(o,["instances[0]","prompt"],u);const d=r(t,["config"]);return d!=null&&CE(d,o),o}function RE(l,t){const o={},a=r(t,["model"]);a!=null&&f(o,["_url","model"],Te(l,a));const u=r(t,["prompt"]);u!=null&&f(o,["instances[0]","prompt"],u);const d=r(t,["config"]);return d!=null&&AE(d,o),o}function ME(l){const t={},o=r(l,["sdkHttpResponse"]);o!=null&&f(t,["sdkHttpResponse"],o);const a=r(l,["predictions"]);if(a!=null){let d=a;Array.isArray(d)&&(d=d.map(m=>HE(m))),f(t,["generatedImages"],d)}const u=r(l,["positivePromptSafetyAttributes"]);return u!=null&&f(t,["positivePromptSafetyAttributes"],Zm(u)),t}function NE(l){const t={},o=r(l,["sdkHttpResponse"]);o!=null&&f(t,["sdkHttpResponse"],o);const a=r(l,["predictions"]);if(a!=null){let d=a;Array.isArray(d)&&(d=d.map(m=>Ha(m))),f(t,["generatedImages"],d)}const u=r(l,["positivePromptSafetyAttributes"]);return u!=null&&f(t,["positivePromptSafetyAttributes"],$m(u)),t}function bE(l,t){const o={},a=r(l,["numberOfVideos"]);if(t!==void 0&&a!=null&&f(t,["parameters","sampleCount"],a),r(l,["outputGcsUri"])!==void 0)throw new Error("outputGcsUri parameter is not supported in Gemini API.");if(r(l,["fps"])!==void 0)throw new Error("fps parameter is not supported in Gemini API.");const u=r(l,["durationSeconds"]);if(t!==void 0&&u!=null&&f(t,["parameters","durationSeconds"],u),r(l,["seed"])!==void 0)throw new Error("seed parameter is not supported in Gemini API.");const d=r(l,["aspectRatio"]);t!==void 0&&d!=null&&f(t,["parameters","aspectRatio"],d);const m=r(l,["resolution"]);t!==void 0&&m!=null&&f(t,["parameters","resolution"],m);const g=r(l,["personGeneration"]);if(t!==void 0&&g!=null&&f(t,["parameters","personGeneration"],g),r(l,["pubsubTopic"])!==void 0)throw new Error("pubsubTopic parameter is not supported in Gemini API.");const y=r(l,["negativePrompt"]);t!==void 0&&y!=null&&f(t,["parameters","negativePrompt"],y);const h=r(l,["enhancePrompt"]);if(t!==void 0&&h!=null&&f(t,["parameters","enhancePrompt"],h),r(l,["generateAudio"])!==void 0)throw new Error("generateAudio parameter is not supported in Gemini API.");const v=r(l,["lastFrame"]);t!==void 0&&v!=null&&f(t,["instances[0]","lastFrame"],Va(v));const S=r(l,["referenceImages"]);if(t!==void 0&&S!=null){let E=S;Array.isArray(E)&&(E=E.map(R=>N_(R))),f(t,["instances[0]","referenceImages"],E)}if(r(l,["mask"])!==void 0)throw new Error("mask parameter is not supported in Gemini API.");if(r(l,["compressionQuality"])!==void 0)throw new Error("compressionQuality parameter is not supported in Gemini API.");return o}function DE(l,t){const o={},a=r(l,["numberOfVideos"]);t!==void 0&&a!=null&&f(t,["parameters","sampleCount"],a);const u=r(l,["outputGcsUri"]);t!==void 0&&u!=null&&f(t,["parameters","storageUri"],u);const d=r(l,["fps"]);t!==void 0&&d!=null&&f(t,["parameters","fps"],d);const m=r(l,["durationSeconds"]);t!==void 0&&m!=null&&f(t,["parameters","durationSeconds"],m);const g=r(l,["seed"]);t!==void 0&&g!=null&&f(t,["parameters","seed"],g);const y=r(l,["aspectRatio"]);t!==void 0&&y!=null&&f(t,["parameters","aspectRatio"],y);const h=r(l,["resolution"]);t!==void 0&&h!=null&&f(t,["parameters","resolution"],h);const v=r(l,["personGeneration"]);t!==void 0&&v!=null&&f(t,["parameters","personGeneration"],v);const S=r(l,["pubsubTopic"]);t!==void 0&&S!=null&&f(t,["parameters","pubsubTopic"],S);const E=r(l,["negativePrompt"]);t!==void 0&&E!=null&&f(t,["parameters","negativePrompt"],E);const R=r(l,["enhancePrompt"]);t!==void 0&&R!=null&&f(t,["parameters","enhancePrompt"],R);const N=r(l,["generateAudio"]);t!==void 0&&N!=null&&f(t,["parameters","generateAudio"],N);const z=r(l,["lastFrame"]);t!==void 0&&z!=null&&f(t,["instances[0]","lastFrame"],Yt(z));const O=r(l,["referenceImages"]);if(t!==void 0&&O!=null){let B=O;Array.isArray(B)&&(B=B.map(V=>b_(V))),f(t,["instances[0]","referenceImages"],B)}const P=r(l,["mask"]);t!==void 0&&P!=null&&f(t,["instances[0]","mask"],M_(P));const K=r(l,["compressionQuality"]);return t!==void 0&&K!=null&&f(t,["parameters","compressionQuality"],K),o}function IE(l){const t={},o=r(l,["name"]);o!=null&&f(t,["name"],o);const a=r(l,["metadata"]);a!=null&&f(t,["metadata"],a);const u=r(l,["done"]);u!=null&&f(t,["done"],u);const d=r(l,["error"]);d!=null&&f(t,["error"],d);const m=r(l,["response","generateVideoResponse"]);return m!=null&&f(t,["response"],LE(m)),t}function wE(l){const t={},o=r(l,["name"]);o!=null&&f(t,["name"],o);const a=r(l,["metadata"]);a!=null&&f(t,["metadata"],a);const u=r(l,["done"]);u!=null&&f(t,["done"],u);const d=r(l,["error"]);d!=null&&f(t,["error"],d);const m=r(l,["response"]);return m!=null&&f(t,["response"],qE(m)),t}function UE(l,t){const o={},a=r(t,["model"]);a!=null&&f(o,["_url","model"],Te(l,a));const u=r(t,["prompt"]);u!=null&&f(o,["instances[0]","prompt"],u);const d=r(t,["image"]);d!=null&&f(o,["instances[0]","image"],Va(d));const m=r(t,["video"]);m!=null&&f(o,["instances[0]","video"],eg(m));const g=r(t,["source"]);g!=null&&zE(g,o);const y=r(t,["config"]);return y!=null&&bE(y,o),o}function kE(l,t){const o={},a=r(t,["model"]);a!=null&&f(o,["_url","model"],Te(l,a));const u=r(t,["prompt"]);u!=null&&f(o,["instances[0]","prompt"],u);const d=r(t,["image"]);d!=null&&f(o,["instances[0]","image"],Yt(d));const m=r(t,["video"]);m!=null&&f(o,["instances[0]","video"],tg(m));const g=r(t,["source"]);g!=null&&GE(g,o);const y=r(t,["config"]);return y!=null&&DE(y,o),o}function LE(l){const t={},o=r(l,["generatedSamples"]);if(o!=null){let d=o;Array.isArray(d)&&(d=d.map(m=>BE(m))),f(t,["generatedVideos"],d)}const a=r(l,["raiMediaFilteredCount"]);a!=null&&f(t,["raiMediaFilteredCount"],a);const u=r(l,["raiMediaFilteredReasons"]);return u!=null&&f(t,["raiMediaFilteredReasons"],u),t}function qE(l){const t={},o=r(l,["videos"]);if(o!=null){let d=o;Array.isArray(d)&&(d=d.map(m=>PE(m))),f(t,["generatedVideos"],d)}const a=r(l,["raiMediaFilteredCount"]);a!=null&&f(t,["raiMediaFilteredCount"],a);const u=r(l,["raiMediaFilteredReasons"]);return u!=null&&f(t,["raiMediaFilteredReasons"],u),t}function zE(l,t){const o={},a=r(l,["prompt"]);t!==void 0&&a!=null&&f(t,["instances[0]","prompt"],a);const u=r(l,["image"]);t!==void 0&&u!=null&&f(t,["instances[0]","image"],Va(u));const d=r(l,["video"]);return t!==void 0&&d!=null&&f(t,["instances[0]","video"],eg(d)),o}function GE(l,t){const o={},a=r(l,["prompt"]);t!==void 0&&a!=null&&f(t,["instances[0]","prompt"],a);const u=r(l,["image"]);t!==void 0&&u!=null&&f(t,["instances[0]","image"],Yt(u));const d=r(l,["video"]);return t!==void 0&&d!=null&&f(t,["instances[0]","video"],tg(d)),o}function HE(l){const t={},o=r(l,["_self"]);o!=null&&f(t,["image"],QE(o));const a=r(l,["raiFilteredReason"]);a!=null&&f(t,["raiFilteredReason"],a);const u=r(l,["_self"]);return u!=null&&f(t,["safetyAttributes"],Zm(u)),t}function Ha(l){const t={},o=r(l,["_self"]);o!=null&&f(t,["image"],Xm(o));const a=r(l,["raiFilteredReason"]);a!=null&&f(t,["raiFilteredReason"],a);const u=r(l,["_self"]);u!=null&&f(t,["safetyAttributes"],$m(u));const d=r(l,["prompt"]);return d!=null&&f(t,["enhancedPrompt"],d),t}function VE(l){const t={},o=r(l,["_self"]);o!=null&&f(t,["mask"],Xm(o));const a=r(l,["labels"]);if(a!=null){let u=a;Array.isArray(u)&&(u=u.map(d=>d)),f(t,["labels"],u)}return t}function BE(l){const t={},o=r(l,["video"]);return o!=null&&f(t,["video"],x_(o)),t}function PE(l){const t={},o=r(l,["_self"]);return o!=null&&f(t,["video"],R_(o)),t}function OE(l){const t={},o=r(l,["modelSelectionConfig"]);o!=null&&f(t,["modelConfig"],o);const a=r(l,["audioTimestamp"]);a!=null&&f(t,["audioTimestamp"],a);const u=r(l,["candidateCount"]);u!=null&&f(t,["candidateCount"],u);const d=r(l,["enableAffectiveDialog"]);d!=null&&f(t,["enableAffectiveDialog"],d);const m=r(l,["frequencyPenalty"]);m!=null&&f(t,["frequencyPenalty"],m);const g=r(l,["logprobs"]);g!=null&&f(t,["logprobs"],g);const y=r(l,["maxOutputTokens"]);y!=null&&f(t,["maxOutputTokens"],y);const h=r(l,["mediaResolution"]);h!=null&&f(t,["mediaResolution"],h);const v=r(l,["presencePenalty"]);v!=null&&f(t,["presencePenalty"],v);const S=r(l,["responseJsonSchema"]);S!=null&&f(t,["responseJsonSchema"],S);const E=r(l,["responseLogprobs"]);E!=null&&f(t,["responseLogprobs"],E);const R=r(l,["responseMimeType"]);R!=null&&f(t,["responseMimeType"],R);const N=r(l,["responseModalities"]);N!=null&&f(t,["responseModalities"],N);const z=r(l,["responseSchema"]);z!=null&&f(t,["responseSchema"],z);const O=r(l,["routingConfig"]);O!=null&&f(t,["routingConfig"],O);const P=r(l,["seed"]);P!=null&&f(t,["seed"],P);const K=r(l,["speechConfig"]);K!=null&&f(t,["speechConfig"],Wm(K));const B=r(l,["stopSequences"]);B!=null&&f(t,["stopSequences"],B);const V=r(l,["temperature"]);V!=null&&f(t,["temperature"],V);const Q=r(l,["thinkingConfig"]);Q!=null&&f(t,["thinkingConfig"],Q);const j=r(l,["topK"]);j!=null&&f(t,["topK"],j);const J=r(l,["topP"]);if(J!=null&&f(t,["topP"],J),r(l,["enableEnhancedCivicAnswers"])!==void 0)throw new Error("enableEnhancedCivicAnswers parameter is not supported in Vertex AI.");return t}function YE(l,t){const o={},a=r(t,["model"]);return a!=null&&f(o,["_url","name"],Te(l,a)),o}function JE(l,t){const o={},a=r(t,["model"]);return a!=null&&f(o,["_url","name"],Te(l,a)),o}function FE(l){const t={};if(r(l,["authConfig"])!==void 0)throw new Error("authConfig parameter is not supported in Gemini API.");const o=r(l,["enableWidget"]);return o!=null&&f(t,["enableWidget"],o),t}function KE(l){const t={},o=r(l,["timeRangeFilter"]);if(o!=null&&f(t,["timeRangeFilter"],o),r(l,["excludeDomains"])!==void 0)throw new Error("excludeDomains parameter is not supported in Gemini API.");return t}function QE(l){const t={},o=r(l,["bytesBase64Encoded"]);o!=null&&f(t,["imageBytes"],Pn(o));const a=r(l,["mimeType"]);return a!=null&&f(t,["mimeType"],a),t}function Xm(l){const t={},o=r(l,["gcsUri"]);o!=null&&f(t,["gcsUri"],o);const a=r(l,["bytesBase64Encoded"]);a!=null&&f(t,["imageBytes"],Pn(a));const u=r(l,["mimeType"]);return u!=null&&f(t,["mimeType"],u),t}function Va(l){const t={};if(r(l,["gcsUri"])!==void 0)throw new Error("gcsUri parameter is not supported in Gemini API.");const o=r(l,["imageBytes"]);o!=null&&f(t,["bytesBase64Encoded"],Pn(o));const a=r(l,["mimeType"]);return a!=null&&f(t,["mimeType"],a),t}function Yt(l){const t={},o=r(l,["gcsUri"]);o!=null&&f(t,["gcsUri"],o);const a=r(l,["imageBytes"]);a!=null&&f(t,["bytesBase64Encoded"],Pn(a));const u=r(l,["mimeType"]);return u!=null&&f(t,["mimeType"],u),t}function XE(l,t,o){const a={},u=r(t,["pageSize"]);o!==void 0&&u!=null&&f(o,["_query","pageSize"],u);const d=r(t,["pageToken"]);o!==void 0&&d!=null&&f(o,["_query","pageToken"],d);const m=r(t,["filter"]);o!==void 0&&m!=null&&f(o,["_query","filter"],m);const g=r(t,["queryBase"]);return o!==void 0&&g!=null&&f(o,["_url","models_url"],Bm(l,g)),a}function ZE(l,t,o){const a={},u=r(t,["pageSize"]);o!==void 0&&u!=null&&f(o,["_query","pageSize"],u);const d=r(t,["pageToken"]);o!==void 0&&d!=null&&f(o,["_query","pageToken"],d);const m=r(t,["filter"]);o!==void 0&&m!=null&&f(o,["_query","filter"],m);const g=r(t,["queryBase"]);return o!==void 0&&g!=null&&f(o,["_url","models_url"],Bm(l,g)),a}function $E(l,t){const o={},a=r(t,["config"]);return a!=null&&XE(l,a,o),o}function WE(l,t){const o={},a=r(t,["config"]);return a!=null&&ZE(l,a,o),o}function jE(l){const t={},o=r(l,["sdkHttpResponse"]);o!=null&&f(t,["sdkHttpResponse"],o);const a=r(l,["nextPageToken"]);a!=null&&f(t,["nextPageToken"],a);const u=r(l,["_self"]);if(u!=null){let d=Pm(u);Array.isArray(d)&&(d=d.map(m=>Sr(m))),f(t,["models"],d)}return t}function e_(l){const t={},o=r(l,["sdkHttpResponse"]);o!=null&&f(t,["sdkHttpResponse"],o);const a=r(l,["nextPageToken"]);a!=null&&f(t,["nextPageToken"],a);const u=r(l,["_self"]);if(u!=null){let d=Pm(u);Array.isArray(d)&&(d=d.map(m=>Er(m))),f(t,["models"],d)}return t}function t_(l){const t={},o=r(l,["maskMode"]);o!=null&&f(t,["maskMode"],o);const a=r(l,["segmentationClasses"]);a!=null&&f(t,["maskClasses"],a);const u=r(l,["maskDilation"]);return u!=null&&f(t,["dilation"],u),t}function Sr(l){const t={},o=r(l,["name"]);o!=null&&f(t,["name"],o);const a=r(l,["displayName"]);a!=null&&f(t,["displayName"],a);const u=r(l,["description"]);u!=null&&f(t,["description"],u);const d=r(l,["version"]);d!=null&&f(t,["version"],d);const m=r(l,["_self"]);m!=null&&f(t,["tunedModelInfo"],g_(m));const g=r(l,["inputTokenLimit"]);g!=null&&f(t,["inputTokenLimit"],g);const y=r(l,["outputTokenLimit"]);y!=null&&f(t,["outputTokenLimit"],y);const h=r(l,["supportedGenerationMethods"]);return h!=null&&f(t,["supportedActions"],h),t}function Er(l){const t={},o=r(l,["name"]);o!=null&&f(t,["name"],o);const a=r(l,["displayName"]);a!=null&&f(t,["displayName"],a);const u=r(l,["description"]);u!=null&&f(t,["description"],u);const d=r(l,["versionId"]);d!=null&&f(t,["version"],d);const m=r(l,["deployedModels"]);if(m!=null){let S=m;Array.isArray(S)&&(S=S.map(E=>vE(E))),f(t,["endpoints"],S)}const g=r(l,["labels"]);g!=null&&f(t,["labels"],g);const y=r(l,["_self"]);y!=null&&f(t,["tunedModelInfo"],y_(y));const h=r(l,["defaultCheckpointId"]);h!=null&&f(t,["defaultCheckpointId"],h);const v=r(l,["checkpoints"]);if(v!=null){let S=v;Array.isArray(S)&&(S=S.map(E=>E)),f(t,["checkpoints"],S)}return t}function n_(l){const t={},o=r(l,["videoMetadata"]);o!=null&&f(t,["videoMetadata"],o);const a=r(l,["thought"]);a!=null&&f(t,["thought"],a);const u=r(l,["inlineData"]);u!=null&&f(t,["inlineData"],JS(u));const d=r(l,["fileData"]);d!=null&&f(t,["fileData"],TE(d));const m=r(l,["thoughtSignature"]);m!=null&&f(t,["thoughtSignature"],m);const g=r(l,["functionCall"]);g!=null&&f(t,["functionCall"],g);const y=r(l,["codeExecutionResult"]);y!=null&&f(t,["codeExecutionResult"],y);const h=r(l,["executableCode"]);h!=null&&f(t,["executableCode"],h);const v=r(l,["functionResponse"]);v!=null&&f(t,["functionResponse"],v);const S=r(l,["text"]);return S!=null&&f(t,["text"],S),t}function l_(l){const t={},o=r(l,["productImage"]);return o!=null&&f(t,["image"],Yt(o)),t}function i_(l,t){const o={},a=r(l,["numberOfImages"]);t!==void 0&&a!=null&&f(t,["parameters","sampleCount"],a);const u=r(l,["baseSteps"]);t!==void 0&&u!=null&&f(t,["parameters","editConfig","baseSteps"],u);const d=r(l,["outputGcsUri"]);t!==void 0&&d!=null&&f(t,["parameters","storageUri"],d);const m=r(l,["seed"]);t!==void 0&&m!=null&&f(t,["parameters","seed"],m);const g=r(l,["safetyFilterLevel"]);t!==void 0&&g!=null&&f(t,["parameters","safetySetting"],g);const y=r(l,["personGeneration"]);t!==void 0&&y!=null&&f(t,["parameters","personGeneration"],y);const h=r(l,["addWatermark"]);t!==void 0&&h!=null&&f(t,["parameters","addWatermark"],h);const v=r(l,["outputMimeType"]);t!==void 0&&v!=null&&f(t,["parameters","outputOptions","mimeType"],v);const S=r(l,["outputCompressionQuality"]);t!==void 0&&S!=null&&f(t,["parameters","outputOptions","compressionQuality"],S);const E=r(l,["enhancePrompt"]);t!==void 0&&E!=null&&f(t,["parameters","enhancePrompt"],E);const R=r(l,["labels"]);return t!==void 0&&R!=null&&f(t,["labels"],R),o}function o_(l,t){const o={},a=r(t,["model"]);a!=null&&f(o,["_url","model"],Te(l,a));const u=r(t,["source"]);u!=null&&s_(u,o);const d=r(t,["config"]);return d!=null&&i_(d,o),o}function a_(l){const t={},o=r(l,["predictions"]);if(o!=null){let a=o;Array.isArray(a)&&(a=a.map(u=>Ha(u))),f(t,["generatedImages"],a)}return t}function s_(l,t){const o={},a=r(l,["prompt"]);t!==void 0&&a!=null&&f(t,["instances[0]","prompt"],a);const u=r(l,["personImage"]);t!==void 0&&u!=null&&f(t,["instances[0]","personImage","image"],Yt(u));const d=r(l,["productImages"]);if(t!==void 0&&d!=null){let m=d;Array.isArray(m)&&(m=m.map(g=>l_(g))),f(t,["instances[0]","productImages"],m)}return o}function u_(l){const t={},o=r(l,["referenceImage"]);o!=null&&f(t,["referenceImage"],Yt(o));const a=r(l,["referenceId"]);a!=null&&f(t,["referenceId"],a);const u=r(l,["referenceType"]);u!=null&&f(t,["referenceType"],u);const d=r(l,["maskImageConfig"]);d!=null&&f(t,["maskImageConfig"],t_(d));const m=r(l,["controlImageConfig"]);m!=null&&f(t,["controlImageConfig"],WS(m));const g=r(l,["styleImageConfig"]);g!=null&&f(t,["styleImageConfig"],g);const y=r(l,["subjectImageConfig"]);return y!=null&&f(t,["subjectImageConfig"],y),t}function Zm(l){const t={},o=r(l,["safetyAttributes","categories"]);o!=null&&f(t,["categories"],o);const a=r(l,["safetyAttributes","scores"]);a!=null&&f(t,["scores"],a);const u=r(l,["contentType"]);return u!=null&&f(t,["contentType"],u),t}function $m(l){const t={},o=r(l,["safetyAttributes","categories"]);o!=null&&f(t,["categories"],o);const a=r(l,["safetyAttributes","scores"]);a!=null&&f(t,["scores"],a);const u=r(l,["contentType"]);return u!=null&&f(t,["contentType"],u),t}function r_(l){const t={};if(r(l,["method"])!==void 0)throw new Error("method parameter is not supported in Gemini API.");const o=r(l,["category"]);o!=null&&f(t,["category"],o);const a=r(l,["threshold"]);return a!=null&&f(t,["threshold"],a),t}function c_(l){const t={},o=r(l,["image"]);return o!=null&&f(t,["image"],Yt(o)),t}function f_(l,t){const o={},a=r(l,["mode"]);t!==void 0&&a!=null&&f(t,["parameters","mode"],a);const u=r(l,["maxPredictions"]);t!==void 0&&u!=null&&f(t,["parameters","maxPredictions"],u);const d=r(l,["confidenceThreshold"]);t!==void 0&&d!=null&&f(t,["parameters","confidenceThreshold"],d);const m=r(l,["maskDilation"]);t!==void 0&&m!=null&&f(t,["parameters","maskDilation"],m);const g=r(l,["binaryColorThreshold"]);t!==void 0&&g!=null&&f(t,["parameters","binaryColorThreshold"],g);const y=r(l,["labels"]);return t!==void 0&&y!=null&&f(t,["labels"],y),o}function d_(l,t){const o={},a=r(t,["model"]);a!=null&&f(o,["_url","model"],Te(l,a));const u=r(t,["source"]);u!=null&&h_(u,o);const d=r(t,["config"]);return d!=null&&f_(d,o),o}function p_(l){const t={},o=r(l,["predictions"]);if(o!=null){let a=o;Array.isArray(a)&&(a=a.map(u=>VE(u))),f(t,["generatedMasks"],a)}return t}function h_(l,t){const o={},a=r(l,["prompt"]);t!==void 0&&a!=null&&f(t,["instances[0]","prompt"],a);const u=r(l,["image"]);t!==void 0&&u!=null&&f(t,["instances[0]","image"],Yt(u));const d=r(l,["scribbleImage"]);return t!==void 0&&d!=null&&f(t,["instances[0]","scribble"],c_(d)),o}function Wm(l){const t={},o=r(l,["voiceConfig"]);if(o!=null&&f(t,["voiceConfig"],o),r(l,["multiSpeakerVoiceConfig"])!==void 0)throw new Error("multiSpeakerVoiceConfig parameter is not supported in Vertex AI.");const a=r(l,["languageCode"]);return a!=null&&f(t,["languageCode"],a),t}function m_(l){const t={},o=r(l,["functionDeclarations"]);if(o!=null){let h=o;Array.isArray(h)&&(h=h.map(v=>v)),f(t,["functionDeclarations"],h)}if(r(l,["retrieval"])!==void 0)throw new Error("retrieval parameter is not supported in Gemini API.");const a=r(l,["googleSearch"]);a!=null&&f(t,["googleSearch"],KE(a));const u=r(l,["googleSearchRetrieval"]);if(u!=null&&f(t,["googleSearchRetrieval"],u),r(l,["enterpriseWebSearch"])!==void 0)throw new Error("enterpriseWebSearch parameter is not supported in Gemini API.");const d=r(l,["googleMaps"]);d!=null&&f(t,["googleMaps"],FE(d));const m=r(l,["urlContext"]);m!=null&&f(t,["urlContext"],m);const g=r(l,["computerUse"]);g!=null&&f(t,["computerUse"],g);const y=r(l,["codeExecution"]);return y!=null&&f(t,["codeExecution"],y),t}function jm(l){const t={},o=r(l,["functionDeclarations"]);if(o!=null){let S=o;Array.isArray(S)&&(S=S.map(E=>SE(E))),f(t,["functionDeclarations"],S)}const a=r(l,["retrieval"]);a!=null&&f(t,["retrieval"],a);const u=r(l,["googleSearch"]);u!=null&&f(t,["googleSearch"],u);const d=r(l,["googleSearchRetrieval"]);d!=null&&f(t,["googleSearchRetrieval"],d);const m=r(l,["enterpriseWebSearch"]);m!=null&&f(t,["enterpriseWebSearch"],m);const g=r(l,["googleMaps"]);g!=null&&f(t,["googleMaps"],g);const y=r(l,["urlContext"]);y!=null&&f(t,["urlContext"],y);const h=r(l,["computerUse"]);h!=null&&f(t,["computerUse"],h);const v=r(l,["codeExecution"]);return v!=null&&f(t,["codeExecution"],v),t}function g_(l){const t={},o=r(l,["baseModel"]);o!=null&&f(t,["baseModel"],o);const a=r(l,["createTime"]);a!=null&&f(t,["createTime"],a);const u=r(l,["updateTime"]);return u!=null&&f(t,["updateTime"],u),t}function y_(l){const t={},o=r(l,["labels","google-vertex-llm-tuning-base-model-id"]);o!=null&&f(t,["baseModel"],o);const a=r(l,["createTime"]);a!=null&&f(t,["createTime"],a);const u=r(l,["updateTime"]);return u!=null&&f(t,["updateTime"],u),t}function v_(l,t){const o={},a=r(l,["displayName"]);t!==void 0&&a!=null&&f(t,["displayName"],a);const u=r(l,["description"]);t!==void 0&&u!=null&&f(t,["description"],u);const d=r(l,["defaultCheckpointId"]);return t!==void 0&&d!=null&&f(t,["defaultCheckpointId"],d),o}function T_(l,t){const o={},a=r(l,["displayName"]);t!==void 0&&a!=null&&f(t,["displayName"],a);const u=r(l,["description"]);t!==void 0&&u!=null&&f(t,["description"],u);const d=r(l,["defaultCheckpointId"]);return t!==void 0&&d!=null&&f(t,["defaultCheckpointId"],d),o}function S_(l,t){const o={},a=r(t,["model"]);a!=null&&f(o,["_url","name"],Te(l,a));const u=r(t,["config"]);return u!=null&&v_(u,o),o}function E_(l,t){const o={},a=r(t,["model"]);a!=null&&f(o,["_url","model"],Te(l,a));const u=r(t,["config"]);return u!=null&&T_(u,o),o}function __(l,t){const o={},a=r(l,["outputGcsUri"]);t!==void 0&&a!=null&&f(t,["parameters","storageUri"],a);const u=r(l,["includeRaiReason"]);t!==void 0&&u!=null&&f(t,["parameters","includeRaiReason"],u);const d=r(l,["outputMimeType"]);t!==void 0&&d!=null&&f(t,["parameters","outputOptions","mimeType"],d);const m=r(l,["outputCompressionQuality"]);t!==void 0&&m!=null&&f(t,["parameters","outputOptions","compressionQuality"],m);const g=r(l,["enhanceInputImage"]);t!==void 0&&g!=null&&f(t,["parameters","upscaleConfig","enhanceInputImage"],g);const y=r(l,["imagePreservationFactor"]);t!==void 0&&y!=null&&f(t,["parameters","upscaleConfig","imagePreservationFactor"],y);const h=r(l,["labels"]);t!==void 0&&h!=null&&f(t,["labels"],h);const v=r(l,["numberOfImages"]);t!==void 0&&v!=null&&f(t,["parameters","sampleCount"],v);const S=r(l,["mode"]);return t!==void 0&&S!=null&&f(t,["parameters","mode"],S),o}function C_(l,t){const o={},a=r(t,["model"]);a!=null&&f(o,["_url","model"],Te(l,a));const u=r(t,["image"]);u!=null&&f(o,["instances[0]","image"],Yt(u));const d=r(t,["upscaleFactor"]);d!=null&&f(o,["parameters","upscaleConfig","upscaleFactor"],d);const m=r(t,["config"]);return m!=null&&__(m,o),o}function A_(l){const t={},o=r(l,["sdkHttpResponse"]);o!=null&&f(t,["sdkHttpResponse"],o);const a=r(l,["predictions"]);if(a!=null){let u=a;Array.isArray(u)&&(u=u.map(d=>Ha(d))),f(t,["generatedImages"],u)}return t}function x_(l){const t={},o=r(l,["uri"]);o!=null&&f(t,["uri"],o);const a=r(l,["encodedVideo"]);a!=null&&f(t,["videoBytes"],Pn(a));const u=r(l,["encoding"]);return u!=null&&f(t,["mimeType"],u),t}function R_(l){const t={},o=r(l,["gcsUri"]);o!=null&&f(t,["uri"],o);const a=r(l,["bytesBase64Encoded"]);a!=null&&f(t,["videoBytes"],Pn(a));const u=r(l,["mimeType"]);return u!=null&&f(t,["mimeType"],u),t}function M_(l){const t={},o=r(l,["image"]);o!=null&&f(t,["_self"],Yt(o));const a=r(l,["maskMode"]);return a!=null&&f(t,["maskMode"],a),t}function N_(l){const t={},o=r(l,["image"]);o!=null&&f(t,["image"],Va(o));const a=r(l,["referenceType"]);return a!=null&&f(t,["referenceType"],a),t}function b_(l){const t={},o=r(l,["image"]);o!=null&&f(t,["image"],Yt(o));const a=r(l,["referenceType"]);return a!=null&&f(t,["referenceType"],a),t}function eg(l){const t={},o=r(l,["uri"]);o!=null&&f(t,["uri"],o);const a=r(l,["videoBytes"]);a!=null&&f(t,["encodedVideo"],Pn(a));const u=r(l,["mimeType"]);return u!=null&&f(t,["encoding"],u),t}function tg(l){const t={},o=r(l,["uri"]);o!=null&&f(t,["gcsUri"],o);const a=r(l,["videoBytes"]);a!=null&&f(t,["bytesBase64Encoded"],Pn(a));const u=r(l,["mimeType"]);return u!=null&&f(t,["mimeType"],u),t}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */const D_="Content-Type",I_="X-Server-Timeout",w_="User-Agent",_r="x-goog-api-client",U_="1.27.0",k_=`google-genai-sdk/${U_}`,L_="v1beta1",q_="v1beta",ym=/^\s*data: (.*)(?:\n\n|\r\r|\r\n\r\n)/;class z_{constructor(t){var o,a;this.clientOptions=Object.assign(Object.assign({},t),{project:t.project,location:t.location,apiKey:t.apiKey,vertexai:t.vertexai});const u={};this.clientOptions.vertexai?(u.apiVersion=(o=this.clientOptions.apiVersion)!==null&&o!==void 0?o:L_,u.baseUrl=this.baseUrlFromProjectLocation(),this.normalizeAuthParameters()):(u.apiVersion=(a=this.clientOptions.apiVersion)!==null&&a!==void 0?a:q_,u.baseUrl="https://generativelanguage.googleapis.com/"),u.headers=this.getDefaultHeaders(),this.clientOptions.httpOptions=u,t.httpOptions&&(this.clientOptions.httpOptions=this.patchHttpOptions(u,t.httpOptions))}baseUrlFromProjectLocation(){return this.clientOptions.project&&this.clientOptions.location&&this.clientOptions.location!=="global"?`https://${this.clientOptions.location}-aiplatform.googleapis.com/`:"https://aiplatform.googleapis.com/"}normalizeAuthParameters(){if(this.clientOptions.project&&this.clientOptions.location){this.clientOptions.apiKey=void 0;return}this.clientOptions.project=void 0,this.clientOptions.location=void 0}isVertexAI(){var t;return(t=this.clientOptions.vertexai)!==null&&t!==void 0?t:!1}getProject(){return this.clientOptions.project}getLocation(){return this.clientOptions.location}getApiVersion(){if(this.clientOptions.httpOptions&&this.clientOptions.httpOptions.apiVersion!==void 0)return this.clientOptions.httpOptions.apiVersion;throw new Error("API version is not set.")}getBaseUrl(){if(this.clientOptions.httpOptions&&this.clientOptions.httpOptions.baseUrl!==void 0)return this.clientOptions.httpOptions.baseUrl;throw new Error("Base URL is not set.")}getRequestUrl(){return this.getRequestUrlInternal(this.clientOptions.httpOptions)}getHeaders(){if(this.clientOptions.httpOptions&&this.clientOptions.httpOptions.headers!==void 0)return this.clientOptions.httpOptions.headers;throw new Error("Headers are not set.")}getRequestUrlInternal(t){if(!t||t.baseUrl===void 0||t.apiVersion===void 0)throw new Error("HTTP options are not correctly set.");const a=[t.baseUrl.endsWith("/")?t.baseUrl.slice(0,-1):t.baseUrl];return t.apiVersion&&t.apiVersion!==""&&a.push(t.apiVersion),a.join("/")}getBaseResourcePath(){return`projects/${this.clientOptions.project}/locations/${this.clientOptions.location}`}getApiKey(){return this.clientOptions.apiKey}getWebsocketBaseUrl(){const t=this.getBaseUrl(),o=new URL(t);return o.protocol=o.protocol=="http:"?"ws":"wss",o.toString()}setBaseUrl(t){if(this.clientOptions.httpOptions)this.clientOptions.httpOptions.baseUrl=t;else throw new Error("HTTP options are not correctly set.")}constructUrl(t,o,a){const u=[this.getRequestUrlInternal(o)];return a&&u.push(this.getBaseResourcePath()),t!==""&&u.push(t),new URL(`${u.join("/")}`)}shouldPrependVertexProjectPath(t){return!(this.clientOptions.apiKey||!this.clientOptions.vertexai||t.path.startsWith("projects/")||t.httpMethod==="GET"&&t.path.startsWith("publishers/google/models"))}async request(t){let o=this.clientOptions.httpOptions;t.httpOptions&&(o=this.patchHttpOptions(this.clientOptions.httpOptions,t.httpOptions));const a=this.shouldPrependVertexProjectPath(t),u=this.constructUrl(t.path,o,a);if(t.queryParams)for(const[m,g]of Object.entries(t.queryParams))u.searchParams.append(m,String(g));let d={};if(t.httpMethod==="GET"){if(t.body&&t.body!=="{}")throw new Error("Request body should be empty for GET request, but got non empty request body")}else d.body=t.body;return d=await this.includeExtraHttpOptionsToRequestInit(d,o,u.toString(),t.abortSignal),this.unaryApiCall(u,d,t.httpMethod)}patchHttpOptions(t,o){const a=JSON.parse(JSON.stringify(t));for(const[u,d]of Object.entries(o))typeof d=="object"?a[u]=Object.assign(Object.assign({},a[u]),d):d!==void 0&&(a[u]=d);return a}async requestStream(t){let o=this.clientOptions.httpOptions;t.httpOptions&&(o=this.patchHttpOptions(this.clientOptions.httpOptions,t.httpOptions));const a=this.shouldPrependVertexProjectPath(t),u=this.constructUrl(t.path,o,a);(!u.searchParams.has("alt")||u.searchParams.get("alt")!=="sse")&&u.searchParams.set("alt","sse");let d={};return d.body=t.body,d=await this.includeExtraHttpOptionsToRequestInit(d,o,u.toString(),t.abortSignal),this.streamApiCall(u,d,t.httpMethod)}async includeExtraHttpOptionsToRequestInit(t,o,a,u){if(o&&o.timeout||u){const d=new AbortController,m=d.signal;if(o.timeout&&(o==null?void 0:o.timeout)>0){const g=setTimeout(()=>d.abort(),o.timeout);g&&typeof g.unref=="function"&&g.unref()}u&&u.addEventListener("abort",()=>{d.abort()}),t.signal=m}return o&&o.extraBody!==null&&G_(t,o.extraBody),t.headers=await this.getHeadersInternal(o,a),t}async unaryApiCall(t,o,a){return this.apiCall(t.toString(),Object.assign(Object.assign({},o),{method:a})).then(async u=>(await vm(u),new yr(u))).catch(u=>{throw u instanceof Error?u:new Error(JSON.stringify(u))})}async streamApiCall(t,o,a){return this.apiCall(t.toString(),Object.assign(Object.assign({},o),{method:a})).then(async u=>(await vm(u),this.processStreamResponse(u))).catch(u=>{throw u instanceof Error?u:new Error(JSON.stringify(u))})}processStreamResponse(t){var o;return jl(this,arguments,function*(){const u=(o=t==null?void 0:t.body)===null||o===void 0?void 0:o.getReader(),d=new TextDecoder("utf-8");if(!u)throw new Error("Response body is empty");try{let m="";for(;;){const{done:g,value:y}=yield ze(u.read());if(g){if(m.trim().length>0)throw new Error("Incomplete JSON segment at the end");break}const h=d.decode(y,{stream:!0});try{const S=JSON.parse(h);if("error"in S){const E=JSON.parse(JSON.stringify(S.error)),R=E.status,N=E.code,z=`got status: ${R}. ${JSON.stringify(S)}`;if(N>=400&&N<600)throw new za({message:z,status:N})}}catch(S){if(S.name==="ApiError")throw S}m+=h;let v=m.match(ym);for(;v;){const S=v[1];try{const E=new Response(S,{headers:t==null?void 0:t.headers,status:t==null?void 0:t.status,statusText:t==null?void 0:t.statusText});yield yield ze(new yr(E)),m=m.slice(v[0].length),v=m.match(ym)}catch(E){throw new Error(`exception parsing stream chunk ${S}. ${E}`)}}}}finally{u.releaseLock()}})}async apiCall(t,o){return fetch(t,o).catch(a=>{throw new Error(`exception ${a} sending request`)})}getDefaultHeaders(){const t={},o=k_+" "+this.clientOptions.userAgentExtra;return t[w_]=o,t[_r]=o,t[D_]="application/json",t}async getHeadersInternal(t,o){const a=new Headers;if(t&&t.headers){for(const[u,d]of Object.entries(t.headers))a.append(u,d);t.timeout&&t.timeout>0&&a.append(I_,String(Math.ceil(t.timeout/1e3)))}return await this.clientOptions.auth.addAuthHeaders(a,o),a}async uploadFile(t,o){var a;const u={};o!=null&&(u.mimeType=o.mimeType,u.name=o.name,u.displayName=o.displayName),u.name&&!u.name.startsWith("files/")&&(u.name=`files/${u.name}`);const d=this.clientOptions.uploader,m=await d.stat(t);u.sizeBytes=String(m.size);const g=(a=o==null?void 0:o.mimeType)!==null&&a!==void 0?a:m.type;if(g===void 0||g==="")throw new Error("Can not determine mimeType. Please provide mimeType in the config.");u.mimeType=g;const y=await this.fetchUploadUrl(u,o);return d.upload(t,y,this)}async downloadFile(t){await this.clientOptions.downloader.download(t,this)}async fetchUploadUrl(t,o){var a;let u={};o!=null&&o.httpOptions?u=o.httpOptions:u={apiVersion:"",headers:{"Content-Type":"application/json","X-Goog-Upload-Protocol":"resumable","X-Goog-Upload-Command":"start","X-Goog-Upload-Header-Content-Length":`${t.sizeBytes}`,"X-Goog-Upload-Header-Content-Type":`${t.mimeType}`}};const d={file:t},m=await this.request({path:Z("upload/v1beta/files",d._url),body:JSON.stringify(d),httpMethod:"POST",httpOptions:u});if(!m||!(m!=null&&m.headers))throw new Error("Server did not return an HttpResponse or the returned HttpResponse did not have headers.");const g=(a=m==null?void 0:m.headers)===null||a===void 0?void 0:a["x-goog-upload-url"];if(g===void 0)throw new Error("Failed to get upload url. Server did not return the x-google-upload-url in the headers");return g}}async function vm(l){var t;if(l===void 0)throw new Error("response is undefined");if(!l.ok){const o=l.status;let a;!((t=l.headers.get("content-type"))===null||t===void 0)&&t.includes("application/json")?a=await l.json():a={error:{message:await l.text(),code:l.status,status:l.statusText}};const u=JSON.stringify(a);throw o>=400&&o<600?new za({message:u,status:o}):new Error(u)}}function G_(l,t){if(!t||Object.keys(t).length===0)return;if(l.body instanceof Blob){console.warn("includeExtraBodyToRequestInit: extraBody provided but current request body is a Blob. extraBody will be ignored as merging is not supported for Blob bodies.");return}let o={};if(typeof l.body=="string"&&l.body.length>0)try{const d=JSON.parse(l.body);if(typeof d=="object"&&d!==null&&!Array.isArray(d))o=d;else{console.warn("includeExtraBodyToRequestInit: Original request body is valid JSON but not a non-array object. Skip applying extraBody to the request body.");return}}catch{console.warn("includeExtraBodyToRequestInit: Original request body is not valid JSON. Skip applying extraBody to the request body.");return}function a(d,m){const g=Object.assign({},d);for(const y in m)if(Object.prototype.hasOwnProperty.call(m,y)){const h=m[y],v=g[y];h&&typeof h=="object"&&!Array.isArray(h)&&v&&typeof v=="object"&&!Array.isArray(v)?g[y]=a(v,h):(v&&h&&typeof v!=typeof h&&console.warn(`includeExtraBodyToRequestInit:deepMerge: Type mismatch for key "${y}". Original type: ${typeof v}, New type: ${typeof h}. Overwriting.`),g[y]=h)}return g}const u=a(o,t);l.body=JSON.stringify(u)}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */const H_="mcp_used/unknown";let V_=!1;function ng(l){for(const t of l)if(B_(t)||typeof t=="object"&&"inputSchema"in t)return!0;return V_}function lg(l){var t;const o=(t=l[_r])!==null&&t!==void 0?t:"";l[_r]=(o+` ${H_}`).trimStart()}function B_(l){return l!==null&&typeof l=="object"&&l instanceof qr}function P_(l,t=100){return jl(this,arguments,function*(){let a,u=0;for(;u<t;){const d=yield ze(l.listTools({cursor:a}));for(const m of d.tools)yield yield ze(m),u++;if(!d.nextCursor)break;a=d.nextCursor}})}class qr{constructor(t=[],o){this.mcpTools=[],this.functionNameToMcpClient={},this.mcpClients=t,this.config=o}static create(t,o){return new qr(t,o)}async initialize(){var t,o,a,u;if(this.mcpTools.length>0)return;const d={},m=[];for(const v of this.mcpClients)try{for(var g=!0,y=(o=void 0,lo(P_(v))),h;h=await y.next(),t=h.done,!t;g=!0){u=h.value,g=!1;const S=u;m.push(S);const E=S.name;if(d[E])throw new Error(`Duplicate function name ${E} found in MCP tools. Please ensure function names are unique.`);d[E]=v}}catch(S){o={error:S}}finally{try{!g&&!t&&(a=y.return)&&await a.call(y)}finally{if(o)throw o.error}}this.mcpTools=m,this.functionNameToMcpClient=d}async tool(){return await this.initialize(),Kv(this.mcpTools,this.config)}async callTool(t){await this.initialize();const o=[];for(const a of t)if(a.name in this.functionNameToMcpClient){const u=this.functionNameToMcpClient[a.name];let d;this.config.timeout&&(d={timeout:this.config.timeout});const m=await u.callTool({name:a.name,arguments:a.args},void 0,d);o.push({functionResponse:{name:a.name,response:m.isError?{error:m}:m}})}return o}}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */async function O_(l,t,o){const a=new Hv;let u;o.data instanceof Blob?u=JSON.parse(await o.data.text()):u=JSON.parse(o.data),Object.assign(a,u),t(a)}class Y_{constructor(t,o,a){this.apiClient=t,this.auth=o,this.webSocketFactory=a}async connect(t){var o,a;if(this.apiClient.isVertexAI())throw new Error("Live music is not supported for Vertex AI.");console.warn("Live music generation is experimental and may change in future versions.");const u=this.apiClient.getWebsocketBaseUrl(),d=this.apiClient.getApiVersion(),m=K_(this.apiClient.getDefaultHeaders()),g=this.apiClient.getApiKey(),y=`${u}/ws/google.ai.generativelanguage.${d}.GenerativeService.BidiGenerateMusic?key=${g}`;let h=()=>{};const v=new Promise(B=>{h=B}),S=t.callbacks,E=function(){h({})},R=this.apiClient,N={onopen:E,onmessage:B=>{O_(R,S.onmessage,B)},onerror:(o=S==null?void 0:S.onerror)!==null&&o!==void 0?o:function(B){},onclose:(a=S==null?void 0:S.onclose)!==null&&a!==void 0?a:function(B){}},z=this.webSocketFactory.create(y,F_(m),N);z.connect(),await v;const K={setup:{model:Te(this.apiClient,t.model)}};return z.send(JSON.stringify(K)),new J_(z,this.apiClient)}}class J_{constructor(t,o){this.conn=t,this.apiClient=o}async setWeightedPrompts(t){if(!t.weightedPrompts||Object.keys(t.weightedPrompts).length===0)throw new Error("Weighted prompts must be set and contain at least one entry.");const o=qS(t);this.conn.send(JSON.stringify({clientContent:o}))}async setMusicGenerationConfig(t){t.musicGenerationConfig||(t.musicGenerationConfig={});const o=LS(t);this.conn.send(JSON.stringify(o))}sendPlaybackControl(t){const o={playbackControl:t};this.conn.send(JSON.stringify(o))}play(){this.sendPlaybackControl(Zl.PLAY)}pause(){this.sendPlaybackControl(Zl.PAUSE)}stop(){this.sendPlaybackControl(Zl.STOP)}resetContext(){this.sendPlaybackControl(Zl.RESET_CONTEXT)}close(){this.conn.close()}}function F_(l){const t={};return l.forEach((o,a)=>{t[a]=o}),t}function K_(l){const t=new Headers;for(const[o,a]of Object.entries(l))t.append(o,a);return t}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */const Q_="FunctionResponse request must have an `id` field from the response of a ToolCall.FunctionalCalls in Google AI.";async function X_(l,t,o){const a=new Gv;let u;o.data instanceof Blob?u=await o.data.text():o.data instanceof ArrayBuffer?u=new TextDecoder().decode(o.data):u=o.data;const d=JSON.parse(u);if(l.isVertexAI()){const m=HS(d);Object.assign(a,m)}else Object.assign(a,d);t(a)}class Z_{constructor(t,o,a){this.apiClient=t,this.auth=o,this.webSocketFactory=a,this.music=new Y_(this.apiClient,this.auth,this.webSocketFactory)}async connect(t){var o,a,u,d,m,g;if(t.config&&t.config.httpOptions)throw new Error("The Live module does not support httpOptions at request-level in LiveConnectConfig yet. Please use the client-level httpOptions configuration instead.");const y=this.apiClient.getWebsocketBaseUrl(),h=this.apiClient.getApiVersion();let v;const S=this.apiClient.getHeaders();t.config&&t.config.tools&&ng(t.config.tools)&&lg(S);const E=eC(S);if(this.apiClient.isVertexAI())v=`${y}/ws/google.cloud.aiplatform.${h}.LlmBidiService/BidiGenerateContent`,await this.auth.addAuthHeaders(E,v);else{const te=this.apiClient.getApiKey();let de="BidiGenerateContent",ke="key";te!=null&&te.startsWith("auth_tokens/")&&(console.warn("Warning: Ephemeral token support is experimental and may change in future versions."),h!=="v1alpha"&&console.warn("Warning: The SDK's ephemeral token support is in v1alpha only. Please use const ai = new GoogleGenAI({apiKey: token.name, httpOptions: { apiVersion: 'v1alpha' }}); before session connection."),de="BidiGenerateContentConstrained",ke="access_token"),v=`${y}/ws/google.ai.generativelanguage.${h}.GenerativeService.${de}?${ke}=${te}`}let R=()=>{};const N=new Promise(te=>{R=te}),z=t.callbacks,O=function(){var te;(te=z==null?void 0:z.onopen)===null||te===void 0||te.call(z),R({})},P=this.apiClient,K={onopen:O,onmessage:te=>{X_(P,z.onmessage,te)},onerror:(o=z==null?void 0:z.onerror)!==null&&o!==void 0?o:function(te){},onclose:(a=z==null?void 0:z.onclose)!==null&&a!==void 0?a:function(te){}},B=this.webSocketFactory.create(v,j_(E),K);B.connect(),await N;let V=Te(this.apiClient,t.model);if(this.apiClient.isVertexAI()&&V.startsWith("publishers/")){const te=this.apiClient.getProject(),de=this.apiClient.getLocation();V=`projects/${te}/locations/${de}/`+V}let Q={};this.apiClient.isVertexAI()&&((u=t.config)===null||u===void 0?void 0:u.responseModalities)===void 0&&(t.config===void 0?t.config={responseModalities:[Ia.AUDIO]}:t.config.responseModalities=[Ia.AUDIO]),!((d=t.config)===null||d===void 0)&&d.generationConfig&&console.warn("Setting `LiveConnectConfig.generation_config` is deprecated, please set the fields on `LiveConnectConfig` directly. This will become an error in a future version (not before Q3 2025).");const j=(g=(m=t.config)===null||m===void 0?void 0:m.tools)!==null&&g!==void 0?g:[],J=[];for(const te of j)if(this.isCallableTool(te)){const de=te;J.push(await de.tool())}else J.push(te);J.length>0&&(t.config.tools=J);const ge={model:V,config:t.config,callbacks:t.callbacks};return this.apiClient.isVertexAI()?Q=kS(this.apiClient,ge):Q=US(this.apiClient,ge),delete Q.config,B.send(JSON.stringify(Q)),new W_(B,this.apiClient)}isCallableTool(t){return"callTool"in t&&typeof t.callTool=="function"}}const $_={turnComplete:!0};class W_{constructor(t,o){this.conn=t,this.apiClient=o}tLiveClientContent(t,o){if(o.turns!==null&&o.turns!==void 0){let a=[];try{a=Gt(o.turns),t.isVertexAI()||(a=a.map(u=>Ga(u)))}catch{throw new Error(`Failed to parse client content "turns", type: '${typeof o.turns}'`)}return{clientContent:{turns:a,turnComplete:o.turnComplete}}}return{clientContent:{turnComplete:o.turnComplete}}}tLiveClienttToolResponse(t,o){let a=[];if(o.functionResponses==null)throw new Error("functionResponses is required.");if(Array.isArray(o.functionResponses)?a=o.functionResponses:a=[o.functionResponses],a.length===0)throw new Error("functionResponses is required.");for(const d of a){if(typeof d!="object"||d===null||!("name"in d)||!("response"in d))throw new Error(`Could not parse function response, type '${typeof d}'.`);if(!t.isVertexAI()&&!("id"in d))throw new Error(Q_)}return{toolResponse:{functionResponses:a}}}sendClientContent(t){t=Object.assign(Object.assign({},$_),t);const o=this.tLiveClientContent(this.apiClient,t);this.conn.send(JSON.stringify(o))}sendRealtimeInput(t){let o={};this.apiClient.isVertexAI()?o={realtimeInput:GS(t)}:o={realtimeInput:zS(t)},this.conn.send(JSON.stringify(o))}sendToolResponse(t){if(t.functionResponses==null)throw new Error("Tool response parameters are required.");const o=this.tLiveClienttToolResponse(this.apiClient,t);this.conn.send(JSON.stringify(o))}close(){this.conn.close()}}function j_(l){const t={};return l.forEach((o,a)=>{t[a]=o}),t}function eC(l){const t=new Headers;for(const[o,a]of Object.entries(l))t.append(o,a);return t}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */const Tm=10;function Sm(l){var t,o,a;if(!((t=l==null?void 0:l.automaticFunctionCalling)===null||t===void 0)&&t.disable)return!0;let u=!1;for(const m of(o=l==null?void 0:l.tools)!==null&&o!==void 0?o:[])if(ei(m)){u=!0;break}if(!u)return!0;const d=(a=l==null?void 0:l.automaticFunctionCalling)===null||a===void 0?void 0:a.maximumRemoteCalls;return d&&(d<0||!Number.isInteger(d))||d==0?(console.warn("Invalid maximumRemoteCalls value provided for automatic function calling. Disabled automatic function calling. Please provide a valid integer value greater than 0. maximumRemoteCalls provided:",d),!0):!1}function ei(l){return"callTool"in l&&typeof l.callTool=="function"}function tC(l){var t,o,a;return(a=(o=(t=l.config)===null||t===void 0?void 0:t.tools)===null||o===void 0?void 0:o.some(u=>ei(u)))!==null&&a!==void 0?a:!1}function nC(l){var t,o,a;return(a=(o=(t=l.config)===null||t===void 0?void 0:t.tools)===null||o===void 0?void 0:o.some(u=>!ei(u)))!==null&&a!==void 0?a:!1}function Em(l){var t;return!(!((t=l==null?void 0:l.automaticFunctionCalling)===null||t===void 0)&&t.ignoreCallHistory)}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */class lC extends cl{constructor(t){super(),this.apiClient=t,this.generateContent=async o=>{var a,u,d,m,g;const y=await this.processParamsMaybeAddMcpUsage(o);if(this.maybeMoveToResponseJsonSchem(o),!tC(o)||Sm(o.config))return await this.generateContentInternal(y);if(nC(o))throw new Error("Automatic function calling with CallableTools and Tools is not yet supported.");let h,v;const S=Gt(y.contents),E=(d=(u=(a=y.config)===null||a===void 0?void 0:a.automaticFunctionCalling)===null||u===void 0?void 0:u.maximumRemoteCalls)!==null&&d!==void 0?d:Tm;let R=0;for(;R<E&&(h=await this.generateContentInternal(y),!(!h.functionCalls||h.functionCalls.length===0));){const N=h.candidates[0].content,z=[];for(const O of(g=(m=o.config)===null||m===void 0?void 0:m.tools)!==null&&g!==void 0?g:[])if(ei(O)){const K=await O.callTool(h.functionCalls);z.push(...K)}R++,v={role:"user",parts:z},y.contents=Gt(y.contents),y.contents.push(N),y.contents.push(v),Em(y.config)&&(S.push(N),S.push(v))}return Em(y.config)&&(h.automaticFunctionCallingHistory=S),h},this.generateContentStream=async o=>{if(this.maybeMoveToResponseJsonSchem(o),Sm(o.config)){const a=await this.processParamsMaybeAddMcpUsage(o);return await this.generateContentStreamInternal(a)}else return await this.processAfcStream(o)},this.generateImages=async o=>await this.generateImagesInternal(o).then(a=>{var u;let d;const m=[];if(a!=null&&a.generatedImages)for(const y of a.generatedImages)y&&(y!=null&&y.safetyAttributes)&&((u=y==null?void 0:y.safetyAttributes)===null||u===void 0?void 0:u.contentType)==="Positive Prompt"?d=y==null?void 0:y.safetyAttributes:m.push(y);let g;return d?g={generatedImages:m,positivePromptSafetyAttributes:d,sdkHttpResponse:a.sdkHttpResponse}:g={generatedImages:m,sdkHttpResponse:a.sdkHttpResponse},g}),this.list=async o=>{var a;const m={config:Object.assign(Object.assign({},{queryBase:!0}),o==null?void 0:o.config)};if(this.apiClient.isVertexAI()&&!m.config.queryBase){if(!((a=m.config)===null||a===void 0)&&a.filter)throw new Error("Filtering tuned models list for Vertex AI is not currently supported");m.config.filter="labels.tune-type:*"}return new oo(ul.PAGED_ITEM_MODELS,g=>this.listInternal(g),await this.listInternal(m),m)},this.editImage=async o=>{const a={model:o.model,prompt:o.prompt,referenceImages:[],config:o.config};return o.referenceImages&&o.referenceImages&&(a.referenceImages=o.referenceImages.map(u=>u.toReferenceImageAPI())),await this.editImageInternal(a)},this.upscaleImage=async o=>{let a={numberOfImages:1,mode:"upscale"};o.config&&(a=Object.assign(Object.assign({},a),o.config));const u={model:o.model,image:o.image,upscaleFactor:o.upscaleFactor,config:a};return await this.upscaleImageInternal(u)},this.generateVideos=async o=>{var a,u,d,m,g,y;if((o.prompt||o.image||o.video)&&o.source)throw new Error("Source and prompt/image/video are mutually exclusive. Please only use source.");return this.apiClient.isVertexAI()||(!((a=o.video)===null||a===void 0)&&a.uri&&(!((u=o.video)===null||u===void 0)&&u.videoBytes)?o.video={uri:o.video.uri,mimeType:o.video.mimeType}:!((m=(d=o.source)===null||d===void 0?void 0:d.video)===null||m===void 0)&&m.uri&&(!((y=(g=o.source)===null||g===void 0?void 0:g.video)===null||y===void 0)&&y.videoBytes)&&(o.source.video={uri:o.source.video.uri,mimeType:o.source.video.mimeType})),await this.generateVideosInternal(o)}}maybeMoveToResponseJsonSchem(t){t.config&&t.config.responseSchema&&(t.config.responseJsonSchema||Object.keys(t.config.responseSchema).includes("$schema")&&(t.config.responseJsonSchema=t.config.responseSchema,delete t.config.responseSchema))}async processParamsMaybeAddMcpUsage(t){var o,a,u;const d=(o=t.config)===null||o===void 0?void 0:o.tools;if(!d)return t;const m=await Promise.all(d.map(async y=>ei(y)?await y.tool():y)),g={model:t.model,contents:t.contents,config:Object.assign(Object.assign({},t.config),{tools:m})};if(g.config.tools=m,t.config&&t.config.tools&&ng(t.config.tools)){const y=(u=(a=t.config.httpOptions)===null||a===void 0?void 0:a.headers)!==null&&u!==void 0?u:{};let h=Object.assign({},y);Object.keys(h).length===0&&(h=this.apiClient.getDefaultHeaders()),lg(h),g.config.httpOptions=Object.assign(Object.assign({},t.config.httpOptions),{headers:h})}return g}async initAfcToolsMap(t){var o,a,u;const d=new Map;for(const m of(a=(o=t.config)===null||o===void 0?void 0:o.tools)!==null&&a!==void 0?a:[])if(ei(m)){const g=m,y=await g.tool();for(const h of(u=y.functionDeclarations)!==null&&u!==void 0?u:[]){if(!h.name)throw new Error("Function declaration name is required.");if(d.has(h.name))throw new Error(`Duplicate tool declaration name: ${h.name}`);d.set(h.name,g)}}return d}async processAfcStream(t){var o,a,u;const d=(u=(a=(o=t.config)===null||o===void 0?void 0:o.automaticFunctionCalling)===null||a===void 0?void 0:a.maximumRemoteCalls)!==null&&u!==void 0?u:Tm;let m=!1,g=0;const y=await this.initAfcToolsMap(t);return(function(h,v,S){var E,R;return jl(this,arguments,function*(){for(var N,z,O,P;g<d;){m&&(g++,m=!1);const Q=yield ze(h.processParamsMaybeAddMcpUsage(S)),j=yield ze(h.generateContentStreamInternal(Q)),J=[],ge=[];try{for(var K=!0,B=(z=void 0,lo(j)),V;V=yield ze(B.next()),N=V.done,!N;K=!0){P=V.value,K=!1;const te=P;if(yield yield ze(te),te.candidates&&(!((E=te.candidates[0])===null||E===void 0)&&E.content)){ge.push(te.candidates[0].content);for(const de of(R=te.candidates[0].content.parts)!==null&&R!==void 0?R:[])if(g<d&&de.functionCall){if(!de.functionCall.name)throw new Error("Function call name was not returned by the model.");if(v.has(de.functionCall.name)){const ke=yield ze(v.get(de.functionCall.name).callTool([de.functionCall]));J.push(...ke)}else throw new Error(`Automatic function calling was requested, but not all the tools the model used implement the CallableTool interface. Available tools: ${v.keys()}, mising tool: ${de.functionCall.name}`)}}}}catch(te){z={error:te}}finally{try{!K&&!N&&(O=B.return)&&(yield ze(O.call(B)))}finally{if(z)throw z.error}}if(J.length>0){m=!0;const te=new ji;te.candidates=[{content:{role:"user",parts:J}}],yield yield ze(te);const de=[];de.push(...ge),de.push({role:"user",parts:J});const ke=Gt(S.contents).concat(de);S.contents=ke}else break}})})(this,y,t)}async generateContentInternal(t){var o,a,u,d;let m,g="",y={};if(this.apiClient.isVertexAI()){const h=hm(this.apiClient,t);return g=Z("{model}:generateContent",h._url),y=h._query,delete h._url,delete h._query,m=this.apiClient.request({path:g,queryParams:y,body:JSON.stringify(h),httpMethod:"POST",httpOptions:(o=t.config)===null||o===void 0?void 0:o.httpOptions,abortSignal:(a=t.config)===null||a===void 0?void 0:a.abortSignal}).then(v=>v.json().then(S=>{const E=S;return E.sdkHttpResponse={headers:v.headers},E})),m.then(v=>{const S=gm(v),E=new ji;return Object.assign(E,S),E})}else{const h=pm(this.apiClient,t);return g=Z("{model}:generateContent",h._url),y=h._query,delete h._url,delete h._query,m=this.apiClient.request({path:g,queryParams:y,body:JSON.stringify(h),httpMethod:"POST",httpOptions:(u=t.config)===null||u===void 0?void 0:u.httpOptions,abortSignal:(d=t.config)===null||d===void 0?void 0:d.abortSignal}).then(v=>v.json().then(S=>{const E=S;return E.sdkHttpResponse={headers:v.headers},E})),m.then(v=>{const S=mm(v),E=new ji;return Object.assign(E,S),E})}}async generateContentStreamInternal(t){var o,a,u,d;let m,g="",y={};if(this.apiClient.isVertexAI()){const h=hm(this.apiClient,t);return g=Z("{model}:streamGenerateContent?alt=sse",h._url),y=h._query,delete h._url,delete h._query,m=this.apiClient.requestStream({path:g,queryParams:y,body:JSON.stringify(h),httpMethod:"POST",httpOptions:(o=t.config)===null||o===void 0?void 0:o.httpOptions,abortSignal:(a=t.config)===null||a===void 0?void 0:a.abortSignal}),m.then(function(S){return jl(this,arguments,function*(){var E,R,N,z;try{for(var O=!0,P=lo(S),K;K=yield ze(P.next()),E=K.done,!E;O=!0){z=K.value,O=!1;const B=z,V=gm(yield ze(B.json()));V.sdkHttpResponse={headers:B.headers};const Q=new ji;Object.assign(Q,V),yield yield ze(Q)}}catch(B){R={error:B}}finally{try{!O&&!E&&(N=P.return)&&(yield ze(N.call(P)))}finally{if(R)throw R.error}}})})}else{const h=pm(this.apiClient,t);return g=Z("{model}:streamGenerateContent?alt=sse",h._url),y=h._query,delete h._url,delete h._query,m=this.apiClient.requestStream({path:g,queryParams:y,body:JSON.stringify(h),httpMethod:"POST",httpOptions:(u=t.config)===null||u===void 0?void 0:u.httpOptions,abortSignal:(d=t.config)===null||d===void 0?void 0:d.abortSignal}),m.then(function(S){return jl(this,arguments,function*(){var E,R,N,z;try{for(var O=!0,P=lo(S),K;K=yield ze(P.next()),E=K.done,!E;O=!0){z=K.value,O=!1;const B=z,V=mm(yield ze(B.json()));V.sdkHttpResponse={headers:B.headers};const Q=new ji;Object.assign(Q,V),yield yield ze(Q)}}catch(B){R={error:B}}finally{try{!O&&!E&&(N=P.return)&&(yield ze(N.call(P)))}finally{if(R)throw R.error}}})})}}async embedContent(t){var o,a,u,d;let m,g="",y={};if(this.apiClient.isVertexAI()){const h=mE(this.apiClient,t);return g=Z("{model}:predict",h._url),y=h._query,delete h._url,delete h._query,m=this.apiClient.request({path:g,queryParams:y,body:JSON.stringify(h),httpMethod:"POST",httpOptions:(o=t.config)===null||o===void 0?void 0:o.httpOptions,abortSignal:(a=t.config)===null||a===void 0?void 0:a.abortSignal}).then(v=>v.json().then(S=>{const E=S;return E.sdkHttpResponse={headers:v.headers},E})),m.then(v=>{const S=yE(v),E=new $h;return Object.assign(E,S),E})}else{const h=hE(this.apiClient,t);return g=Z("{model}:batchEmbedContents",h._url),y=h._query,delete h._url,delete h._query,m=this.apiClient.request({path:g,queryParams:y,body:JSON.stringify(h),httpMethod:"POST",httpOptions:(u=t.config)===null||u===void 0?void 0:u.httpOptions,abortSignal:(d=t.config)===null||d===void 0?void 0:d.abortSignal}).then(v=>v.json().then(S=>{const E=S;return E.sdkHttpResponse={headers:v.headers},E})),m.then(v=>{const S=gE(v),E=new $h;return Object.assign(E,S),E})}}async generateImagesInternal(t){var o,a,u,d;let m,g="",y={};if(this.apiClient.isVertexAI()){const h=RE(this.apiClient,t);return g=Z("{model}:predict",h._url),y=h._query,delete h._url,delete h._query,m=this.apiClient.request({path:g,queryParams:y,body:JSON.stringify(h),httpMethod:"POST",httpOptions:(o=t.config)===null||o===void 0?void 0:o.httpOptions,abortSignal:(a=t.config)===null||a===void 0?void 0:a.abortSignal}).then(v=>v.json().then(S=>{const E=S;return E.sdkHttpResponse={headers:v.headers},E})),m.then(v=>{const S=NE(v),E=new Wh;return Object.assign(E,S),E})}else{const h=xE(this.apiClient,t);return g=Z("{model}:predict",h._url),y=h._query,delete h._url,delete h._query,m=this.apiClient.request({path:g,queryParams:y,body:JSON.stringify(h),httpMethod:"POST",httpOptions:(u=t.config)===null||u===void 0?void 0:u.httpOptions,abortSignal:(d=t.config)===null||d===void 0?void 0:d.abortSignal}).then(v=>v.json().then(S=>{const E=S;return E.sdkHttpResponse={headers:v.headers},E})),m.then(v=>{const S=ME(v),E=new Wh;return Object.assign(E,S),E})}}async editImageInternal(t){var o,a;let u,d="",m={};if(this.apiClient.isVertexAI()){const g=cE(this.apiClient,t);return d=Z("{model}:predict",g._url),m=g._query,delete g._url,delete g._query,u=this.apiClient.request({path:d,queryParams:m,body:JSON.stringify(g),httpMethod:"POST",httpOptions:(o=t.config)===null||o===void 0?void 0:o.httpOptions,abortSignal:(a=t.config)===null||a===void 0?void 0:a.abortSignal}).then(y=>y.json().then(h=>{const v=h;return v.sdkHttpResponse={headers:y.headers},v})),u.then(y=>{const h=fE(y),v=new Dv;return Object.assign(v,h),v})}else throw new Error("This method is only supported by the Vertex AI.")}async upscaleImageInternal(t){var o,a;let u,d="",m={};if(this.apiClient.isVertexAI()){const g=C_(this.apiClient,t);return d=Z("{model}:predict",g._url),m=g._query,delete g._url,delete g._query,u=this.apiClient.request({path:d,queryParams:m,body:JSON.stringify(g),httpMethod:"POST",httpOptions:(o=t.config)===null||o===void 0?void 0:o.httpOptions,abortSignal:(a=t.config)===null||a===void 0?void 0:a.abortSignal}).then(y=>y.json().then(h=>{const v=h;return v.sdkHttpResponse={headers:y.headers},v})),u.then(y=>{const h=A_(y),v=new Iv;return Object.assign(v,h),v})}else throw new Error("This method is only supported by the Vertex AI.")}async recontextImage(t){var o,a;let u,d="",m={};if(this.apiClient.isVertexAI()){const g=o_(this.apiClient,t);return d=Z("{model}:predict",g._url),m=g._query,delete g._url,delete g._query,u=this.apiClient.request({path:d,queryParams:m,body:JSON.stringify(g),httpMethod:"POST",httpOptions:(o=t.config)===null||o===void 0?void 0:o.httpOptions,abortSignal:(a=t.config)===null||a===void 0?void 0:a.abortSignal}).then(y=>y.json()),u.then(y=>{const h=a_(y),v=new wv;return Object.assign(v,h),v})}else throw new Error("This method is only supported by the Vertex AI.")}async segmentImage(t){var o,a;let u,d="",m={};if(this.apiClient.isVertexAI()){const g=d_(this.apiClient,t);return d=Z("{model}:predict",g._url),m=g._query,delete g._url,delete g._query,u=this.apiClient.request({path:d,queryParams:m,body:JSON.stringify(g),httpMethod:"POST",httpOptions:(o=t.config)===null||o===void 0?void 0:o.httpOptions,abortSignal:(a=t.config)===null||a===void 0?void 0:a.abortSignal}).then(y=>y.json()),u.then(y=>{const h=p_(y),v=new Uv;return Object.assign(v,h),v})}else throw new Error("This method is only supported by the Vertex AI.")}async get(t){var o,a,u,d;let m,g="",y={};if(this.apiClient.isVertexAI()){const h=JE(this.apiClient,t);return g=Z("{name}",h._url),y=h._query,delete h._url,delete h._query,m=this.apiClient.request({path:g,queryParams:y,body:JSON.stringify(h),httpMethod:"GET",httpOptions:(o=t.config)===null||o===void 0?void 0:o.httpOptions,abortSignal:(a=t.config)===null||a===void 0?void 0:a.abortSignal}).then(v=>v.json()),m.then(v=>Er(v))}else{const h=YE(this.apiClient,t);return g=Z("{name}",h._url),y=h._query,delete h._url,delete h._query,m=this.apiClient.request({path:g,queryParams:y,body:JSON.stringify(h),httpMethod:"GET",httpOptions:(u=t.config)===null||u===void 0?void 0:u.httpOptions,abortSignal:(d=t.config)===null||d===void 0?void 0:d.abortSignal}).then(v=>v.json()),m.then(v=>Sr(v))}}async listInternal(t){var o,a,u,d;let m,g="",y={};if(this.apiClient.isVertexAI()){const h=WE(this.apiClient,t);return g=Z("{models_url}",h._url),y=h._query,delete h._url,delete h._query,m=this.apiClient.request({path:g,queryParams:y,body:JSON.stringify(h),httpMethod:"GET",httpOptions:(o=t.config)===null||o===void 0?void 0:o.httpOptions,abortSignal:(a=t.config)===null||a===void 0?void 0:a.abortSignal}).then(v=>v.json().then(S=>{const E=S;return E.sdkHttpResponse={headers:v.headers},E})),m.then(v=>{const S=e_(v),E=new jh;return Object.assign(E,S),E})}else{const h=$E(this.apiClient,t);return g=Z("{models_url}",h._url),y=h._query,delete h._url,delete h._query,m=this.apiClient.request({path:g,queryParams:y,body:JSON.stringify(h),httpMethod:"GET",httpOptions:(u=t.config)===null||u===void 0?void 0:u.httpOptions,abortSignal:(d=t.config)===null||d===void 0?void 0:d.abortSignal}).then(v=>v.json().then(S=>{const E=S;return E.sdkHttpResponse={headers:v.headers},E})),m.then(v=>{const S=jE(v),E=new jh;return Object.assign(E,S),E})}}async update(t){var o,a,u,d;let m,g="",y={};if(this.apiClient.isVertexAI()){const h=E_(this.apiClient,t);return g=Z("{model}",h._url),y=h._query,delete h._url,delete h._query,m=this.apiClient.request({path:g,queryParams:y,body:JSON.stringify(h),httpMethod:"PATCH",httpOptions:(o=t.config)===null||o===void 0?void 0:o.httpOptions,abortSignal:(a=t.config)===null||a===void 0?void 0:a.abortSignal}).then(v=>v.json()),m.then(v=>Er(v))}else{const h=S_(this.apiClient,t);return g=Z("{name}",h._url),y=h._query,delete h._url,delete h._query,m=this.apiClient.request({path:g,queryParams:y,body:JSON.stringify(h),httpMethod:"PATCH",httpOptions:(u=t.config)===null||u===void 0?void 0:u.httpOptions,abortSignal:(d=t.config)===null||d===void 0?void 0:d.abortSignal}).then(v=>v.json()),m.then(v=>Sr(v))}}async delete(t){var o,a,u,d;let m,g="",y={};if(this.apiClient.isVertexAI()){const h=aE(this.apiClient,t);return g=Z("{name}",h._url),y=h._query,delete h._url,delete h._query,m=this.apiClient.request({path:g,queryParams:y,body:JSON.stringify(h),httpMethod:"DELETE",httpOptions:(o=t.config)===null||o===void 0?void 0:o.httpOptions,abortSignal:(a=t.config)===null||a===void 0?void 0:a.abortSignal}).then(v=>v.json().then(S=>{const E=S;return E.sdkHttpResponse={headers:v.headers},E})),m.then(v=>{const S=uE(v),E=new em;return Object.assign(E,S),E})}else{const h=oE(this.apiClient,t);return g=Z("{name}",h._url),y=h._query,delete h._url,delete h._query,m=this.apiClient.request({path:g,queryParams:y,body:JSON.stringify(h),httpMethod:"DELETE",httpOptions:(u=t.config)===null||u===void 0?void 0:u.httpOptions,abortSignal:(d=t.config)===null||d===void 0?void 0:d.abortSignal}).then(v=>v.json().then(S=>{const E=S;return E.sdkHttpResponse={headers:v.headers},E})),m.then(v=>{const S=sE(v),E=new em;return Object.assign(E,S),E})}}async countTokens(t){var o,a,u,d;let m,g="",y={};if(this.apiClient.isVertexAI()){const h=nE(this.apiClient,t);return g=Z("{model}:countTokens",h._url),y=h._query,delete h._url,delete h._query,m=this.apiClient.request({path:g,queryParams:y,body:JSON.stringify(h),httpMethod:"POST",httpOptions:(o=t.config)===null||o===void 0?void 0:o.httpOptions,abortSignal:(a=t.config)===null||a===void 0?void 0:a.abortSignal}).then(v=>v.json().then(S=>{const E=S;return E.sdkHttpResponse={headers:v.headers},E})),m.then(v=>{const S=iE(v),E=new tm;return Object.assign(E,S),E})}else{const h=tE(this.apiClient,t);return g=Z("{model}:countTokens",h._url),y=h._query,delete h._url,delete h._query,m=this.apiClient.request({path:g,queryParams:y,body:JSON.stringify(h),httpMethod:"POST",httpOptions:(u=t.config)===null||u===void 0?void 0:u.httpOptions,abortSignal:(d=t.config)===null||d===void 0?void 0:d.abortSignal}).then(v=>v.json().then(S=>{const E=S;return E.sdkHttpResponse={headers:v.headers},E})),m.then(v=>{const S=lE(v),E=new tm;return Object.assign(E,S),E})}}async computeTokens(t){var o,a;let u,d="",m={};if(this.apiClient.isVertexAI()){const g=QS(this.apiClient,t);return d=Z("{model}:computeTokens",g._url),m=g._query,delete g._url,delete g._query,u=this.apiClient.request({path:d,queryParams:m,body:JSON.stringify(g),httpMethod:"POST",httpOptions:(o=t.config)===null||o===void 0?void 0:o.httpOptions,abortSignal:(a=t.config)===null||a===void 0?void 0:a.abortSignal}).then(y=>y.json().then(h=>{const v=h;return v.sdkHttpResponse={headers:y.headers},v})),u.then(y=>{const h=XS(y),v=new kv;return Object.assign(v,h),v})}else throw new Error("This method is only supported by the Vertex AI.")}async generateVideosInternal(t){var o,a,u,d;let m,g="",y={};if(this.apiClient.isVertexAI()){const h=kE(this.apiClient,t);return g=Z("{model}:predictLongRunning",h._url),y=h._query,delete h._url,delete h._query,m=this.apiClient.request({path:g,queryParams:y,body:JSON.stringify(h),httpMethod:"POST",httpOptions:(o=t.config)===null||o===void 0?void 0:o.httpOptions,abortSignal:(a=t.config)===null||a===void 0?void 0:a.abortSignal}).then(v=>v.json()),m.then(v=>{const S=wE(v),E=new wa;return Object.assign(E,S),E})}else{const h=UE(this.apiClient,t);return g=Z("{model}:predictLongRunning",h._url),y=h._query,delete h._url,delete h._query,m=this.apiClient.request({path:g,queryParams:y,body:JSON.stringify(h),httpMethod:"POST",httpOptions:(u=t.config)===null||u===void 0?void 0:u.httpOptions,abortSignal:(d=t.config)===null||d===void 0?void 0:d.abortSignal}).then(v=>v.json()),m.then(v=>{const S=IE(v),E=new wa;return Object.assign(E,S),E})}}}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */class iC extends cl{constructor(t){super(),this.apiClient=t}async getVideosOperation(t){const o=t.operation,a=t.config;if(o.name===void 0||o.name==="")throw new Error("Operation name is required.");if(this.apiClient.isVertexAI()){const u=o.name.split("/operations/")[0];let d;a&&"httpOptions"in a&&(d=a.httpOptions);const m=await this.fetchPredictVideosOperationInternal({operationName:o.name,resourceName:u,config:{httpOptions:d}});return o._fromAPIResponse({apiResponse:m,isVertexAI:!0})}else{const u=await this.getVideosOperationInternal({operationName:o.name,config:a});return o._fromAPIResponse({apiResponse:u,isVertexAI:!1})}}async get(t){const o=t.operation,a=t.config;if(o.name===void 0||o.name==="")throw new Error("Operation name is required.");if(this.apiClient.isVertexAI()){const u=o.name.split("/operations/")[0];let d;a&&"httpOptions"in a&&(d=a.httpOptions);const m=await this.fetchPredictVideosOperationInternal({operationName:o.name,resourceName:u,config:{httpOptions:d}});return o._fromAPIResponse({apiResponse:m,isVertexAI:!0})}else{const u=await this.getVideosOperationInternal({operationName:o.name,config:a});return o._fromAPIResponse({apiResponse:u,isVertexAI:!1})}}async getVideosOperationInternal(t){var o,a,u,d;let m,g="",y={};if(this.apiClient.isVertexAI()){const h=Mv(t);return g=Z("{operationName}",h._url),y=h._query,delete h._url,delete h._query,m=this.apiClient.request({path:g,queryParams:y,body:JSON.stringify(h),httpMethod:"GET",httpOptions:(o=t.config)===null||o===void 0?void 0:o.httpOptions,abortSignal:(a=t.config)===null||a===void 0?void 0:a.abortSignal}).then(v=>v.json()),m}else{const h=Rv(t);return g=Z("{operationName}",h._url),y=h._query,delete h._url,delete h._query,m=this.apiClient.request({path:g,queryParams:y,body:JSON.stringify(h),httpMethod:"GET",httpOptions:(u=t.config)===null||u===void 0?void 0:u.httpOptions,abortSignal:(d=t.config)===null||d===void 0?void 0:d.abortSignal}).then(v=>v.json()),m}}async fetchPredictVideosOperationInternal(t){var o,a;let u,d="",m={};if(this.apiClient.isVertexAI()){const g=Tv(t);return d=Z("{resourceName}:fetchPredictOperation",g._url),m=g._query,delete g._url,delete g._query,u=this.apiClient.request({path:d,queryParams:m,body:JSON.stringify(g),httpMethod:"POST",httpOptions:(o=t.config)===null||o===void 0?void 0:o.httpOptions,abortSignal:(a=t.config)===null||a===void 0?void 0:a.abortSignal}).then(y=>y.json()),u}else throw new Error("This method is only supported by the Vertex AI.")}}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */function oC(l){const t={};if(r(l,["displayName"])!==void 0)throw new Error("displayName parameter is not supported in Gemini API.");const o=r(l,["data"]);o!=null&&f(t,["data"],o);const a=r(l,["mimeType"]);return a!=null&&f(t,["mimeType"],a),t}function aC(l){const t={},o=r(l,["parts"]);if(o!=null){let u=o;Array.isArray(u)&&(u=u.map(d=>hC(d))),f(t,["parts"],u)}const a=r(l,["role"]);return a!=null&&f(t,["role"],a),t}function sC(l,t,o){const a={},u=r(t,["expireTime"]);o!==void 0&&u!=null&&f(o,["expireTime"],u);const d=r(t,["newSessionExpireTime"]);o!==void 0&&d!=null&&f(o,["newSessionExpireTime"],d);const m=r(t,["uses"]);o!==void 0&&m!=null&&f(o,["uses"],m);const g=r(t,["liveConnectConstraints"]);o!==void 0&&g!=null&&f(o,["bidiGenerateContentSetup"],pC(l,g));const y=r(t,["lockAdditionalFields"]);return o!==void 0&&y!=null&&f(o,["fieldMask"],y),a}function uC(l,t){const o={},a=r(t,["config"]);return a!=null&&f(o,["config"],sC(l,a,o)),o}function rC(l){const t={};if(r(l,["displayName"])!==void 0)throw new Error("displayName parameter is not supported in Gemini API.");const o=r(l,["fileUri"]);o!=null&&f(t,["fileUri"],o);const a=r(l,["mimeType"]);return a!=null&&f(t,["mimeType"],a),t}function cC(l){const t={};if(r(l,["authConfig"])!==void 0)throw new Error("authConfig parameter is not supported in Gemini API.");const o=r(l,["enableWidget"]);return o!=null&&f(t,["enableWidget"],o),t}function fC(l){const t={},o=r(l,["timeRangeFilter"]);if(o!=null&&f(t,["timeRangeFilter"],o),r(l,["excludeDomains"])!==void 0)throw new Error("excludeDomains parameter is not supported in Gemini API.");return t}function dC(l,t){const o={},a=r(l,["generationConfig"]);t!==void 0&&a!=null&&f(t,["setup","generationConfig"],a);const u=r(l,["responseModalities"]);t!==void 0&&u!=null&&f(t,["setup","generationConfig","responseModalities"],u);const d=r(l,["temperature"]);t!==void 0&&d!=null&&f(t,["setup","generationConfig","temperature"],d);const m=r(l,["topP"]);t!==void 0&&m!=null&&f(t,["setup","generationConfig","topP"],m);const g=r(l,["topK"]);t!==void 0&&g!=null&&f(t,["setup","generationConfig","topK"],g);const y=r(l,["maxOutputTokens"]);t!==void 0&&y!=null&&f(t,["setup","generationConfig","maxOutputTokens"],y);const h=r(l,["mediaResolution"]);t!==void 0&&h!=null&&f(t,["setup","generationConfig","mediaResolution"],h);const v=r(l,["seed"]);t!==void 0&&v!=null&&f(t,["setup","generationConfig","seed"],v);const S=r(l,["speechConfig"]);t!==void 0&&S!=null&&f(t,["setup","generationConfig","speechConfig"],Lr(S));const E=r(l,["thinkingConfig"]);t!==void 0&&E!=null&&f(t,["setup","generationConfig","thinkingConfig"],E);const R=r(l,["enableAffectiveDialog"]);t!==void 0&&R!=null&&f(t,["setup","generationConfig","enableAffectiveDialog"],R);const N=r(l,["systemInstruction"]);t!==void 0&&N!=null&&f(t,["setup","systemInstruction"],aC(ot(N)));const z=r(l,["tools"]);if(t!==void 0&&z!=null){let j=ni(z);Array.isArray(j)&&(j=j.map(J=>gC(ti(J)))),f(t,["setup","tools"],j)}const O=r(l,["sessionResumption"]);t!==void 0&&O!=null&&f(t,["setup","sessionResumption"],mC(O));const P=r(l,["inputAudioTranscription"]);t!==void 0&&P!=null&&f(t,["setup","inputAudioTranscription"],P);const K=r(l,["outputAudioTranscription"]);t!==void 0&&K!=null&&f(t,["setup","outputAudioTranscription"],K);const B=r(l,["realtimeInputConfig"]);t!==void 0&&B!=null&&f(t,["setup","realtimeInputConfig"],B);const V=r(l,["contextWindowCompression"]);t!==void 0&&V!=null&&f(t,["setup","contextWindowCompression"],V);const Q=r(l,["proactivity"]);return t!==void 0&&Q!=null&&f(t,["setup","proactivity"],Q),o}function pC(l,t){const o={},a=r(t,["model"]);a!=null&&f(o,["setup","model"],Te(l,a));const u=r(t,["config"]);return u!=null&&f(o,["config"],dC(u,o)),o}function hC(l){const t={},o=r(l,["videoMetadata"]);o!=null&&f(t,["videoMetadata"],o);const a=r(l,["thought"]);a!=null&&f(t,["thought"],a);const u=r(l,["inlineData"]);u!=null&&f(t,["inlineData"],oC(u));const d=r(l,["fileData"]);d!=null&&f(t,["fileData"],rC(d));const m=r(l,["thoughtSignature"]);m!=null&&f(t,["thoughtSignature"],m);const g=r(l,["functionCall"]);g!=null&&f(t,["functionCall"],g);const y=r(l,["codeExecutionResult"]);y!=null&&f(t,["codeExecutionResult"],y);const h=r(l,["executableCode"]);h!=null&&f(t,["executableCode"],h);const v=r(l,["functionResponse"]);v!=null&&f(t,["functionResponse"],v);const S=r(l,["text"]);return S!=null&&f(t,["text"],S),t}function mC(l){const t={},o=r(l,["handle"]);if(o!=null&&f(t,["handle"],o),r(l,["transparent"])!==void 0)throw new Error("transparent parameter is not supported in Gemini API.");return t}function gC(l){const t={},o=r(l,["functionDeclarations"]);if(o!=null){let h=o;Array.isArray(h)&&(h=h.map(v=>v)),f(t,["functionDeclarations"],h)}if(r(l,["retrieval"])!==void 0)throw new Error("retrieval parameter is not supported in Gemini API.");const a=r(l,["googleSearch"]);a!=null&&f(t,["googleSearch"],fC(a));const u=r(l,["googleSearchRetrieval"]);if(u!=null&&f(t,["googleSearchRetrieval"],u),r(l,["enterpriseWebSearch"])!==void 0)throw new Error("enterpriseWebSearch parameter is not supported in Gemini API.");const d=r(l,["googleMaps"]);d!=null&&f(t,["googleMaps"],cC(d));const m=r(l,["urlContext"]);m!=null&&f(t,["urlContext"],m);const g=r(l,["computerUse"]);g!=null&&f(t,["computerUse"],g);const y=r(l,["codeExecution"]);return y!=null&&f(t,["codeExecution"],y),t}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */function yC(l){const t=[];for(const o in l)if(Object.prototype.hasOwnProperty.call(l,o)){const a=l[o];if(typeof a=="object"&&a!=null&&Object.keys(a).length>0){const u=Object.keys(a).map(d=>`${o}.${d}`);t.push(...u)}else t.push(o)}return t.join(",")}function vC(l,t){let o=null;const a=l.bidiGenerateContentSetup;if(typeof a=="object"&&a!==null&&"setup"in a){const d=a.setup;typeof d=="object"&&d!==null?(l.bidiGenerateContentSetup=d,o=d):delete l.bidiGenerateContentSetup}else a!==void 0&&delete l.bidiGenerateContentSetup;const u=l.fieldMask;if(o){const d=yC(o);if(Array.isArray(t==null?void 0:t.lockAdditionalFields)&&(t==null?void 0:t.lockAdditionalFields.length)===0)d?l.fieldMask=d:delete l.fieldMask;else if(t!=null&&t.lockAdditionalFields&&t.lockAdditionalFields.length>0&&u!==null&&Array.isArray(u)&&u.length>0){const m=["temperature","topK","topP","maxOutputTokens","responseModalities","seed","speechConfig"];let g=[];u.length>0&&(g=u.map(h=>m.includes(h)?`generationConfig.${h}`:h));const y=[];d&&y.push(d),g.length>0&&y.push(...g),y.length>0?l.fieldMask=y.join(","):delete l.fieldMask}else delete l.fieldMask}else u!==null&&Array.isArray(u)&&u.length>0?l.fieldMask=u.join(","):delete l.fieldMask;return l}class TC extends cl{constructor(t){super(),this.apiClient=t}async create(t){var o,a;let u,d="",m={};if(this.apiClient.isVertexAI())throw new Error("The client.tokens.create method is only supported by the Gemini Developer API.");{const g=uC(this.apiClient,t);d=Z("auth_tokens",g._url),m=g._query,delete g.config,delete g._url,delete g._query;const y=vC(g,t.config);return u=this.apiClient.request({path:d,queryParams:m,body:JSON.stringify(y),httpMethod:"POST",httpOptions:(o=t.config)===null||o===void 0?void 0:o.httpOptions,abortSignal:(a=t.config)===null||a===void 0?void 0:a.abortSignal}).then(h=>h.json()),u.then(h=>h)}}}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */function SC(l,t){const o={},a=r(l,["name"]);return a!=null&&f(o,["_url","name"],a),o}function EC(l,t){const o={},a=r(l,["name"]);return a!=null&&f(o,["_url","name"],a),o}function _C(l,t,o){const a={};if(r(l,["validationDataset"])!==void 0)throw new Error("validationDataset parameter is not supported in Gemini API.");const u=r(l,["tunedModelDisplayName"]);if(t!==void 0&&u!=null&&f(t,["displayName"],u),r(l,["description"])!==void 0)throw new Error("description parameter is not supported in Gemini API.");const d=r(l,["epochCount"]);t!==void 0&&d!=null&&f(t,["tuningTask","hyperparameters","epochCount"],d);const m=r(l,["learningRateMultiplier"]);if(m!=null&&f(a,["tuningTask","hyperparameters","learningRateMultiplier"],m),r(l,["exportLastCheckpointOnly"])!==void 0)throw new Error("exportLastCheckpointOnly parameter is not supported in Gemini API.");if(r(l,["preTunedModelCheckpointId"])!==void 0)throw new Error("preTunedModelCheckpointId parameter is not supported in Gemini API.");if(r(l,["adapterSize"])!==void 0)throw new Error("adapterSize parameter is not supported in Gemini API.");const g=r(l,["batchSize"]);t!==void 0&&g!=null&&f(t,["tuningTask","hyperparameters","batchSize"],g);const y=r(l,["learningRate"]);if(t!==void 0&&y!=null&&f(t,["tuningTask","hyperparameters","learningRate"],y),r(l,["labels"])!==void 0)throw new Error("labels parameter is not supported in Gemini API.");return a}function CC(l,t,o){const a={},u=r(l,["validationDataset"]);t!==void 0&&u!=null&&f(t,["supervisedTuningSpec"],GC(u));const d=r(l,["tunedModelDisplayName"]);t!==void 0&&d!=null&&f(t,["tunedModelDisplayName"],d);const m=r(l,["description"]);t!==void 0&&m!=null&&f(t,["description"],m);const g=r(l,["epochCount"]);t!==void 0&&g!=null&&f(t,["supervisedTuningSpec","hyperParameters","epochCount"],g);const y=r(l,["learningRateMultiplier"]);t!==void 0&&y!=null&&f(t,["supervisedTuningSpec","hyperParameters","learningRateMultiplier"],y);const h=r(l,["exportLastCheckpointOnly"]);t!==void 0&&h!=null&&f(t,["supervisedTuningSpec","exportLastCheckpointOnly"],h);const v=r(l,["adapterSize"]);if(t!==void 0&&v!=null&&f(t,["supervisedTuningSpec","hyperParameters","adapterSize"],v),r(l,["batchSize"])!==void 0)throw new Error("batchSize parameter is not supported in Vertex AI.");if(r(l,["learningRate"])!==void 0)throw new Error("learningRate parameter is not supported in Vertex AI.");const S=r(l,["labels"]);return t!==void 0&&S!=null&&f(t,["labels"],S),a}function AC(l,t){const o={},a=r(l,["baseModel"]);a!=null&&f(o,["baseModel"],a);const u=r(l,["preTunedModel"]);u!=null&&f(o,["preTunedModel"],u);const d=r(l,["trainingDataset"]);d!=null&&f(o,["tuningTask","trainingData"],LC(d));const m=r(l,["config"]);return m!=null&&_C(m,o),o}function xC(l,t){const o={},a=r(l,["baseModel"]);a!=null&&f(o,["baseModel"],a);const u=r(l,["preTunedModel"]);u!=null&&f(o,["preTunedModel"],u);const d=r(l,["trainingDataset"]);d!=null&&qC(d,o);const m=r(l,["config"]);return m!=null&&CC(m,o),o}function RC(l,t){const o={},a=r(l,["name"]);return a!=null&&f(o,["_url","name"],a),o}function MC(l,t){const o={},a=r(l,["name"]);return a!=null&&f(o,["_url","name"],a),o}function NC(l,t,o){const a={},u=r(l,["pageSize"]);t!==void 0&&u!=null&&f(t,["_query","pageSize"],u);const d=r(l,["pageToken"]);t!==void 0&&d!=null&&f(t,["_query","pageToken"],d);const m=r(l,["filter"]);return t!==void 0&&m!=null&&f(t,["_query","filter"],m),a}function bC(l,t,o){const a={},u=r(l,["pageSize"]);t!==void 0&&u!=null&&f(t,["_query","pageSize"],u);const d=r(l,["pageToken"]);t!==void 0&&d!=null&&f(t,["_query","pageToken"],d);const m=r(l,["filter"]);return t!==void 0&&m!=null&&f(t,["_query","filter"],m),a}function DC(l,t){const o={},a=r(l,["config"]);return a!=null&&NC(a,o),o}function IC(l,t){const o={},a=r(l,["config"]);return a!=null&&bC(a,o),o}function wC(l,t){const o={},a=r(l,["sdkHttpResponse"]);a!=null&&f(o,["sdkHttpResponse"],a);const u=r(l,["nextPageToken"]);u!=null&&f(o,["nextPageToken"],u);const d=r(l,["tunedModels"]);if(d!=null){let m=d;Array.isArray(m)&&(m=m.map(g=>ig(g))),f(o,["tuningJobs"],m)}return o}function UC(l,t){const o={},a=r(l,["sdkHttpResponse"]);a!=null&&f(o,["sdkHttpResponse"],a);const u=r(l,["nextPageToken"]);u!=null&&f(o,["nextPageToken"],u);const d=r(l,["tuningJobs"]);if(d!=null){let m=d;Array.isArray(m)&&(m=m.map(g=>Cr(g))),f(o,["tuningJobs"],m)}return o}function kC(l,t){const o={},a=r(l,["name"]);a!=null&&f(o,["model"],a);const u=r(l,["name"]);return u!=null&&f(o,["endpoint"],u),o}function LC(l,t){const o={};if(r(l,["gcsUri"])!==void 0)throw new Error("gcsUri parameter is not supported in Gemini API.");if(r(l,["vertexDatasetResource"])!==void 0)throw new Error("vertexDatasetResource parameter is not supported in Gemini API.");const a=r(l,["examples"]);if(a!=null){let u=a;Array.isArray(u)&&(u=u.map(d=>d)),f(o,["examples","examples"],u)}return o}function qC(l,t,o){const a={},u=r(l,["gcsUri"]);t!==void 0&&u!=null&&f(t,["supervisedTuningSpec","trainingDatasetUri"],u);const d=r(l,["vertexDatasetResource"]);if(t!==void 0&&d!=null&&f(t,["supervisedTuningSpec","trainingDatasetUri"],d),r(l,["examples"])!==void 0)throw new Error("examples parameter is not supported in Vertex AI.");return a}function ig(l,t){const o={},a=r(l,["sdkHttpResponse"]);a!=null&&f(o,["sdkHttpResponse"],a);const u=r(l,["name"]);u!=null&&f(o,["name"],u);const d=r(l,["state"]);d!=null&&f(o,["state"],Hm(d));const m=r(l,["createTime"]);m!=null&&f(o,["createTime"],m);const g=r(l,["tuningTask","startTime"]);g!=null&&f(o,["startTime"],g);const y=r(l,["tuningTask","completeTime"]);y!=null&&f(o,["endTime"],y);const h=r(l,["updateTime"]);h!=null&&f(o,["updateTime"],h);const v=r(l,["description"]);v!=null&&f(o,["description"],v);const S=r(l,["baseModel"]);S!=null&&f(o,["baseModel"],S);const E=r(l,["_self"]);return E!=null&&f(o,["tunedModel"],kC(E)),o}function Cr(l,t){const o={},a=r(l,["sdkHttpResponse"]);a!=null&&f(o,["sdkHttpResponse"],a);const u=r(l,["name"]);u!=null&&f(o,["name"],u);const d=r(l,["state"]);d!=null&&f(o,["state"],Hm(d));const m=r(l,["createTime"]);m!=null&&f(o,["createTime"],m);const g=r(l,["startTime"]);g!=null&&f(o,["startTime"],g);const y=r(l,["endTime"]);y!=null&&f(o,["endTime"],y);const h=r(l,["updateTime"]);h!=null&&f(o,["updateTime"],h);const v=r(l,["error"]);v!=null&&f(o,["error"],v);const S=r(l,["description"]);S!=null&&f(o,["description"],S);const E=r(l,["baseModel"]);E!=null&&f(o,["baseModel"],E);const R=r(l,["tunedModel"]);R!=null&&f(o,["tunedModel"],R);const N=r(l,["preTunedModel"]);N!=null&&f(o,["preTunedModel"],N);const z=r(l,["supervisedTuningSpec"]);z!=null&&f(o,["supervisedTuningSpec"],z);const O=r(l,["tuningDataStats"]);O!=null&&f(o,["tuningDataStats"],O);const P=r(l,["encryptionSpec"]);P!=null&&f(o,["encryptionSpec"],P);const K=r(l,["partnerModelTuningSpec"]);K!=null&&f(o,["partnerModelTuningSpec"],K);const B=r(l,["customBaseModel"]);B!=null&&f(o,["customBaseModel"],B);const V=r(l,["experiment"]);V!=null&&f(o,["experiment"],V);const Q=r(l,["labels"]);Q!=null&&f(o,["labels"],Q);const j=r(l,["outputUri"]);j!=null&&f(o,["outputUri"],j);const J=r(l,["pipelineJob"]);J!=null&&f(o,["pipelineJob"],J);const ge=r(l,["serviceAccount"]);ge!=null&&f(o,["serviceAccount"],ge);const te=r(l,["tunedModelDisplayName"]);te!=null&&f(o,["tunedModelDisplayName"],te);const de=r(l,["veoTuningSpec"]);return de!=null&&f(o,["veoTuningSpec"],de),o}function zC(l,t){const o={},a=r(l,["sdkHttpResponse"]);a!=null&&f(o,["sdkHttpResponse"],a);const u=r(l,["name"]);u!=null&&f(o,["name"],u);const d=r(l,["metadata"]);d!=null&&f(o,["metadata"],d);const m=r(l,["done"]);m!=null&&f(o,["done"],m);const g=r(l,["error"]);return g!=null&&f(o,["error"],g),o}function GC(l,t){const o={},a=r(l,["gcsUri"]);a!=null&&f(o,["validationDatasetUri"],a);const u=r(l,["vertexDatasetResource"]);return u!=null&&f(o,["validationDatasetUri"],u),o}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */class HC extends cl{constructor(t){super(),this.apiClient=t,this.get=async o=>await this.getInternal(o),this.list=async(o={})=>new oo(ul.PAGED_ITEM_TUNING_JOBS,a=>this.listInternal(a),await this.listInternal(o),o),this.tune=async o=>{var a;if(this.apiClient.isVertexAI())if(o.baseModel.startsWith("projects/")){const u={tunedModelName:o.baseModel};!((a=o.config)===null||a===void 0)&&a.preTunedModelCheckpointId&&(u.checkpointId=o.config.preTunedModelCheckpointId);const d=Object.assign(Object.assign({},o),{preTunedModel:u});return d.baseModel=void 0,await this.tuneInternal(d)}else{const u=Object.assign({},o);return await this.tuneInternal(u)}else{const u=Object.assign({},o),d=await this.tuneMldevInternal(u);let m="";return d.metadata!==void 0&&d.metadata.tunedModel!==void 0?m=d.metadata.tunedModel:d.name!==void 0&&d.name.includes("/operations/")&&(m=d.name.split("/operations/")[0]),{name:m,state:gr.JOB_STATE_QUEUED}}}}async getInternal(t){var o,a,u,d;let m,g="",y={};if(this.apiClient.isVertexAI()){const h=MC(t);return g=Z("{name}",h._url),y=h._query,delete h._url,delete h._query,m=this.apiClient.request({path:g,queryParams:y,body:JSON.stringify(h),httpMethod:"GET",httpOptions:(o=t.config)===null||o===void 0?void 0:o.httpOptions,abortSignal:(a=t.config)===null||a===void 0?void 0:a.abortSignal}).then(v=>v.json().then(S=>{const E=S;return E.sdkHttpResponse={headers:v.headers},E})),m.then(v=>Cr(v))}else{const h=RC(t);return g=Z("{name}",h._url),y=h._query,delete h._url,delete h._query,m=this.apiClient.request({path:g,queryParams:y,body:JSON.stringify(h),httpMethod:"GET",httpOptions:(u=t.config)===null||u===void 0?void 0:u.httpOptions,abortSignal:(d=t.config)===null||d===void 0?void 0:d.abortSignal}).then(v=>v.json().then(S=>{const E=S;return E.sdkHttpResponse={headers:v.headers},E})),m.then(v=>ig(v))}}async listInternal(t){var o,a,u,d;let m,g="",y={};if(this.apiClient.isVertexAI()){const h=IC(t);return g=Z("tuningJobs",h._url),y=h._query,delete h._url,delete h._query,m=this.apiClient.request({path:g,queryParams:y,body:JSON.stringify(h),httpMethod:"GET",httpOptions:(o=t.config)===null||o===void 0?void 0:o.httpOptions,abortSignal:(a=t.config)===null||a===void 0?void 0:a.abortSignal}).then(v=>v.json().then(S=>{const E=S;return E.sdkHttpResponse={headers:v.headers},E})),m.then(v=>{const S=UC(v),E=new nm;return Object.assign(E,S),E})}else{const h=DC(t);return g=Z("tunedModels",h._url),y=h._query,delete h._url,delete h._query,m=this.apiClient.request({path:g,queryParams:y,body:JSON.stringify(h),httpMethod:"GET",httpOptions:(u=t.config)===null||u===void 0?void 0:u.httpOptions,abortSignal:(d=t.config)===null||d===void 0?void 0:d.abortSignal}).then(v=>v.json().then(S=>{const E=S;return E.sdkHttpResponse={headers:v.headers},E})),m.then(v=>{const S=wC(v),E=new nm;return Object.assign(E,S),E})}}async cancel(t){var o,a,u,d;let m="",g={};if(this.apiClient.isVertexAI()){const y=EC(t);m=Z("{name}:cancel",y._url),g=y._query,delete y._url,delete y._query,await this.apiClient.request({path:m,queryParams:g,body:JSON.stringify(y),httpMethod:"POST",httpOptions:(o=t.config)===null||o===void 0?void 0:o.httpOptions,abortSignal:(a=t.config)===null||a===void 0?void 0:a.abortSignal})}else{const y=SC(t);m=Z("{name}:cancel",y._url),g=y._query,delete y._url,delete y._query,await this.apiClient.request({path:m,queryParams:g,body:JSON.stringify(y),httpMethod:"POST",httpOptions:(u=t.config)===null||u===void 0?void 0:u.httpOptions,abortSignal:(d=t.config)===null||d===void 0?void 0:d.abortSignal})}}async tuneInternal(t){var o,a;let u,d="",m={};if(this.apiClient.isVertexAI()){const g=xC(t);return d=Z("tuningJobs",g._url),m=g._query,delete g._url,delete g._query,u=this.apiClient.request({path:d,queryParams:m,body:JSON.stringify(g),httpMethod:"POST",httpOptions:(o=t.config)===null||o===void 0?void 0:o.httpOptions,abortSignal:(a=t.config)===null||a===void 0?void 0:a.abortSignal}).then(y=>y.json().then(h=>{const v=h;return v.sdkHttpResponse={headers:y.headers},v})),u.then(y=>Cr(y))}else throw new Error("This method is only supported by the Vertex AI.")}async tuneMldevInternal(t){var o,a;let u,d="",m={};if(this.apiClient.isVertexAI())throw new Error("This method is only supported by the Gemini Developer API.");{const g=AC(t);return d=Z("tunedModels",g._url),m=g._query,delete g._url,delete g._query,u=this.apiClient.request({path:d,queryParams:m,body:JSON.stringify(g),httpMethod:"POST",httpOptions:(o=t.config)===null||o===void 0?void 0:o.httpOptions,abortSignal:(a=t.config)===null||a===void 0?void 0:a.abortSignal}).then(y=>y.json().then(h=>{const v=h;return v.sdkHttpResponse={headers:y.headers},v})),u.then(y=>zC(y))}}}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */class VC{async download(t,o){throw new Error("Download to file is not supported in the browser, please use a browser compliant download like an <a> tag.")}}const BC=1024*1024*8,PC=3,OC=1e3,YC=2,pr="x-goog-upload-status";async function JC(l,t,o){var a,u,d;let m=0,g=0,y=new yr(new Response),h="upload";for(m=l.size;g<m;){const S=Math.min(BC,m-g),E=l.slice(g,g+S);g+S>=m&&(h+=", finalize");let R=0,N=OC;for(;R<PC&&(y=await o.request({path:"",body:E,httpMethod:"POST",httpOptions:{apiVersion:"",baseUrl:t,headers:{"X-Goog-Upload-Command":h,"X-Goog-Upload-Offset":String(g),"Content-Length":String(S)}}}),!(!((a=y==null?void 0:y.headers)===null||a===void 0)&&a[pr]));)R++,await KC(N),N=N*YC;if(g+=S,((u=y==null?void 0:y.headers)===null||u===void 0?void 0:u[pr])!=="active")break;if(m<=g)throw new Error("All content has been uploaded, but the upload status is not finalized.")}const v=await(y==null?void 0:y.json());if(((d=y==null?void 0:y.headers)===null||d===void 0?void 0:d[pr])!=="final")throw new Error("Failed to upload file: Upload status is not finalized.");return v.file}async function FC(l){return{size:l.size,type:l.type}}function KC(l){return new Promise(t=>setTimeout(t,l))}class QC{async upload(t,o,a){if(typeof t=="string")throw new Error("File path is not supported in browser uploader.");return await JC(t,o,a)}async stat(t){if(typeof t=="string")throw new Error("File path is not supported in browser uploader.");return await FC(t)}}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */class XC{create(t,o,a){return new ZC(t,o,a)}}class ZC{constructor(t,o,a){this.url=t,this.headers=o,this.callbacks=a}connect(){this.ws=new WebSocket(this.url),this.ws.onopen=this.callbacks.onopen,this.ws.onerror=this.callbacks.onerror,this.ws.onclose=this.callbacks.onclose,this.ws.onmessage=this.callbacks.onmessage}send(t){if(this.ws===void 0)throw new Error("WebSocket is not connected");this.ws.send(t)}close(){if(this.ws===void 0)throw new Error("WebSocket is not connected");this.ws.close()}}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */const _m="x-goog-api-key";class $C{constructor(t){this.apiKey=t}async addAuthHeaders(t,o){if(t.get(_m)===null){if(this.apiKey.startsWith("auth_tokens/"))throw new Error("Ephemeral tokens are only supported by the live API.");if(!this.apiKey)throw new Error("API key is missing. Please provide a valid API key.");t.append(_m,this.apiKey)}}}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */const WC="gl-node/";class jC{constructor(t){var o;if(t.apiKey==null)throw new Error("An API Key must be set when running in a browser");if(t.project||t.location)throw new Error("Vertex AI project based authentication is not supported on browser runtimes. Please do not provide a project or location.");this.vertexai=(o=t.vertexai)!==null&&o!==void 0?o:!1,this.apiKey=t.apiKey;const a=yv(t.httpOptions,t.vertexai,void 0,void 0);a&&(t.httpOptions?t.httpOptions.baseUrl=a:t.httpOptions={baseUrl:a}),this.apiVersion=t.apiVersion;const u=new $C(this.apiKey);this.apiClient=new z_({auth:u,apiVersion:this.apiVersion,apiKey:this.apiKey,vertexai:this.vertexai,httpOptions:t.httpOptions,userAgentExtra:WC+"web",uploader:new QC,downloader:new VC}),this.models=new lC(this.apiClient),this.live=new Z_(this.apiClient,u,new XC),this.batches=new qT(this.apiClient),this.chats=new hS(this.models,this.apiClient),this.caches=new fS(this.apiClient),this.files=new AS(this.apiClient),this.operations=new iC(this.apiClient),this.authTokens=new TC(this.apiClient),this.tunings=new HC(this.apiClient)}}const eA="focusflow_api_key",tA=()=>{const l=localStorage.getItem(eA);if(l)return l;throw new Error("Chiave API non trovata. Impostala nelle Impostazioni.")};let hr=null,Cm=null,$l=null;const og=()=>{const l=tA();return(!hr||Cm!==l)&&(hr=new jC({apiKey:l}),Cm=l,$l=null),hr},nA={type:it.OBJECT,properties:{summary:{type:it.STRING,description:"Un riassunto conciso e incoraggiante della giornata di studio dell'utente basato sulle sue note di sessione."},tip:{type:it.STRING,description:"Un consiglio pratico e positivo per migliorare la prossima giornata di studio."},indicators:{type:it.OBJECT,properties:{stress:{type:it.NUMBER,description:"Una valutazione da 0 (nessuno stress) a 100 (stress molto alto) basata sulle note della sessione."},happiness:{type:it.NUMBER,description:"Una valutazione da 0 (molto infelice) a 100 (molto felice) basata sulle note della sessione."},concentration:{type:it.NUMBER,description:"Una valutazione da 0 (molto distratto) a 100 (pienamente concentrato) basata sulle note della sessione."},fatigue:{type:it.NUMBER,description:"Una valutazione da 0 (molto energico) a 100 (molto affaticato) basata sulle note della sessione."}},required:["stress","happiness","concentration","fatigue"]}},required:["summary","tip","indicators"]},lA=async l=>{const t=og(),o="gemini-2.5-pro",a=`Analizza i seguenti log di sessioni di studio. L'utente ha scritto delle note dopo ogni sessione su come è andata.
  Fornisci un riassunto conciso, un consiglio pratico e valuta stress, felicità, concentrazione e stanchezza da 0 a 100.

  Log: ${JSON.stringify(l.map(u=>({durata:u.duration,note:u.notes})))}`;try{const u=await t.models.generateContent({model:o,contents:a,config:{responseMimeType:"application/json",responseSchema:nA}});return JSON.parse(u.text)}catch(u){throw console.error("Errore durante l'analisi delle sessioni di studio:",u),new Error("Impossibile analizzare le sessioni. Controlla la tua chiave API e riprova.")}},iA=async(l,t)=>{const o=og();if(!$l){let a=l;a.length>0&&a[0].role==="model"&&(a=a.slice(1)),$l=o.chats.create({model:"gemini-flash-lite-latest",history:a.map(u=>({role:u.role,parts:[{text:u.text}]})),config:{systemInstruction:"Sei un Mental Coach AI amichevole e pratico per studenti. Il tuo obiettivo è fornire consigli concisi, di supporto e attuabili. Mantieni le tue risposte brevi, facili da leggere e dirette. Usa un tono caldo e incoraggiante. Non dare consigli medici. Usa markdown per la formattazione se aiuta la leggibilità."}})}try{return(await $l.sendMessage({message:t})).text}catch(a){throw $l=null,console.error("Errore nella risposta del chatbot:",a),new Error("Impossibile ottenere una risposta. Controlla la tua chiave API e riprova.")}},Am=()=>{$l=null},Ra=({label:l,value:t,colorClass:o})=>w.jsxs("div",{children:[w.jsxs("div",{className:"flex justify-between mb-1",children:[w.jsx("span",{className:"text-sm font-medium text-slate-300",children:l}),w.jsxs("span",{className:"text-sm font-bold text-white",children:[t,"%"]})]}),w.jsx("div",{className:"w-full bg-slate-700 rounded-full h-2.5",children:w.jsx("div",{className:`h-2.5 rounded-full ${o}`,style:{width:`${t}%`,transition:"width 0.5s ease-in-out"}})})]}),oA=()=>{const[l,t]=xe.useState([]),[o,a]=xe.useState(null),[u,d]=xe.useState(!1),[m,g]=xe.useState(null);xe.useEffect(()=>{t(Dr())},[]);const y=async()=>{if(l.length===0){g("Non ci sono sessioni di studio da analizzare. Usa il timer per registrarne una!");return}d(!0),g(null),a(null);try{const h=await lA(l);a(h)}catch(h){g(h.message||"Si è verificato un errore durante l'analisi.")}finally{d(!1)}};return w.jsxs("div",{className:"space-y-6 animate-fade-in",children:[w.jsx("h1",{className:"text-3xl font-bold text-center text-cyan-300",children:"Analisi Studio"}),w.jsxs("div",{className:"bg-slate-800 p-6 rounded-2xl shadow-lg text-center",children:[w.jsx("p",{className:"text-slate-300 mb-4",children:"Ottieni un'analisi delle tue sessioni di studio basata sulle tue note. L'AI fornirà un riassunto, un consiglio e valuterà i tuoi livelli di stress, felicità e concentrazione."}),w.jsx("button",{onClick:y,disabled:u||l.length===0,className:"bg-cyan-500 text-white font-bold py-3 px-8 rounded-lg hover:bg-cyan-600 transition-colors shadow-lg shadow-cyan-500/20 disabled:bg-slate-600 disabled:cursor-not-allowed",children:u?"Analisi in corso...":"Analizza le mie sessioni"}),l.length===0&&w.jsx("p",{className:"text-yellow-400 text-sm mt-4",children:"Nessuna sessione trovata. Usa prima il timer!"})]}),u&&w.jsxs("div",{className:"text-center p-8",children:[w.jsx("div",{className:"animate-spin rounded-full h-12 w-12 border-b-2 border-cyan-400 mx-auto"}),w.jsx("p",{className:"mt-4 text-slate-400",children:"L'AI sta analizzando i tuoi dati..."})]}),m&&w.jsxs("div",{className:"bg-red-900/50 border border-red-700 text-red-300 px-4 py-3 rounded-lg text-center",role:"alert",children:[w.jsx("strong",{className:"font-bold",children:"Errore: "}),w.jsx("span",{className:"block sm:inline",children:m})]}),o&&!u&&w.jsxs("div",{className:"space-y-6 animate-fade-in-up",children:[w.jsxs("div",{className:"bg-slate-800 p-6 rounded-2xl shadow-lg",children:[w.jsx("h2",{className:"text-xl font-semibold text-cyan-200 mb-3",children:"📝 Riassunto"}),w.jsx("p",{className:"text-slate-300 prose prose-invert max-w-none",children:o.summary})]}),w.jsxs("div",{className:"bg-slate-800 p-6 rounded-2xl shadow-lg",children:[w.jsx("h2",{className:"text-xl font-semibold text-cyan-200 mb-3",children:"💡 Consiglio del Coach"}),w.jsx("p",{className:"text-slate-300 prose prose-invert max-w-none",children:o.tip})]}),w.jsxs("div",{className:"bg-slate-800 p-6 rounded-2xl shadow-lg",children:[w.jsx("h2",{className:"text-xl font-semibold text-cyan-200 mb-4",children:"📊 Indicatori Chiave"}),w.jsxs("div",{className:"space-y-4",children:[w.jsx(Ra,{label:"Concentrazione",value:o.indicators.concentration,colorClass:"bg-green-500"}),w.jsx(Ra,{label:"Felicità",value:o.indicators.happiness,colorClass:"bg-yellow-400"}),w.jsx(Ra,{label:"Fatica",value:o.indicators.fatigue,colorClass:"bg-orange-500"}),w.jsx(Ra,{label:"Stress",value:o.indicators.stress,colorClass:"bg-red-500"})]})]})]})]})};function zr(){return{async:!1,breaks:!1,extensions:null,gfm:!0,hooks:null,pedantic:!1,renderer:null,silent:!1,tokenizer:null,walkTokens:null}}var fl=zr();function ag(l){fl=l}var io={exec:()=>null};function Se(l,t=""){let o=typeof l=="string"?l:l.source,a={replace:(u,d)=>{let m=typeof d=="string"?d:d.source;return m=m.replace(ut.caret,"$1"),o=o.replace(u,m),a},getRegex:()=>new RegExp(o,t)};return a}var ut={codeRemoveIndent:/^(?: {1,4}| {0,3}\t)/gm,outputLinkReplace:/\\([\[\]])/g,indentCodeCompensation:/^(\s+)(?:```)/,beginningSpace:/^\s+/,endingHash:/#$/,startingSpaceChar:/^ /,endingSpaceChar:/ $/,nonSpaceChar:/[^ ]/,newLineCharGlobal:/\n/g,tabCharGlobal:/\t/g,multipleSpaceGlobal:/\s+/g,blankLine:/^[ \t]*$/,doubleBlankLine:/\n[ \t]*\n[ \t]*$/,blockquoteStart:/^ {0,3}>/,blockquoteSetextReplace:/\n {0,3}((?:=+|-+) *)(?=\n|$)/g,blockquoteSetextReplace2:/^ {0,3}>[ \t]?/gm,listReplaceTabs:/^\t+/,listReplaceNesting:/^ {1,4}(?=( {4})*[^ ])/g,listIsTask:/^\[[ xX]\] /,listReplaceTask:/^\[[ xX]\] +/,anyLine:/\n.*\n/,hrefBrackets:/^<(.*)>$/,tableDelimiter:/[:|]/,tableAlignChars:/^\||\| *$/g,tableRowBlankLine:/\n[ \t]*$/,tableAlignRight:/^ *-+: *$/,tableAlignCenter:/^ *:-+: *$/,tableAlignLeft:/^ *:-+ *$/,startATag:/^<a /i,endATag:/^<\/a>/i,startPreScriptTag:/^<(pre|code|kbd|script)(\s|>)/i,endPreScriptTag:/^<\/(pre|code|kbd|script)(\s|>)/i,startAngleBracket:/^</,endAngleBracket:/>$/,pedanticHrefTitle:/^([^'"]*[^\s])\s+(['"])(.*)\2/,unicodeAlphaNumeric:/[\p{L}\p{N}]/u,escapeTest:/[&<>"']/,escapeReplace:/[&<>"']/g,escapeTestNoEncode:/[<>"']|&(?!(#\d{1,7}|#[Xx][a-fA-F0-9]{1,6}|\w+);)/,escapeReplaceNoEncode:/[<>"']|&(?!(#\d{1,7}|#[Xx][a-fA-F0-9]{1,6}|\w+);)/g,unescapeTest:/&(#(?:\d+)|(?:#x[0-9A-Fa-f]+)|(?:\w+));?/ig,caret:/(^|[^\[])\^/g,percentDecode:/%25/g,findPipe:/\|/g,splitPipe:/ \|/,slashPipe:/\\\|/g,carriageReturn:/\r\n|\r/g,spaceLine:/^ +$/gm,notSpaceStart:/^\S*/,endingNewline:/\n$/,listItemRegex:l=>new RegExp(`^( {0,3}${l})((?:[	 ][^\\n]*)?(?:\\n|$))`),nextBulletRegex:l=>new RegExp(`^ {0,${Math.min(3,l-1)}}(?:[*+-]|\\d{1,9}[.)])((?:[ 	][^\\n]*)?(?:\\n|$))`),hrRegex:l=>new RegExp(`^ {0,${Math.min(3,l-1)}}((?:- *){3,}|(?:_ *){3,}|(?:\\* *){3,})(?:\\n+|$)`),fencesBeginRegex:l=>new RegExp(`^ {0,${Math.min(3,l-1)}}(?:\`\`\`|~~~)`),headingBeginRegex:l=>new RegExp(`^ {0,${Math.min(3,l-1)}}#`),htmlBeginRegex:l=>new RegExp(`^ {0,${Math.min(3,l-1)}}<(?:[a-z].*>|!--)`,"i")},aA=/^(?:[ \t]*(?:\n|$))+/,sA=/^((?: {4}| {0,3}\t)[^\n]+(?:\n(?:[ \t]*(?:\n|$))*)?)+/,uA=/^ {0,3}(`{3,}(?=[^`\n]*(?:\n|$))|~{3,})([^\n]*)(?:\n|$)(?:|([\s\S]*?)(?:\n|$))(?: {0,3}\1[~`]* *(?=\n|$)|$)/,ao=/^ {0,3}((?:-[\t ]*){3,}|(?:_[ \t]*){3,}|(?:\*[ \t]*){3,})(?:\n+|$)/,rA=/^ {0,3}(#{1,6})(?=\s|$)(.*)(?:\n+|$)/,Gr=/(?:[*+-]|\d{1,9}[.)])/,sg=/^(?!bull |blockCode|fences|blockquote|heading|html|table)((?:.|\n(?!\s*?\n|bull |blockCode|fences|blockquote|heading|html|table))+?)\n {0,3}(=+|-+) *(?:\n+|$)/,ug=Se(sg).replace(/bull/g,Gr).replace(/blockCode/g,/(?: {4}| {0,3}\t)/).replace(/fences/g,/ {0,3}(?:`{3,}|~{3,})/).replace(/blockquote/g,/ {0,3}>/).replace(/heading/g,/ {0,3}#{1,6}/).replace(/html/g,/ {0,3}<[^\n>]+>\n/).replace(/\|table/g,"").getRegex(),cA=Se(sg).replace(/bull/g,Gr).replace(/blockCode/g,/(?: {4}| {0,3}\t)/).replace(/fences/g,/ {0,3}(?:`{3,}|~{3,})/).replace(/blockquote/g,/ {0,3}>/).replace(/heading/g,/ {0,3}#{1,6}/).replace(/html/g,/ {0,3}<[^\n>]+>\n/).replace(/table/g,/ {0,3}\|?(?:[:\- ]*\|)+[\:\- ]*\n/).getRegex(),Hr=/^([^\n]+(?:\n(?!hr|heading|lheading|blockquote|fences|list|html|table| +\n)[^\n]+)*)/,fA=/^[^\n]+/,Vr=/(?!\s*\])(?:\\[\s\S]|[^\[\]\\])+/,dA=Se(/^ {0,3}\[(label)\]: *(?:\n[ \t]*)?([^<\s][^\s]*|<.*?>)(?:(?: +(?:\n[ \t]*)?| *\n[ \t]*)(title))? *(?:\n+|$)/).replace("label",Vr).replace("title",/(?:"(?:\\"?|[^"\\])*"|'[^'\n]*(?:\n[^'\n]+)*\n?'|\([^()]*\))/).getRegex(),pA=Se(/^( {0,3}bull)([ \t][^\n]+?)?(?:\n|$)/).replace(/bull/g,Gr).getRegex(),Ba="address|article|aside|base|basefont|blockquote|body|caption|center|col|colgroup|dd|details|dialog|dir|div|dl|dt|fieldset|figcaption|figure|footer|form|frame|frameset|h[1-6]|head|header|hr|html|iframe|legend|li|link|main|menu|menuitem|meta|nav|noframes|ol|optgroup|option|p|param|search|section|summary|table|tbody|td|tfoot|th|thead|title|tr|track|ul",Br=/<!--(?:-?>|[\s\S]*?(?:-->|$))/,hA=Se("^ {0,3}(?:<(script|pre|style|textarea)[\\s>][\\s\\S]*?(?:</\\1>[^\\n]*\\n+|$)|comment[^\\n]*(\\n+|$)|<\\?[\\s\\S]*?(?:\\?>\\n*|$)|<![A-Z][\\s\\S]*?(?:>\\n*|$)|<!\\[CDATA\\[[\\s\\S]*?(?:\\]\\]>\\n*|$)|</?(tag)(?: +|\\n|/?>)[\\s\\S]*?(?:(?:\\n[ 	]*)+\\n|$)|<(?!script|pre|style|textarea)([a-z][\\w-]*)(?:attribute)*? */?>(?=[ \\t]*(?:\\n|$))[\\s\\S]*?(?:(?:\\n[ 	]*)+\\n|$)|</(?!script|pre|style|textarea)[a-z][\\w-]*\\s*>(?=[ \\t]*(?:\\n|$))[\\s\\S]*?(?:(?:\\n[ 	]*)+\\n|$))","i").replace("comment",Br).replace("tag",Ba).replace("attribute",/ +[a-zA-Z:_][\w.:-]*(?: *= *"[^"\n]*"| *= *'[^'\n]*'| *= *[^\s"'=<>`]+)?/).getRegex(),rg=Se(Hr).replace("hr",ao).replace("heading"," {0,3}#{1,6}(?:\\s|$)").replace("|lheading","").replace("|table","").replace("blockquote"," {0,3}>").replace("fences"," {0,3}(?:`{3,}(?=[^`\\n]*\\n)|~{3,})[^\\n]*\\n").replace("list"," {0,3}(?:[*+-]|1[.)]) ").replace("html","</?(?:tag)(?: +|\\n|/?>)|<(?:script|pre|style|textarea|!--)").replace("tag",Ba).getRegex(),mA=Se(/^( {0,3}> ?(paragraph|[^\n]*)(?:\n|$))+/).replace("paragraph",rg).getRegex(),Pr={blockquote:mA,code:sA,def:dA,fences:uA,heading:rA,hr:ao,html:hA,lheading:ug,list:pA,newline:aA,paragraph:rg,table:io,text:fA},xm=Se("^ *([^\\n ].*)\\n {0,3}((?:\\| *)?:?-+:? *(?:\\| *:?-+:? *)*(?:\\| *)?)(?:\\n((?:(?! *\\n|hr|heading|blockquote|code|fences|list|html).*(?:\\n|$))*)\\n*|$)").replace("hr",ao).replace("heading"," {0,3}#{1,6}(?:\\s|$)").replace("blockquote"," {0,3}>").replace("code","(?: {4}| {0,3}	)[^\\n]").replace("fences"," {0,3}(?:`{3,}(?=[^`\\n]*\\n)|~{3,})[^\\n]*\\n").replace("list"," {0,3}(?:[*+-]|1[.)]) ").replace("html","</?(?:tag)(?: +|\\n|/?>)|<(?:script|pre|style|textarea|!--)").replace("tag",Ba).getRegex(),gA={...Pr,lheading:cA,table:xm,paragraph:Se(Hr).replace("hr",ao).replace("heading"," {0,3}#{1,6}(?:\\s|$)").replace("|lheading","").replace("table",xm).replace("blockquote"," {0,3}>").replace("fences"," {0,3}(?:`{3,}(?=[^`\\n]*\\n)|~{3,})[^\\n]*\\n").replace("list"," {0,3}(?:[*+-]|1[.)]) ").replace("html","</?(?:tag)(?: +|\\n|/?>)|<(?:script|pre|style|textarea|!--)").replace("tag",Ba).getRegex()},yA={...Pr,html:Se(`^ *(?:comment *(?:\\n|\\s*$)|<(tag)[\\s\\S]+?</\\1> *(?:\\n{2,}|\\s*$)|<tag(?:"[^"]*"|'[^']*'|\\s[^'"/>\\s]*)*?/?> *(?:\\n{2,}|\\s*$))`).replace("comment",Br).replace(/tag/g,"(?!(?:a|em|strong|small|s|cite|q|dfn|abbr|data|time|code|var|samp|kbd|sub|sup|i|b|u|mark|ruby|rt|rp|bdi|bdo|span|br|wbr|ins|del|img)\\b)\\w+(?!:|[^\\w\\s@]*@)\\b").getRegex(),def:/^ *\[([^\]]+)\]: *<?([^\s>]+)>?(?: +(["(][^\n]+[")]))? *(?:\n+|$)/,heading:/^(#{1,6})(.*)(?:\n+|$)/,fences:io,lheading:/^(.+?)\n {0,3}(=+|-+) *(?:\n+|$)/,paragraph:Se(Hr).replace("hr",ao).replace("heading",` *#{1,6} *[^
]`).replace("lheading",ug).replace("|table","").replace("blockquote"," {0,3}>").replace("|fences","").replace("|list","").replace("|html","").replace("|tag","").getRegex()},vA=/^\\([!"#$%&'()*+,\-./:;<=>?@\[\]\\^_`{|}~])/,TA=/^(`+)([^`]|[^`][\s\S]*?[^`])\1(?!`)/,cg=/^( {2,}|\\)\n(?!\s*$)/,SA=/^(`+|[^`])(?:(?= {2,}\n)|[\s\S]*?(?:(?=[\\<!\[`*_]|\b_|$)|[^ ](?= {2,}\n)))/,Pa=/[\p{P}\p{S}]/u,Or=/[\s\p{P}\p{S}]/u,fg=/[^\s\p{P}\p{S}]/u,EA=Se(/^((?![*_])punctSpace)/,"u").replace(/punctSpace/g,Or).getRegex(),dg=/(?!~)[\p{P}\p{S}]/u,_A=/(?!~)[\s\p{P}\p{S}]/u,CA=/(?:[^\s\p{P}\p{S}]|~)/u,AA=Se(/link|code|html/,"g").replace("link",new RegExp("\\[(?:[^\\[\\]`]|(?<!`)(?<a>`+)[^`]+\\k<a>(?!`))*?\\]\\((?:\\\\[\\s\\S]|[^\\\\\\(\\)]|\\((?:\\\\[\\s\\S]|[^\\\\\\(\\)])*\\))*\\)")).replace("code",new RegExp("(?<!`)(?<b>`+)[^`]+\\k<b>(?!`)")).replace("html",/<(?! )[^<>]*?>/).getRegex(),pg=/^(?:\*+(?:((?!\*)punct)|[^\s*]))|^_+(?:((?!_)punct)|([^\s_]))/,xA=Se(pg,"u").replace(/punct/g,Pa).getRegex(),RA=Se(pg,"u").replace(/punct/g,dg).getRegex(),hg="^[^_*]*?__[^_*]*?\\*[^_*]*?(?=__)|[^*]+(?=[^*])|(?!\\*)punct(\\*+)(?=[\\s]|$)|notPunctSpace(\\*+)(?!\\*)(?=punctSpace|$)|(?!\\*)punctSpace(\\*+)(?=notPunctSpace)|[\\s](\\*+)(?!\\*)(?=punct)|(?!\\*)punct(\\*+)(?!\\*)(?=punct)|notPunctSpace(\\*+)(?=notPunctSpace)",MA=Se(hg,"gu").replace(/notPunctSpace/g,fg).replace(/punctSpace/g,Or).replace(/punct/g,Pa).getRegex(),NA=Se(hg,"gu").replace(/notPunctSpace/g,CA).replace(/punctSpace/g,_A).replace(/punct/g,dg).getRegex(),bA=Se("^[^_*]*?\\*\\*[^_*]*?_[^_*]*?(?=\\*\\*)|[^_]+(?=[^_])|(?!_)punct(_+)(?=[\\s]|$)|notPunctSpace(_+)(?!_)(?=punctSpace|$)|(?!_)punctSpace(_+)(?=notPunctSpace)|[\\s](_+)(?!_)(?=punct)|(?!_)punct(_+)(?!_)(?=punct)","gu").replace(/notPunctSpace/g,fg).replace(/punctSpace/g,Or).replace(/punct/g,Pa).getRegex(),DA=Se(/\\(punct)/,"gu").replace(/punct/g,Pa).getRegex(),IA=Se(/^<(scheme:[^\s\x00-\x1f<>]*|email)>/).replace("scheme",/[a-zA-Z][a-zA-Z0-9+.-]{1,31}/).replace("email",/[a-zA-Z0-9.!#$%&'*+/=?^_`{|}~-]+(@)[a-zA-Z0-9](?:[a-zA-Z0-9-]{0,61}[a-zA-Z0-9])?(?:\.[a-zA-Z0-9](?:[a-zA-Z0-9-]{0,61}[a-zA-Z0-9])?)+(?![-_])/).getRegex(),wA=Se(Br).replace("(?:-->|$)","-->").getRegex(),UA=Se("^comment|^</[a-zA-Z][\\w:-]*\\s*>|^<[a-zA-Z][\\w-]*(?:attribute)*?\\s*/?>|^<\\?[\\s\\S]*?\\?>|^<![a-zA-Z]+\\s[\\s\\S]*?>|^<!\\[CDATA\\[[\\s\\S]*?\\]\\]>").replace("comment",wA).replace("attribute",/\s+[a-zA-Z:_][\w.:-]*(?:\s*=\s*"[^"]*"|\s*=\s*'[^']*'|\s*=\s*[^\s"'=<>`]+)?/).getRegex(),ka=/(?:\[(?:\\[\s\S]|[^\[\]\\])*\]|\\[\s\S]|`+[^`]*?`+(?!`)|[^\[\]\\`])*?/,kA=Se(/^!?\[(label)\]\(\s*(href)(?:(?:[ \t]*(?:\n[ \t]*)?)(title))?\s*\)/).replace("label",ka).replace("href",/<(?:\\.|[^\n<>\\])+>|[^ \t\n\x00-\x1f]*/).replace("title",/"(?:\\"?|[^"\\])*"|'(?:\\'?|[^'\\])*'|\((?:\\\)?|[^)\\])*\)/).getRegex(),mg=Se(/^!?\[(label)\]\[(ref)\]/).replace("label",ka).replace("ref",Vr).getRegex(),gg=Se(/^!?\[(ref)\](?:\[\])?/).replace("ref",Vr).getRegex(),LA=Se("reflink|nolink(?!\\()","g").replace("reflink",mg).replace("nolink",gg).getRegex(),Rm=/[hH][tT][tT][pP][sS]?|[fF][tT][pP]/,Yr={_backpedal:io,anyPunctuation:DA,autolink:IA,blockSkip:AA,br:cg,code:TA,del:io,emStrongLDelim:xA,emStrongRDelimAst:MA,emStrongRDelimUnd:bA,escape:vA,link:kA,nolink:gg,punctuation:EA,reflink:mg,reflinkSearch:LA,tag:UA,text:SA,url:io},qA={...Yr,link:Se(/^!?\[(label)\]\((.*?)\)/).replace("label",ka).getRegex(),reflink:Se(/^!?\[(label)\]\s*\[([^\]]*)\]/).replace("label",ka).getRegex()},Ar={...Yr,emStrongRDelimAst:NA,emStrongLDelim:RA,url:Se(/^((?:protocol):\/\/|www\.)(?:[a-zA-Z0-9\-]+\.?)+[^\s<]*|^email/).replace("protocol",Rm).replace("email",/[A-Za-z0-9._+-]+(@)[a-zA-Z0-9-_]+(?:\.[a-zA-Z0-9-_]*[a-zA-Z0-9])+(?![-_])/).getRegex(),_backpedal:/(?:[^?!.,:;*_'"~()&]+|\([^)]*\)|&(?![a-zA-Z0-9]+;$)|[?!.,:;*_'"~)]+(?!$))+/,del:/^(~~?)(?=[^\s~])((?:\\[\s\S]|[^\\])*?(?:\\[\s\S]|[^\s~\\]))\1(?=[^~]|$)/,text:Se(/^([`~]+|[^`~])(?:(?= {2,}\n)|(?=[a-zA-Z0-9.!#$%&'*+\/=?_`{\|}~-]+@)|[\s\S]*?(?:(?=[\\<!\[`*~_]|\b_|protocol:\/\/|www\.|$)|[^ ](?= {2,}\n)|[^a-zA-Z0-9.!#$%&'*+\/=?_`{\|}~-](?=[a-zA-Z0-9.!#$%&'*+\/=?_`{\|}~-]+@)))/).replace("protocol",Rm).getRegex()},zA={...Ar,br:Se(cg).replace("{2,}","*").getRegex(),text:Se(Ar.text).replace("\\b_","\\b_| {2,}\\n").replace(/\{2,\}/g,"*").getRegex()},Ma={normal:Pr,gfm:gA,pedantic:yA},eo={normal:Yr,gfm:Ar,breaks:zA,pedantic:qA},GA={"&":"&amp;","<":"&lt;",">":"&gt;",'"':"&quot;","'":"&#39;"},Mm=l=>GA[l];function Xt(l,t){if(t){if(ut.escapeTest.test(l))return l.replace(ut.escapeReplace,Mm)}else if(ut.escapeTestNoEncode.test(l))return l.replace(ut.escapeReplaceNoEncode,Mm);return l}function Nm(l){try{l=encodeURI(l).replace(ut.percentDecode,"%")}catch{return null}return l}function bm(l,t){var d;let o=l.replace(ut.findPipe,(m,g,y)=>{let h=!1,v=g;for(;--v>=0&&y[v]==="\\";)h=!h;return h?"|":" |"}),a=o.split(ut.splitPipe),u=0;if(a[0].trim()||a.shift(),a.length>0&&!((d=a.at(-1))!=null&&d.trim())&&a.pop(),t)if(a.length>t)a.splice(t);else for(;a.length<t;)a.push("");for(;u<a.length;u++)a[u]=a[u].trim().replace(ut.slashPipe,"|");return a}function to(l,t,o){let a=l.length;if(a===0)return"";let u=0;for(;u<a&&l.charAt(a-u-1)===t;)u++;return l.slice(0,a-u)}function HA(l,t){if(l.indexOf(t[1])===-1)return-1;let o=0;for(let a=0;a<l.length;a++)if(l[a]==="\\")a++;else if(l[a]===t[0])o++;else if(l[a]===t[1]&&(o--,o<0))return a;return o>0?-2:-1}function Dm(l,t,o,a,u){let d=t.href,m=t.title||null,g=l[1].replace(u.other.outputLinkReplace,"$1");a.state.inLink=!0;let y={type:l[0].charAt(0)==="!"?"image":"link",raw:o,href:d,title:m,text:g,tokens:a.inlineTokens(g)};return a.state.inLink=!1,y}function VA(l,t,o){let a=l.match(o.other.indentCodeCompensation);if(a===null)return t;let u=a[1];return t.split(`
`).map(d=>{let m=d.match(o.other.beginningSpace);if(m===null)return d;let[g]=m;return g.length>=u.length?d.slice(u.length):d}).join(`
`)}var La=class{constructor(l){Ie(this,"options");Ie(this,"rules");Ie(this,"lexer");this.options=l||fl}space(l){let t=this.rules.block.newline.exec(l);if(t&&t[0].length>0)return{type:"space",raw:t[0]}}code(l){let t=this.rules.block.code.exec(l);if(t){let o=t[0].replace(this.rules.other.codeRemoveIndent,"");return{type:"code",raw:t[0],codeBlockStyle:"indented",text:this.options.pedantic?o:to(o,`
`)}}}fences(l){let t=this.rules.block.fences.exec(l);if(t){let o=t[0],a=VA(o,t[3]||"",this.rules);return{type:"code",raw:o,lang:t[2]?t[2].trim().replace(this.rules.inline.anyPunctuation,"$1"):t[2],text:a}}}heading(l){let t=this.rules.block.heading.exec(l);if(t){let o=t[2].trim();if(this.rules.other.endingHash.test(o)){let a=to(o,"#");(this.options.pedantic||!a||this.rules.other.endingSpaceChar.test(a))&&(o=a.trim())}return{type:"heading",raw:t[0],depth:t[1].length,text:o,tokens:this.lexer.inline(o)}}}hr(l){let t=this.rules.block.hr.exec(l);if(t)return{type:"hr",raw:to(t[0],`
`)}}blockquote(l){let t=this.rules.block.blockquote.exec(l);if(t){let o=to(t[0],`
`).split(`
`),a="",u="",d=[];for(;o.length>0;){let m=!1,g=[],y;for(y=0;y<o.length;y++)if(this.rules.other.blockquoteStart.test(o[y]))g.push(o[y]),m=!0;else if(!m)g.push(o[y]);else break;o=o.slice(y);let h=g.join(`
`),v=h.replace(this.rules.other.blockquoteSetextReplace,`
    $1`).replace(this.rules.other.blockquoteSetextReplace2,"");a=a?`${a}
${h}`:h,u=u?`${u}
${v}`:v;let S=this.lexer.state.top;if(this.lexer.state.top=!0,this.lexer.blockTokens(v,d,!0),this.lexer.state.top=S,o.length===0)break;let E=d.at(-1);if((E==null?void 0:E.type)==="code")break;if((E==null?void 0:E.type)==="blockquote"){let R=E,N=R.raw+`
`+o.join(`
`),z=this.blockquote(N);d[d.length-1]=z,a=a.substring(0,a.length-R.raw.length)+z.raw,u=u.substring(0,u.length-R.text.length)+z.text;break}else if((E==null?void 0:E.type)==="list"){let R=E,N=R.raw+`
`+o.join(`
`),z=this.list(N);d[d.length-1]=z,a=a.substring(0,a.length-E.raw.length)+z.raw,u=u.substring(0,u.length-R.raw.length)+z.raw,o=N.substring(d.at(-1).raw.length).split(`
`);continue}}return{type:"blockquote",raw:a,tokens:d,text:u}}}list(l){let t=this.rules.block.list.exec(l);if(t){let o=t[1].trim(),a=o.length>1,u={type:"list",raw:"",ordered:a,start:a?+o.slice(0,-1):"",loose:!1,items:[]};o=a?`\\d{1,9}\\${o.slice(-1)}`:`\\${o}`,this.options.pedantic&&(o=a?o:"[*+-]");let d=this.rules.other.listItemRegex(o),m=!1;for(;l;){let y=!1,h="",v="";if(!(t=d.exec(l))||this.rules.block.hr.test(l))break;h=t[0],l=l.substring(h.length);let S=t[2].split(`
`,1)[0].replace(this.rules.other.listReplaceTabs,P=>" ".repeat(3*P.length)),E=l.split(`
`,1)[0],R=!S.trim(),N=0;if(this.options.pedantic?(N=2,v=S.trimStart()):R?N=t[1].length+1:(N=t[2].search(this.rules.other.nonSpaceChar),N=N>4?1:N,v=S.slice(N),N+=t[1].length),R&&this.rules.other.blankLine.test(E)&&(h+=E+`
`,l=l.substring(E.length+1),y=!0),!y){let P=this.rules.other.nextBulletRegex(N),K=this.rules.other.hrRegex(N),B=this.rules.other.fencesBeginRegex(N),V=this.rules.other.headingBeginRegex(N),Q=this.rules.other.htmlBeginRegex(N);for(;l;){let j=l.split(`
`,1)[0],J;if(E=j,this.options.pedantic?(E=E.replace(this.rules.other.listReplaceNesting,"  "),J=E):J=E.replace(this.rules.other.tabCharGlobal,"    "),B.test(E)||V.test(E)||Q.test(E)||P.test(E)||K.test(E))break;if(J.search(this.rules.other.nonSpaceChar)>=N||!E.trim())v+=`
`+J.slice(N);else{if(R||S.replace(this.rules.other.tabCharGlobal,"    ").search(this.rules.other.nonSpaceChar)>=4||B.test(S)||V.test(S)||K.test(S))break;v+=`
`+E}!R&&!E.trim()&&(R=!0),h+=j+`
`,l=l.substring(j.length+1),S=J.slice(N)}}u.loose||(m?u.loose=!0:this.rules.other.doubleBlankLine.test(h)&&(m=!0));let z=null,O;this.options.gfm&&(z=this.rules.other.listIsTask.exec(v),z&&(O=z[0]!=="[ ] ",v=v.replace(this.rules.other.listReplaceTask,""))),u.items.push({type:"list_item",raw:h,task:!!z,checked:O,loose:!1,text:v,tokens:[]}),u.raw+=h}let g=u.items.at(-1);if(g)g.raw=g.raw.trimEnd(),g.text=g.text.trimEnd();else return;u.raw=u.raw.trimEnd();for(let y=0;y<u.items.length;y++)if(this.lexer.state.top=!1,u.items[y].tokens=this.lexer.blockTokens(u.items[y].text,[]),!u.loose){let h=u.items[y].tokens.filter(S=>S.type==="space"),v=h.length>0&&h.some(S=>this.rules.other.anyLine.test(S.raw));u.loose=v}if(u.loose)for(let y=0;y<u.items.length;y++)u.items[y].loose=!0;return u}}html(l){let t=this.rules.block.html.exec(l);if(t)return{type:"html",block:!0,raw:t[0],pre:t[1]==="pre"||t[1]==="script"||t[1]==="style",text:t[0]}}def(l){let t=this.rules.block.def.exec(l);if(t){let o=t[1].toLowerCase().replace(this.rules.other.multipleSpaceGlobal," "),a=t[2]?t[2].replace(this.rules.other.hrefBrackets,"$1").replace(this.rules.inline.anyPunctuation,"$1"):"",u=t[3]?t[3].substring(1,t[3].length-1).replace(this.rules.inline.anyPunctuation,"$1"):t[3];return{type:"def",tag:o,raw:t[0],href:a,title:u}}}table(l){var m;let t=this.rules.block.table.exec(l);if(!t||!this.rules.other.tableDelimiter.test(t[2]))return;let o=bm(t[1]),a=t[2].replace(this.rules.other.tableAlignChars,"").split("|"),u=(m=t[3])!=null&&m.trim()?t[3].replace(this.rules.other.tableRowBlankLine,"").split(`
`):[],d={type:"table",raw:t[0],header:[],align:[],rows:[]};if(o.length===a.length){for(let g of a)this.rules.other.tableAlignRight.test(g)?d.align.push("right"):this.rules.other.tableAlignCenter.test(g)?d.align.push("center"):this.rules.other.tableAlignLeft.test(g)?d.align.push("left"):d.align.push(null);for(let g=0;g<o.length;g++)d.header.push({text:o[g],tokens:this.lexer.inline(o[g]),header:!0,align:d.align[g]});for(let g of u)d.rows.push(bm(g,d.header.length).map((y,h)=>({text:y,tokens:this.lexer.inline(y),header:!1,align:d.align[h]})));return d}}lheading(l){let t=this.rules.block.lheading.exec(l);if(t)return{type:"heading",raw:t[0],depth:t[2].charAt(0)==="="?1:2,text:t[1],tokens:this.lexer.inline(t[1])}}paragraph(l){let t=this.rules.block.paragraph.exec(l);if(t){let o=t[1].charAt(t[1].length-1)===`
`?t[1].slice(0,-1):t[1];return{type:"paragraph",raw:t[0],text:o,tokens:this.lexer.inline(o)}}}text(l){let t=this.rules.block.text.exec(l);if(t)return{type:"text",raw:t[0],text:t[0],tokens:this.lexer.inline(t[0])}}escape(l){let t=this.rules.inline.escape.exec(l);if(t)return{type:"escape",raw:t[0],text:t[1]}}tag(l){let t=this.rules.inline.tag.exec(l);if(t)return!this.lexer.state.inLink&&this.rules.other.startATag.test(t[0])?this.lexer.state.inLink=!0:this.lexer.state.inLink&&this.rules.other.endATag.test(t[0])&&(this.lexer.state.inLink=!1),!this.lexer.state.inRawBlock&&this.rules.other.startPreScriptTag.test(t[0])?this.lexer.state.inRawBlock=!0:this.lexer.state.inRawBlock&&this.rules.other.endPreScriptTag.test(t[0])&&(this.lexer.state.inRawBlock=!1),{type:"html",raw:t[0],inLink:this.lexer.state.inLink,inRawBlock:this.lexer.state.inRawBlock,block:!1,text:t[0]}}link(l){let t=this.rules.inline.link.exec(l);if(t){let o=t[2].trim();if(!this.options.pedantic&&this.rules.other.startAngleBracket.test(o)){if(!this.rules.other.endAngleBracket.test(o))return;let d=to(o.slice(0,-1),"\\");if((o.length-d.length)%2===0)return}else{let d=HA(t[2],"()");if(d===-2)return;if(d>-1){let m=(t[0].indexOf("!")===0?5:4)+t[1].length+d;t[2]=t[2].substring(0,d),t[0]=t[0].substring(0,m).trim(),t[3]=""}}let a=t[2],u="";if(this.options.pedantic){let d=this.rules.other.pedanticHrefTitle.exec(a);d&&(a=d[1],u=d[3])}else u=t[3]?t[3].slice(1,-1):"";return a=a.trim(),this.rules.other.startAngleBracket.test(a)&&(this.options.pedantic&&!this.rules.other.endAngleBracket.test(o)?a=a.slice(1):a=a.slice(1,-1)),Dm(t,{href:a&&a.replace(this.rules.inline.anyPunctuation,"$1"),title:u&&u.replace(this.rules.inline.anyPunctuation,"$1")},t[0],this.lexer,this.rules)}}reflink(l,t){let o;if((o=this.rules.inline.reflink.exec(l))||(o=this.rules.inline.nolink.exec(l))){let a=(o[2]||o[1]).replace(this.rules.other.multipleSpaceGlobal," "),u=t[a.toLowerCase()];if(!u){let d=o[0].charAt(0);return{type:"text",raw:d,text:d}}return Dm(o,u,o[0],this.lexer,this.rules)}}emStrong(l,t,o=""){let a=this.rules.inline.emStrongLDelim.exec(l);if(!(!a||a[3]&&o.match(this.rules.other.unicodeAlphaNumeric))&&(!(a[1]||a[2])||!o||this.rules.inline.punctuation.exec(o))){let u=[...a[0]].length-1,d,m,g=u,y=0,h=a[0][0]==="*"?this.rules.inline.emStrongRDelimAst:this.rules.inline.emStrongRDelimUnd;for(h.lastIndex=0,t=t.slice(-1*l.length+u);(a=h.exec(t))!=null;){if(d=a[1]||a[2]||a[3]||a[4]||a[5]||a[6],!d)continue;if(m=[...d].length,a[3]||a[4]){g+=m;continue}else if((a[5]||a[6])&&u%3&&!((u+m)%3)){y+=m;continue}if(g-=m,g>0)continue;m=Math.min(m,m+g+y);let v=[...a[0]][0].length,S=l.slice(0,u+a.index+v+m);if(Math.min(u,m)%2){let R=S.slice(1,-1);return{type:"em",raw:S,text:R,tokens:this.lexer.inlineTokens(R)}}let E=S.slice(2,-2);return{type:"strong",raw:S,text:E,tokens:this.lexer.inlineTokens(E)}}}}codespan(l){let t=this.rules.inline.code.exec(l);if(t){let o=t[2].replace(this.rules.other.newLineCharGlobal," "),a=this.rules.other.nonSpaceChar.test(o),u=this.rules.other.startingSpaceChar.test(o)&&this.rules.other.endingSpaceChar.test(o);return a&&u&&(o=o.substring(1,o.length-1)),{type:"codespan",raw:t[0],text:o}}}br(l){let t=this.rules.inline.br.exec(l);if(t)return{type:"br",raw:t[0]}}del(l){let t=this.rules.inline.del.exec(l);if(t)return{type:"del",raw:t[0],text:t[2],tokens:this.lexer.inlineTokens(t[2])}}autolink(l){let t=this.rules.inline.autolink.exec(l);if(t){let o,a;return t[2]==="@"?(o=t[1],a="mailto:"+o):(o=t[1],a=o),{type:"link",raw:t[0],text:o,href:a,tokens:[{type:"text",raw:o,text:o}]}}}url(l){var o;let t;if(t=this.rules.inline.url.exec(l)){let a,u;if(t[2]==="@")a=t[0],u="mailto:"+a;else{let d;do d=t[0],t[0]=((o=this.rules.inline._backpedal.exec(t[0]))==null?void 0:o[0])??"";while(d!==t[0]);a=t[0],t[1]==="www."?u="http://"+t[0]:u=t[0]}return{type:"link",raw:t[0],text:a,href:u,tokens:[{type:"text",raw:a,text:a}]}}}inlineText(l){let t=this.rules.inline.text.exec(l);if(t){let o=this.lexer.state.inRawBlock;return{type:"text",raw:t[0],text:t[0],escaped:o}}}},Pt=class xr{constructor(t){Ie(this,"tokens");Ie(this,"options");Ie(this,"state");Ie(this,"tokenizer");Ie(this,"inlineQueue");this.tokens=[],this.tokens.links=Object.create(null),this.options=t||fl,this.options.tokenizer=this.options.tokenizer||new La,this.tokenizer=this.options.tokenizer,this.tokenizer.options=this.options,this.tokenizer.lexer=this,this.inlineQueue=[],this.state={inLink:!1,inRawBlock:!1,top:!0};let o={other:ut,block:Ma.normal,inline:eo.normal};this.options.pedantic?(o.block=Ma.pedantic,o.inline=eo.pedantic):this.options.gfm&&(o.block=Ma.gfm,this.options.breaks?o.inline=eo.breaks:o.inline=eo.gfm),this.tokenizer.rules=o}static get rules(){return{block:Ma,inline:eo}}static lex(t,o){return new xr(o).lex(t)}static lexInline(t,o){return new xr(o).inlineTokens(t)}lex(t){t=t.replace(ut.carriageReturn,`
`),this.blockTokens(t,this.tokens);for(let o=0;o<this.inlineQueue.length;o++){let a=this.inlineQueue[o];this.inlineTokens(a.src,a.tokens)}return this.inlineQueue=[],this.tokens}blockTokens(t,o=[],a=!1){var u,d,m;for(this.options.pedantic&&(t=t.replace(ut.tabCharGlobal,"    ").replace(ut.spaceLine,""));t;){let g;if((d=(u=this.options.extensions)==null?void 0:u.block)!=null&&d.some(h=>(g=h.call({lexer:this},t,o))?(t=t.substring(g.raw.length),o.push(g),!0):!1))continue;if(g=this.tokenizer.space(t)){t=t.substring(g.raw.length);let h=o.at(-1);g.raw.length===1&&h!==void 0?h.raw+=`
`:o.push(g);continue}if(g=this.tokenizer.code(t)){t=t.substring(g.raw.length);let h=o.at(-1);(h==null?void 0:h.type)==="paragraph"||(h==null?void 0:h.type)==="text"?(h.raw+=(h.raw.endsWith(`
`)?"":`
`)+g.raw,h.text+=`
`+g.text,this.inlineQueue.at(-1).src=h.text):o.push(g);continue}if(g=this.tokenizer.fences(t)){t=t.substring(g.raw.length),o.push(g);continue}if(g=this.tokenizer.heading(t)){t=t.substring(g.raw.length),o.push(g);continue}if(g=this.tokenizer.hr(t)){t=t.substring(g.raw.length),o.push(g);continue}if(g=this.tokenizer.blockquote(t)){t=t.substring(g.raw.length),o.push(g);continue}if(g=this.tokenizer.list(t)){t=t.substring(g.raw.length),o.push(g);continue}if(g=this.tokenizer.html(t)){t=t.substring(g.raw.length),o.push(g);continue}if(g=this.tokenizer.def(t)){t=t.substring(g.raw.length);let h=o.at(-1);(h==null?void 0:h.type)==="paragraph"||(h==null?void 0:h.type)==="text"?(h.raw+=(h.raw.endsWith(`
`)?"":`
`)+g.raw,h.text+=`
`+g.raw,this.inlineQueue.at(-1).src=h.text):this.tokens.links[g.tag]||(this.tokens.links[g.tag]={href:g.href,title:g.title},o.push(g));continue}if(g=this.tokenizer.table(t)){t=t.substring(g.raw.length),o.push(g);continue}if(g=this.tokenizer.lheading(t)){t=t.substring(g.raw.length),o.push(g);continue}let y=t;if((m=this.options.extensions)!=null&&m.startBlock){let h=1/0,v=t.slice(1),S;this.options.extensions.startBlock.forEach(E=>{S=E.call({lexer:this},v),typeof S=="number"&&S>=0&&(h=Math.min(h,S))}),h<1/0&&h>=0&&(y=t.substring(0,h+1))}if(this.state.top&&(g=this.tokenizer.paragraph(y))){let h=o.at(-1);a&&(h==null?void 0:h.type)==="paragraph"?(h.raw+=(h.raw.endsWith(`
`)?"":`
`)+g.raw,h.text+=`
`+g.text,this.inlineQueue.pop(),this.inlineQueue.at(-1).src=h.text):o.push(g),a=y.length!==t.length,t=t.substring(g.raw.length);continue}if(g=this.tokenizer.text(t)){t=t.substring(g.raw.length);let h=o.at(-1);(h==null?void 0:h.type)==="text"?(h.raw+=(h.raw.endsWith(`
`)?"":`
`)+g.raw,h.text+=`
`+g.text,this.inlineQueue.pop(),this.inlineQueue.at(-1).src=h.text):o.push(g);continue}if(t){let h="Infinite loop on byte: "+t.charCodeAt(0);if(this.options.silent){console.error(h);break}else throw new Error(h)}}return this.state.top=!0,o}inline(t,o=[]){return this.inlineQueue.push({src:t,tokens:o}),o}inlineTokens(t,o=[]){var g,y,h,v,S;let a=t,u=null;if(this.tokens.links){let E=Object.keys(this.tokens.links);if(E.length>0)for(;(u=this.tokenizer.rules.inline.reflinkSearch.exec(a))!=null;)E.includes(u[0].slice(u[0].lastIndexOf("[")+1,-1))&&(a=a.slice(0,u.index)+"["+"a".repeat(u[0].length-2)+"]"+a.slice(this.tokenizer.rules.inline.reflinkSearch.lastIndex))}for(;(u=this.tokenizer.rules.inline.anyPunctuation.exec(a))!=null;)a=a.slice(0,u.index)+"++"+a.slice(this.tokenizer.rules.inline.anyPunctuation.lastIndex);for(;(u=this.tokenizer.rules.inline.blockSkip.exec(a))!=null;)a=a.slice(0,u.index)+"["+"a".repeat(u[0].length-2)+"]"+a.slice(this.tokenizer.rules.inline.blockSkip.lastIndex);a=((y=(g=this.options.hooks)==null?void 0:g.emStrongMask)==null?void 0:y.call({lexer:this},a))??a;let d=!1,m="";for(;t;){d||(m=""),d=!1;let E;if((v=(h=this.options.extensions)==null?void 0:h.inline)!=null&&v.some(N=>(E=N.call({lexer:this},t,o))?(t=t.substring(E.raw.length),o.push(E),!0):!1))continue;if(E=this.tokenizer.escape(t)){t=t.substring(E.raw.length),o.push(E);continue}if(E=this.tokenizer.tag(t)){t=t.substring(E.raw.length),o.push(E);continue}if(E=this.tokenizer.link(t)){t=t.substring(E.raw.length),o.push(E);continue}if(E=this.tokenizer.reflink(t,this.tokens.links)){t=t.substring(E.raw.length);let N=o.at(-1);E.type==="text"&&(N==null?void 0:N.type)==="text"?(N.raw+=E.raw,N.text+=E.text):o.push(E);continue}if(E=this.tokenizer.emStrong(t,a,m)){t=t.substring(E.raw.length),o.push(E);continue}if(E=this.tokenizer.codespan(t)){t=t.substring(E.raw.length),o.push(E);continue}if(E=this.tokenizer.br(t)){t=t.substring(E.raw.length),o.push(E);continue}if(E=this.tokenizer.del(t)){t=t.substring(E.raw.length),o.push(E);continue}if(E=this.tokenizer.autolink(t)){t=t.substring(E.raw.length),o.push(E);continue}if(!this.state.inLink&&(E=this.tokenizer.url(t))){t=t.substring(E.raw.length),o.push(E);continue}let R=t;if((S=this.options.extensions)!=null&&S.startInline){let N=1/0,z=t.slice(1),O;this.options.extensions.startInline.forEach(P=>{O=P.call({lexer:this},z),typeof O=="number"&&O>=0&&(N=Math.min(N,O))}),N<1/0&&N>=0&&(R=t.substring(0,N+1))}if(E=this.tokenizer.inlineText(R)){t=t.substring(E.raw.length),E.raw.slice(-1)!=="_"&&(m=E.raw.slice(-1)),d=!0;let N=o.at(-1);(N==null?void 0:N.type)==="text"?(N.raw+=E.raw,N.text+=E.text):o.push(E);continue}if(t){let N="Infinite loop on byte: "+t.charCodeAt(0);if(this.options.silent){console.error(N);break}else throw new Error(N)}}return o}},qa=class{constructor(l){Ie(this,"options");Ie(this,"parser");this.options=l||fl}space(l){return""}code({text:l,lang:t,escaped:o}){var d;let a=(d=(t||"").match(ut.notSpaceStart))==null?void 0:d[0],u=l.replace(ut.endingNewline,"")+`
`;return a?'<pre><code class="language-'+Xt(a)+'">'+(o?u:Xt(u,!0))+`</code></pre>
`:"<pre><code>"+(o?u:Xt(u,!0))+`</code></pre>
`}blockquote({tokens:l}){return`<blockquote>
${this.parser.parse(l)}</blockquote>
`}html({text:l}){return l}def(l){return""}heading({tokens:l,depth:t}){return`<h${t}>${this.parser.parseInline(l)}</h${t}>
`}hr(l){return`<hr>
`}list(l){let t=l.ordered,o=l.start,a="";for(let m=0;m<l.items.length;m++){let g=l.items[m];a+=this.listitem(g)}let u=t?"ol":"ul",d=t&&o!==1?' start="'+o+'"':"";return"<"+u+d+`>
`+a+"</"+u+`>
`}listitem(l){var o;let t="";if(l.task){let a=this.checkbox({checked:!!l.checked});l.loose?((o=l.tokens[0])==null?void 0:o.type)==="paragraph"?(l.tokens[0].text=a+" "+l.tokens[0].text,l.tokens[0].tokens&&l.tokens[0].tokens.length>0&&l.tokens[0].tokens[0].type==="text"&&(l.tokens[0].tokens[0].text=a+" "+Xt(l.tokens[0].tokens[0].text),l.tokens[0].tokens[0].escaped=!0)):l.tokens.unshift({type:"text",raw:a+" ",text:a+" ",escaped:!0}):t+=a+" "}return t+=this.parser.parse(l.tokens,!!l.loose),`<li>${t}</li>
`}checkbox({checked:l}){return"<input "+(l?'checked="" ':"")+'disabled="" type="checkbox">'}paragraph({tokens:l}){return`<p>${this.parser.parseInline(l)}</p>
`}table(l){let t="",o="";for(let u=0;u<l.header.length;u++)o+=this.tablecell(l.header[u]);t+=this.tablerow({text:o});let a="";for(let u=0;u<l.rows.length;u++){let d=l.rows[u];o="";for(let m=0;m<d.length;m++)o+=this.tablecell(d[m]);a+=this.tablerow({text:o})}return a&&(a=`<tbody>${a}</tbody>`),`<table>
<thead>
`+t+`</thead>
`+a+`</table>
`}tablerow({text:l}){return`<tr>
${l}</tr>
`}tablecell(l){let t=this.parser.parseInline(l.tokens),o=l.header?"th":"td";return(l.align?`<${o} align="${l.align}">`:`<${o}>`)+t+`</${o}>
`}strong({tokens:l}){return`<strong>${this.parser.parseInline(l)}</strong>`}em({tokens:l}){return`<em>${this.parser.parseInline(l)}</em>`}codespan({text:l}){return`<code>${Xt(l,!0)}</code>`}br(l){return"<br>"}del({tokens:l}){return`<del>${this.parser.parseInline(l)}</del>`}link({href:l,title:t,tokens:o}){let a=this.parser.parseInline(o),u=Nm(l);if(u===null)return a;l=u;let d='<a href="'+l+'"';return t&&(d+=' title="'+Xt(t)+'"'),d+=">"+a+"</a>",d}image({href:l,title:t,text:o,tokens:a}){a&&(o=this.parser.parseInline(a,this.parser.textRenderer));let u=Nm(l);if(u===null)return Xt(o);l=u;let d=`<img src="${l}" alt="${o}"`;return t&&(d+=` title="${Xt(t)}"`),d+=">",d}text(l){return"tokens"in l&&l.tokens?this.parser.parseInline(l.tokens):"escaped"in l&&l.escaped?l.text:Xt(l.text)}},Jr=class{strong({text:l}){return l}em({text:l}){return l}codespan({text:l}){return l}del({text:l}){return l}html({text:l}){return l}text({text:l}){return l}link({text:l}){return""+l}image({text:l}){return""+l}br(){return""}},Ot=class Rr{constructor(t){Ie(this,"options");Ie(this,"renderer");Ie(this,"textRenderer");this.options=t||fl,this.options.renderer=this.options.renderer||new qa,this.renderer=this.options.renderer,this.renderer.options=this.options,this.renderer.parser=this,this.textRenderer=new Jr}static parse(t,o){return new Rr(o).parse(t)}static parseInline(t,o){return new Rr(o).parseInline(t)}parse(t,o=!0){var u,d;let a="";for(let m=0;m<t.length;m++){let g=t[m];if((d=(u=this.options.extensions)==null?void 0:u.renderers)!=null&&d[g.type]){let h=g,v=this.options.extensions.renderers[h.type].call({parser:this},h);if(v!==!1||!["space","hr","heading","code","table","blockquote","list","html","def","paragraph","text"].includes(h.type)){a+=v||"";continue}}let y=g;switch(y.type){case"space":{a+=this.renderer.space(y);continue}case"hr":{a+=this.renderer.hr(y);continue}case"heading":{a+=this.renderer.heading(y);continue}case"code":{a+=this.renderer.code(y);continue}case"table":{a+=this.renderer.table(y);continue}case"blockquote":{a+=this.renderer.blockquote(y);continue}case"list":{a+=this.renderer.list(y);continue}case"html":{a+=this.renderer.html(y);continue}case"def":{a+=this.renderer.def(y);continue}case"paragraph":{a+=this.renderer.paragraph(y);continue}case"text":{let h=y,v=this.renderer.text(h);for(;m+1<t.length&&t[m+1].type==="text";)h=t[++m],v+=`
`+this.renderer.text(h);o?a+=this.renderer.paragraph({type:"paragraph",raw:v,text:v,tokens:[{type:"text",raw:v,text:v,escaped:!0}]}):a+=v;continue}default:{let h='Token with "'+y.type+'" type was not found.';if(this.options.silent)return console.error(h),"";throw new Error(h)}}}return a}parseInline(t,o=this.renderer){var u,d;let a="";for(let m=0;m<t.length;m++){let g=t[m];if((d=(u=this.options.extensions)==null?void 0:u.renderers)!=null&&d[g.type]){let h=this.options.extensions.renderers[g.type].call({parser:this},g);if(h!==!1||!["escape","html","link","image","strong","em","codespan","br","del","text"].includes(g.type)){a+=h||"";continue}}let y=g;switch(y.type){case"escape":{a+=o.text(y);break}case"html":{a+=o.html(y);break}case"link":{a+=o.link(y);break}case"image":{a+=o.image(y);break}case"strong":{a+=o.strong(y);break}case"em":{a+=o.em(y);break}case"codespan":{a+=o.codespan(y);break}case"br":{a+=o.br(y);break}case"del":{a+=o.del(y);break}case"text":{a+=o.text(y);break}default:{let h='Token with "'+y.type+'" type was not found.';if(this.options.silent)return console.error(h),"";throw new Error(h)}}}return a}},Na,no=(Na=class{constructor(l){Ie(this,"options");Ie(this,"block");this.options=l||fl}preprocess(l){return l}postprocess(l){return l}processAllTokens(l){return l}emStrongMask(l){return l}provideLexer(){return this.block?Pt.lex:Pt.lexInline}provideParser(){return this.block?Ot.parse:Ot.parseInline}},Ie(Na,"passThroughHooks",new Set(["preprocess","postprocess","processAllTokens","emStrongMask"])),Ie(Na,"passThroughHooksRespectAsync",new Set(["preprocess","postprocess","processAllTokens"])),Na),BA=class{constructor(...l){Ie(this,"defaults",zr());Ie(this,"options",this.setOptions);Ie(this,"parse",this.parseMarkdown(!0));Ie(this,"parseInline",this.parseMarkdown(!1));Ie(this,"Parser",Ot);Ie(this,"Renderer",qa);Ie(this,"TextRenderer",Jr);Ie(this,"Lexer",Pt);Ie(this,"Tokenizer",La);Ie(this,"Hooks",no);this.use(...l)}walkTokens(l,t){var a,u;let o=[];for(let d of l)switch(o=o.concat(t.call(this,d)),d.type){case"table":{let m=d;for(let g of m.header)o=o.concat(this.walkTokens(g.tokens,t));for(let g of m.rows)for(let y of g)o=o.concat(this.walkTokens(y.tokens,t));break}case"list":{let m=d;o=o.concat(this.walkTokens(m.items,t));break}default:{let m=d;(u=(a=this.defaults.extensions)==null?void 0:a.childTokens)!=null&&u[m.type]?this.defaults.extensions.childTokens[m.type].forEach(g=>{let y=m[g].flat(1/0);o=o.concat(this.walkTokens(y,t))}):m.tokens&&(o=o.concat(this.walkTokens(m.tokens,t)))}}return o}use(...l){let t=this.defaults.extensions||{renderers:{},childTokens:{}};return l.forEach(o=>{let a={...o};if(a.async=this.defaults.async||a.async||!1,o.extensions&&(o.extensions.forEach(u=>{if(!u.name)throw new Error("extension name required");if("renderer"in u){let d=t.renderers[u.name];d?t.renderers[u.name]=function(...m){let g=u.renderer.apply(this,m);return g===!1&&(g=d.apply(this,m)),g}:t.renderers[u.name]=u.renderer}if("tokenizer"in u){if(!u.level||u.level!=="block"&&u.level!=="inline")throw new Error("extension level must be 'block' or 'inline'");let d=t[u.level];d?d.unshift(u.tokenizer):t[u.level]=[u.tokenizer],u.start&&(u.level==="block"?t.startBlock?t.startBlock.push(u.start):t.startBlock=[u.start]:u.level==="inline"&&(t.startInline?t.startInline.push(u.start):t.startInline=[u.start]))}"childTokens"in u&&u.childTokens&&(t.childTokens[u.name]=u.childTokens)}),a.extensions=t),o.renderer){let u=this.defaults.renderer||new qa(this.defaults);for(let d in o.renderer){if(!(d in u))throw new Error(`renderer '${d}' does not exist`);if(["options","parser"].includes(d))continue;let m=d,g=o.renderer[m],y=u[m];u[m]=(...h)=>{let v=g.apply(u,h);return v===!1&&(v=y.apply(u,h)),v||""}}a.renderer=u}if(o.tokenizer){let u=this.defaults.tokenizer||new La(this.defaults);for(let d in o.tokenizer){if(!(d in u))throw new Error(`tokenizer '${d}' does not exist`);if(["options","rules","lexer"].includes(d))continue;let m=d,g=o.tokenizer[m],y=u[m];u[m]=(...h)=>{let v=g.apply(u,h);return v===!1&&(v=y.apply(u,h)),v}}a.tokenizer=u}if(o.hooks){let u=this.defaults.hooks||new no;for(let d in o.hooks){if(!(d in u))throw new Error(`hook '${d}' does not exist`);if(["options","block"].includes(d))continue;let m=d,g=o.hooks[m],y=u[m];no.passThroughHooks.has(d)?u[m]=h=>{if(this.defaults.async&&no.passThroughHooksRespectAsync.has(d))return(async()=>{let S=await g.call(u,h);return y.call(u,S)})();let v=g.call(u,h);return y.call(u,v)}:u[m]=(...h)=>{if(this.defaults.async)return(async()=>{let S=await g.apply(u,h);return S===!1&&(S=await y.apply(u,h)),S})();let v=g.apply(u,h);return v===!1&&(v=y.apply(u,h)),v}}a.hooks=u}if(o.walkTokens){let u=this.defaults.walkTokens,d=o.walkTokens;a.walkTokens=function(m){let g=[];return g.push(d.call(this,m)),u&&(g=g.concat(u.call(this,m))),g}}this.defaults={...this.defaults,...a}}),this}setOptions(l){return this.defaults={...this.defaults,...l},this}lexer(l,t){return Pt.lex(l,t??this.defaults)}parser(l,t){return Ot.parse(l,t??this.defaults)}parseMarkdown(l){return(t,o)=>{let a={...o},u={...this.defaults,...a},d=this.onError(!!u.silent,!!u.async);if(this.defaults.async===!0&&a.async===!1)return d(new Error("marked(): The async option was set to true by an extension. Remove async: false from the parse options object to return a Promise."));if(typeof t>"u"||t===null)return d(new Error("marked(): input parameter is undefined or null"));if(typeof t!="string")return d(new Error("marked(): input parameter is of type "+Object.prototype.toString.call(t)+", string expected"));if(u.hooks&&(u.hooks.options=u,u.hooks.block=l),u.async)return(async()=>{let m=u.hooks?await u.hooks.preprocess(t):t,g=await(u.hooks?await u.hooks.provideLexer():l?Pt.lex:Pt.lexInline)(m,u),y=u.hooks?await u.hooks.processAllTokens(g):g;u.walkTokens&&await Promise.all(this.walkTokens(y,u.walkTokens));let h=await(u.hooks?await u.hooks.provideParser():l?Ot.parse:Ot.parseInline)(y,u);return u.hooks?await u.hooks.postprocess(h):h})().catch(d);try{u.hooks&&(t=u.hooks.preprocess(t));let m=(u.hooks?u.hooks.provideLexer():l?Pt.lex:Pt.lexInline)(t,u);u.hooks&&(m=u.hooks.processAllTokens(m)),u.walkTokens&&this.walkTokens(m,u.walkTokens);let g=(u.hooks?u.hooks.provideParser():l?Ot.parse:Ot.parseInline)(m,u);return u.hooks&&(g=u.hooks.postprocess(g)),g}catch(m){return d(m)}}}onError(l,t){return o=>{if(o.message+=`
Please report this to https://github.com/markedjs/marked.`,l){let a="<p>An error occurred:</p><pre>"+Xt(o.message+"",!0)+"</pre>";return t?Promise.resolve(a):a}if(t)return Promise.reject(o);throw o}}},rl=new BA;function Re(l,t){return rl.parse(l,t)}Re.options=Re.setOptions=function(l){return rl.setOptions(l),Re.defaults=rl.defaults,ag(Re.defaults),Re};Re.getDefaults=zr;Re.defaults=fl;Re.use=function(...l){return rl.use(...l),Re.defaults=rl.defaults,ag(Re.defaults),Re};Re.walkTokens=function(l,t){return rl.walkTokens(l,t)};Re.parseInline=rl.parseInline;Re.Parser=Ot;Re.parser=Ot.parse;Re.Renderer=qa;Re.TextRenderer=Jr;Re.Lexer=Pt;Re.lexer=Pt.lex;Re.Tokenizer=La;Re.Hooks=no;Re.parse=Re;Re.options;Re.setOptions;Re.use;Re.walkTokens;Re.parseInline;Ot.parse;Pt.lex;const PA=()=>{const[l,t]=xe.useState([]),[o,a]=xe.useState(""),[u,d]=xe.useState(!1),[m,g]=xe.useState(null),y=xe.useRef(null);xe.useEffect(()=>{const S=Um();S.length===0?t([{role:"model",text:"Ciao! Sono il tuo mental coach AI. Come ti senti riguardo ai tuoi studi oggi?"}]):t(S)},[]),xe.useEffect(()=>{var S;(S=y.current)==null||S.scrollIntoView({behavior:"smooth"}),l.length>0&&tv(l)},[l]);const h=async()=>{if(o.trim()===""||u)return;const S={role:"user",text:o};t(R=>[...R,S]);const E=o;a(""),d(!0),g(null);try{const R=Date.now(),N=await iA(l,E),z=(Date.now()-R)/1e3,O={role:"model",text:N,duration:z};t(P=>[...P,O])}catch(R){g(R.message||"Impossibile ottenere una risposta."),t(N=>N.slice(0,-1))}finally{d(!1)}},v=S=>{const E=typeof S=="string"?S:"";return{__html:Re.parse(E,{breaks:!0,gfm:!0})}};return w.jsxs("div",{className:"flex flex-col h-full max-h-[calc(100vh-8rem)]",children:[w.jsx("h1",{className:"text-2xl font-bold text-center text-cyan-300 mb-4",children:"Mental Coach AI"}),w.jsxs("div",{className:"flex-1 overflow-y-auto pr-2 space-y-4 pb-4",children:[l.map((S,E)=>w.jsxs("div",{className:`flex flex-col ${S.role==="user"?"items-end":"items-start"}`,children:[w.jsxs("div",{className:`flex items-end gap-2 ${S.role==="user"?"justify-end":"justify-start"} w-full`,children:[S.role==="model"&&w.jsx("div",{className:"w-8 h-8 rounded-full bg-cyan-500 flex items-center justify-center text-white font-bold text-sm flex-shrink-0",children:"AI"}),w.jsx("div",{className:`max-w-xs md:max-w-md p-3 rounded-2xl shadow-md ${S.role==="user"?"bg-cyan-600 text-white rounded-br-none":"bg-slate-700 text-slate-200 rounded-bl-none"}`,children:w.jsx("div",{className:"prose prose-sm prose-invert",dangerouslySetInnerHTML:v(S.text)})})]}),S.role==="model"&&S.duration&&w.jsxs("p",{className:"text-xs text-slate-500 mt-1 ml-10",children:["Risposta in ",S.duration.toFixed(2),"s"]})]},E)),u&&w.jsxs("div",{className:"flex items-end gap-2 justify-start",children:[w.jsx("div",{className:"w-8 h-8 rounded-full bg-cyan-500 flex items-center justify-center text-white font-bold text-sm flex-shrink-0",children:"AI"}),w.jsx("div",{className:"bg-slate-700 p-3 rounded-2xl rounded-bl-none",children:w.jsxs("div",{className:"flex items-center justify-center space-x-1",children:[w.jsx("div",{className:"w-2 h-2 bg-slate-400 rounded-full animate-pulse [animation-delay:-0.3s]"}),w.jsx("div",{className:"w-2 h-2 bg-slate-400 rounded-full animate-pulse [animation-delay:-0.15s]"}),w.jsx("div",{className:"w-2 h-2 bg-slate-400 rounded-full animate-pulse"})]})})]}),m&&w.jsx("p",{className:"text-red-400 text-sm text-center",children:m}),w.jsx("div",{ref:y})]}),w.jsxs("div",{className:"mt-auto pt-4 flex items-center gap-2 bg-slate-900",children:[w.jsx("input",{type:"text",value:o,onChange:S=>a(S.target.value),onKeyPress:S=>S.key==="Enter"&&h(),placeholder:"Chiedi un consiglio...",className:"flex-1 p-3 bg-slate-700 border border-transparent rounded-full focus:outline-none focus:ring-2 focus:ring-cyan-500 transition-shadow",disabled:u}),w.jsx("button",{onClick:h,disabled:u||o.trim()==="",className:"bg-cyan-500 text-white p-3 rounded-full hover:bg-cyan-600 transition-colors disabled:bg-slate-600 disabled:cursor-not-allowed shadow-lg shadow-cyan-500/20",children:w.jsx("div",{className:"w-6 h-6",children:w.jsx(dv,{})})})]})]})},Im="focusflow_api_key",OA=()=>{const l=xe.useRef(null),[t,o]=xe.useState(""),[a,u]=xe.useState(null),[d,m]=xe.useState(null);xe.useEffect(()=>{const R=localStorage.getItem(Im);u(R)},[]);const g=(R,N)=>{m({type:R,message:N}),setTimeout(()=>m(null),3e3)},y=()=>{t.trim()?(localStorage.setItem(Im,t.trim()),u(t.trim()),g("success","Chiave API salvata con successo!"),o(""),Am()):g("error","Il campo della chiave API non può essere vuoto.")},h=()=>{localStorage.removeItem("focusflow_chat_history"),Am(),g("success","La cronologia della chat è stata cancellata.")},v=()=>{try{const R=nv(),N=JSON.stringify(R,null,2),z=new Blob([N],{type:"application/json"}),O=URL.createObjectURL(z),P=document.createElement("a");P.href=O,P.download=`focusflow_backup_${new Date().toISOString().split("T")[0]}.json`,document.body.appendChild(P),P.click(),document.body.removeChild(P),URL.revokeObjectURL(O),g("success","Dati esportati con successo!")}catch(R){console.error("Errore nell'esportazione dei dati",R),g("error","Impossibile esportare i dati.")}},S=()=>{var R;(R=l.current)==null||R.click()},E=R=>{var O;const N=(O=R.target.files)==null?void 0:O[0];if(!N)return;const z=new FileReader;z.onload=P=>{var B;const K=(B=P.target)==null?void 0:B.result;if(typeof K=="string"){const V=lv(K);V.success?(g("success",V.message),setTimeout(()=>window.location.reload(),1e3)):g("error",V.message)}},z.onerror=()=>{g("error","Impossibile leggere il file.")},z.readAsText(N),l.current&&(l.current.value="")};return w.jsxs("div",{className:"space-y-6 animate-fade-in",children:[w.jsx("h1",{className:"text-3xl font-bold text-center text-cyan-300",children:"Impostazioni"}),d&&w.jsx("div",{className:`fixed top-5 right-5 p-4 rounded-lg shadow-lg text-white ${d.type==="success"?"bg-green-500":"bg-red-500"} z-[100] animate-fade-in-down`,children:d.message}),w.jsxs("div",{className:"space-y-8",children:[w.jsxs("div",{className:"bg-slate-800 p-6 rounded-2xl shadow-lg",children:[w.jsx("h2",{className:"text-xl font-semibold text-cyan-200 mb-3",children:"Gestione Chiave API Gemini"}),w.jsx("p",{className:"text-slate-400 mb-4",children:"Per utilizzare le funzionalità AI, incolla qui la tua chiave API di Google Gemini. La chiave verrà salvata solo nel tuo browser."}),w.jsxs("div",{className:"flex flex-col sm:flex-row gap-2",children:[w.jsx("input",{type:"password",value:t,onChange:R=>o(R.target.value),placeholder:"Incolla la tua chiave API qui",className:"flex-1 p-3 bg-slate-700 border border-slate-600 rounded-lg focus:outline-none focus:ring-2 focus:ring-cyan-500 transition-shadow"}),w.jsx("button",{onClick:y,className:"bg-cyan-500 text-white font-bold py-3 px-6 rounded-lg hover:bg-cyan-600 transition-colors shadow-lg shadow-cyan-500/20",children:"Salva"})]}),a&&w.jsx("p",{className:"text-sm text-green-400 mt-3",children:"Chiave API salvata correttamente."}),w.jsxs("p",{className:"text-xs text-slate-500 mt-3",children:["Ottieni la tua chiave API da ",w.jsx("a",{href:"https://aistudio.google.com/app/apikey",target:"_blank",rel:"noopener noreferrer",className:"text-cyan-400 hover:underline",children:"Google AI Studio"}),"."]})]}),w.jsxs("div",{className:"bg-slate-800 p-6 rounded-2xl shadow-lg",children:[w.jsx("h2",{className:"text-xl font-semibold text-cyan-200 mb-4",children:"Gestione Dati"}),w.jsx("p",{className:"text-slate-400 mb-6",children:"Esegui il backup dei tuoi dati o importali da un file. Puoi anche cancellare la cronologia della chat."}),w.jsxs("div",{className:"grid grid-cols-1 sm:grid-cols-3 gap-4",children:[w.jsx("button",{onClick:v,className:"w-full bg-slate-600 text-white font-bold py-3 px-4 rounded-xl hover:bg-slate-500 transition-colors",children:"Esporta Dati"}),w.jsx("button",{onClick:S,className:"w-full bg-slate-600 text-white font-bold py-3 px-4 rounded-xl hover:bg-slate-500 transition-colors",children:"Importa Dati"}),w.jsx("button",{onClick:h,className:"w-full bg-red-600 text-white font-bold py-3 px-4 rounded-xl hover:bg-red-500 transition-colors",children:"Resetta Chat"}),w.jsx("input",{type:"file",ref:l,onChange:E,accept:".json",className:"hidden"})]})]})]})]})},YA=({currentView:l,setCurrentView:t})=>{const o=[{view:"timer",label:"Timer",icon:w.jsx(ov,{})},{view:"analysis",label:"Analisi",icon:w.jsx(av,{})},{view:"chat",label:"Coach",icon:w.jsx(sv,{})},{view:"settings",label:"Impostazioni",icon:w.jsx(uv,{})}];return w.jsx("nav",{className:"fixed bottom-0 left-0 right-0 p-4 z-50",children:w.jsx("div",{className:"mx-auto max-w-sm bg-slate-800/80 backdrop-blur-sm rounded-full shadow-2xl shadow-black/30",children:w.jsx("div",{className:"flex justify-around items-center p-2",children:o.map(a=>w.jsxs("button",{onClick:()=>t(a.view),className:`flex flex-col items-center justify-center w-16 h-16 rounded-full transition-colors duration-300 ${l===a.view?"text-cyan-400":"text-slate-400 hover:text-cyan-300"}`,"aria-label":a.label,children:[w.jsx("div",{className:"w-7 h-7 mb-1",children:a.icon}),w.jsx("span",{className:"text-xs font-medium",children:a.label})]},a.view))})})})},JA=()=>{const[l,t]=xe.useState("timer"),o=()=>{switch(l){case"timer":return w.jsx(oh,{});case"analysis":return w.jsx(oA,{});case"chat":return w.jsx(PA,{});case"settings":return w.jsx(OA,{});default:return w.jsx(oh,{})}};return w.jsxs("div",{className:"flex flex-col h-screen font-sans bg-slate-900 text-slate-100",children:[w.jsx("main",{className:"flex-1 overflow-y-auto p-4 md:p-6 pb-32",children:w.jsx("div",{className:"max-w-3xl mx-auto",children:o()})}),w.jsx("footer",{className:"fixed bottom-24 left-0 right-0 text-center text-xs text-slate-500 pb-2 z-40 pointer-events-none",children:"Creato da Gabriele Ottonelli"}),w.jsx(YA,{currentView:l,setCurrentView:t})]})},yg=document.getElementById("root");if(!yg)throw new Error("Could not find root element to mount to");const FA=ev.createRoot(yg);FA.render(w.jsx(F0.StrictMode,{children:w.jsx(JA,{})}));
